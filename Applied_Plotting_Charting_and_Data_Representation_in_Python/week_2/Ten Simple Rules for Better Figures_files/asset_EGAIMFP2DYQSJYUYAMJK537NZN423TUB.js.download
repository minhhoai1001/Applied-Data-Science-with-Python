function FastClick(j,i){function p(d,c){return function(){return d.apply(c,arguments);};}var o;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=j,this.tapDelay=i.tapDelay||200,!FastClick.notNeeded(j)){for(var n=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],m=this,l=0,k=n.length;k>l;l++){m[n[l]]=p(m[n[l]],m);}deviceIsAndroid&&(j.addEventListener("mouseover",this.onMouse,!0),j.addEventListener("mousedown",this.onMouse,!0),j.addEventListener("mouseup",this.onMouse,!0)),j.addEventListener("click",this.onClick,!0),j.addEventListener("touchstart",this.onTouchStart,!1),j.addEventListener("touchmove",this.onTouchMove,!1),j.addEventListener("touchend",this.onTouchEnd,!1),j.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(j.removeEventListener=function(a,h,g){var f=Node.prototype.removeEventListener;"click"===a?f.call(j,a,h.hijacked||h,g):f.call(j,a,h,g);},j.addEventListener=function(a,h,g){var f=Node.prototype.addEventListener;"click"===a?f.call(j,a,h.hijacked||(h.hijacked=function(b){b.propagationStopped||h(b);}),g):f.call(j,a,h,g);}),"function"==typeof j.onclick&&(o=j.onclick,j.addEventListener("click",function(b){o(b);},!1),j.onclick=null);}}var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(b){switch(b.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(b.disabled){return !0;}break;case"input":if(deviceIsIOS&&"file"===b.type||b.disabled){return !0;}break;case"label":case"video":return !0;}return/\bneedsclick\b/.test(b.className);},FastClick.prototype.needsFocus=function(b){switch(b.nodeName.toLowerCase()){case"textarea":return !0;case"select":return !deviceIsAndroid;case"input":switch(b.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return !1;}return !b.disabled&&!b.readOnly;default:return/\bneedsfocus\b/.test(b.className);}},FastClick.prototype.sendClick=function(f,e){var h,g;document.activeElement&&document.activeElement!==f&&document.activeElement.blur(),g=e.changedTouches[0],h=document.createEvent("MouseEvents"),h.initMouseEvent(this.determineEventType(f),!0,!0,window,1,g.screenX,g.screenY,g.clientX,g.clientY,!1,!1,!1,!1,0,null),h.forwardedTouchEvent=!0,f.dispatchEvent(h);},FastClick.prototype.determineEventType=function(b){return deviceIsAndroid&&"select"===b.tagName.toLowerCase()?"mousedown":"click";},FastClick.prototype.focus=function(d){var c;deviceIsIOS&&d.setSelectionRange&&0!==d.type.indexOf("date")&&"time"!==d.type?(c=d.value.length,d.setSelectionRange(c,c)):d.focus();},FastClick.prototype.updateScrollParent=function(e){var d,f;if(d=e.fastClickScrollParent,!d||!d.contains(e)){f=e;do{if(f.scrollHeight>f.offsetHeight){d=f,e.fastClickScrollParent=f;break;}f=f.parentElement;}while(f);}d&&(d.fastClickLastScrollTop=d.scrollTop);},FastClick.prototype.getTargetElementFromEventTarget=function(b){return b.nodeType===Node.TEXT_NODE?b.parentNode:b;},FastClick.prototype.onTouchStart=function(f){var e,h,g;if(f.targetTouches.length>1){return !0;}if(e=this.getTargetElementFromEventTarget(f.target),h=f.targetTouches[0],deviceIsIOS){if(g=window.getSelection(),g.rangeCount&&!g.isCollapsed){return !0;}if(!deviceIsIOS4){if(h.identifier===this.lastTouchIdentifier){return f.preventDefault(),!1;}this.lastTouchIdentifier=h.identifier,this.updateScrollParent(e);}}return this.trackingClick=!0,this.trackingClickStart=f.timeStamp,this.targetElement=e,this.touchStartX=h.pageX,this.touchStartY=h.pageY,f.timeStamp-this.lastClickTime<this.tapDelay&&f.preventDefault(),!0;},FastClick.prototype.touchHasMoved=function(e){var d=e.changedTouches[0],f=this.touchBoundary;return Math.abs(d.pageX-this.touchStartX)>f||Math.abs(d.pageY-this.touchStartY)>f?!0:!1;},FastClick.prototype.onTouchMove=function(b){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(b.target)||this.touchHasMoved(b))&&(this.trackingClick=!1,this.targetElement=null),!0):!0;},FastClick.prototype.findControl=function(b){return void 0!==b.control?b.control:b.htmlFor?document.getElementById(b.htmlFor):b.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea");},FastClick.prototype.onTouchEnd=function(i){var h,n,m,l,k,j=this.targetElement;if(!this.trackingClick){return !0;}if(i.timeStamp-this.lastClickTime<this.tapDelay){return this.cancelNextClick=!0,!0;}if(this.cancelNextClick=!1,this.lastClickTime=i.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(k=i.changedTouches[0],j=document.elementFromPoint(k.pageX-window.pageXOffset,k.pageY-window.pageYOffset)||j,j.fastClickScrollParent=this.targetElement.fastClickScrollParent),m=j.tagName.toLowerCase(),"label"===m){if(h=this.findControl(j)){if(this.focus(j),deviceIsAndroid){return !1;}j=h;}}else{if(this.needsFocus(j)){return i.timeStamp-n>100||deviceIsIOS&&window.top!==window&&"input"===m?(this.targetElement=null,!1):(this.focus(j),this.sendClick(j,i),deviceIsIOS&&"select"===m||(this.targetElement=null,i.preventDefault()),!1);}}return deviceIsIOS&&!deviceIsIOS4&&(l=j.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(j)||(i.preventDefault(),this.sendClick(j,i)),!1);},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null;},FastClick.prototype.onMouse=function(b){return this.targetElement?b.forwardedTouchEvent?!0:b.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(b.stopImmediatePropagation?b.stopImmediatePropagation():b.propagationStopped=!0,b.stopPropagation(),b.preventDefault(),!1):!0:!0;},FastClick.prototype.onClick=function(d){var c;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===d.target.type&&0===d.detail?!0:(c=this.onMouse(d),c||(this.targetElement=null),c);},FastClick.prototype.destroy=function(){var b=this.layer;deviceIsAndroid&&(b.removeEventListener("mouseover",this.onMouse,!0),b.removeEventListener("mousedown",this.onMouse,!0),b.removeEventListener("mouseup",this.onMouse,!0)),b.removeEventListener("click",this.onClick,!0),b.removeEventListener("touchstart",this.onTouchStart,!1),b.removeEventListener("touchmove",this.onTouchMove,!1),b.removeEventListener("touchend",this.onTouchEnd,!1),b.removeEventListener("touchcancel",this.onTouchCancel,!1);},FastClick.notNeeded=function(e){var d,f;if("undefined"==typeof window.ontouchstart){return !0;}if(f=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid){return !0;}if(d=document.querySelector("meta[name=viewport]")){if(-1!==d.content.indexOf("user-scalable=no")){return !0;}if(f>31&&document.documentElement.scrollWidth<=window.outerWidth){return !0;}}}return"none"===e.style.msTouchAction?!0:!1;},FastClick.attach=function(d,c){return new FastClick(d,c);},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return FastClick;}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick;(function(f,h,j,b){var d=function(n){var m=n.length;var l=f("head");while(m--){if(l.has("."+n[m]).length===0){l.append('<meta class="'+n[m]+'" />');}}};d(["foundation-mq-small","foundation-mq-medium","foundation-mq-large","foundation-mq-xlarge","foundation-mq-xxlarge","foundation-data-attribute-namespace"]);f(function(){if(typeof FastClick!=="undefined"){if(typeof j.body!=="undefined"){FastClick.attach(j.body);}}});var e=function(m,n){if(typeof m==="string"){if(n){var l;if(n.jquery){l=n[0];if(!l){return n;}}else{l=n;}return f(l.querySelectorAll(m));}return f(j.querySelectorAll(m));}return f(m,n);};var k=function(m){var l=[];if(!m){l.push("data");}if(this.namespace.length>0){l.push(this.namespace);}l.push(this.name);return l.join("-");};var g=function(o){var n=o.split("-"),m=n.length,l=[];while(m--){if(m!==0){l.push(n[m]);}else{if(this.namespace.length>0){l.push(this.namespace,n[m]);}else{l.push(n[m]);}}}return l.reverse().join("-");};var a=function(o,m){var l=this,n=!e(this).data(this.attr_name(true));if(e(this.scope).is("["+this.attr_name()+"]")){e(this.scope).data(this.attr_name(true)+"-init",f.extend({},this.settings,(m||o),this.data_options(e(this.scope))));if(n){this.events(this.scope);}}else{e("["+this.attr_name()+"]",this.scope).each(function(){var p=!e(this).data(l.attr_name(true)+"-init");e(this).data(l.attr_name(true)+"-init",f.extend({},l.settings,(m||o),l.data_options(e(this))));if(p){l.events(this);}});}if(typeof o==="string"){return this[o].call(this,m);}};var c=function(n,o){function l(){o(n[0]);}function m(){this.one("load",l);if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var q=this.attr("src"),p=q.match(/\?/)?"&":"?";p+="random="+(new Date()).getTime();this.attr("src",q+p);}}if(!n.attr("src")){l();return;}if(n[0].complete||n[0].readyState===4){l();}else{m.call(n);}};h.matchMedia=h.matchMedia||(function(p){var n,l=p.documentElement,m=l.firstElementChild||l.firstChild,o=p.createElement("body"),q=p.createElement("div");q.id="mq-test-1";q.style.cssText="position:absolute;top:-100em";o.style.background="none";o.appendChild(q);return function(r){q.innerHTML='&shy;<style media="'+r+'"> #mq-test-1 { width: 42px; }</style>';l.insertBefore(o,m);n=q.offsetWidth===42;l.removeChild(o);return{matches:n,media:r};};}(j));(function(n){var l,o=0,s=["webkit","moz"],r=h.requestAnimationFrame,q=h.cancelAnimationFrame,m="undefined"!==typeof jQuery.fx;for(;o<s.length&&!r;o++){r=h[s[o]+"RequestAnimationFrame"];q=q||h[s[o]+"CancelAnimationFrame"]||h[s[o]+"CancelRequestAnimationFrame"];}function p(){if(l){r(p);if(m){jQuery.fx.tick();}}}if(r){h.requestAnimationFrame=r;h.cancelAnimationFrame=q;if(m){jQuery.fx.timer=function(t){if(t()&&jQuery.timers.push(t)&&!l){l=true;p();}};jQuery.fx.stop=function(){l=false;};}}else{h.requestAnimationFrame=function(w){var t=new Date().getTime(),u=Math.max(0,16-(t-o)),v=h.setTimeout(function(){w(t+u);},u);o=t+u;return v;};h.cancelAnimationFrame=function(t){clearTimeout(t);};}}(jQuery));function i(l){if(typeof l==="string"||l instanceof String){l=l.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"");}return l;}h.Foundation={name:"Foundation",version:"5.3.1",media_queries:{small:e(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:e(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:e(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:e(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:e(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:f("<style></style>").appendTo("head")[0].sheet,global:{namespace:b},init:function(p,m,s,o,l){var n=[p,s,o,l],q=[];this.rtl=/rtl/i.test(e("html").attr("dir"));this.scope=p||this.scope;this.set_namespace();if(m&&typeof m==="string"&&!/reflow/i.test(m)){if(this.libs.hasOwnProperty(m)){q.push(this.init_lib(m,n));}}else{for(var r in this.libs){q.push(this.init_lib(r,m));}}return p;},init_lib:function(m,l){if(this.libs.hasOwnProperty(m)){this.patch(this.libs[m]);if(l&&l.hasOwnProperty(m)){if(typeof this.libs[m].settings!=="undefined"){f.extend(true,this.libs[m].settings,l[m]);}else{if(typeof this.libs[m].defaults!=="undefined"){f.extend(true,this.libs[m].defaults,l[m]);}}return this.libs[m].init.apply(this.libs[m],[this.scope,l[m]]);}l=l instanceof Array?l:new Array(l);return this.libs[m].init.apply(this.libs[m],l);}return function(){};},patch:function(l){l.scope=this.scope;l.namespace=this.global.namespace;l.rtl=this.rtl;l.data_options=this.utils.data_options;l.attr_name=k;l.add_namespace=g;l.bindings=a;l.S=this.utils.S;},inherit:function(o,m){var l=m.split(" "),n=l.length;while(n--){if(this.utils.hasOwnProperty(l[n])){o[l[n]]=this.utils[l[n]];}}},set_namespace:function(){var l=(this.global.namespace===b)?f(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=(l===b||/false/i.test(l))?"":l;},libs:{},utils:{S:e,throttle:function(m,l){var n=null;return function(){var p=this,o=arguments;if(n==null){n=setTimeout(function(){m.apply(p,o);n=null;},l);}};},debounce:function(o,n,m){var p,l;return function(){var t=this,s=arguments;var r=function(){p=null;if(!m){l=o.apply(t,s);}};var q=m&&!p;clearTimeout(p);p=setTimeout(r,n);if(q){l=o.apply(t,s);}return l;};},data_options:function(n,q){q=q||"options";var l={},t,m,v,s=function(w){var p=Foundation.global.namespace;if(p.length>0){return w.data(p+"-"+q);}return w.data(q);};var r=s(n);if(typeof r==="object"){return r;}v=(r||":").split(";");t=v.length;function u(p){return !isNaN(p-0)&&p!==null&&p!==""&&p!==false&&p!==true;}function o(p){if(typeof p==="string"){return f.trim(p);}return p;}while(t--){m=v[t].split(":");m=[m[0],m.slice(1).join(":")];if(/true/i.test(m[1])){m[1]=true;}if(/false/i.test(m[1])){m[1]=false;}if(u(m[1])){if(m[1].indexOf(".")===-1){m[1]=parseInt(m[1],10);}else{m[1]=parseFloat(m[1]);}}if(m.length===2&&m[0].length>0){l[o(m[0])]=o(m[1]);}}return l;},register_media:function(m,l){if(Foundation.media_queries[m]===b){f("head").append('<meta class="'+l+'"/>');Foundation.media_queries[m]=i(f("."+l).css("font-family"));}},add_custom_rule:function(n,m){if(m===b&&Foundation.stylesheet){Foundation.stylesheet.insertRule(n,Foundation.stylesheet.cssRules.length);}else{var l=Foundation.media_queries[m];if(l!==b){Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[m]+"{ "+n+" }");}}},image_loaded:function(l,o){var m=this,n=l.length;if(n===0){o(l);}l.each(function(){c(m.S(this),function(){n-=1;if(n===0){o(l);}});});},random_str:function(){if(!this.fidx){this.fidx=0;}this.prefix=this.prefix||[(this.name||"F"),(+new Date).toString(36)].join("-");return this.prefix+(this.fidx++).toString(36);}}};f.fn.foundation=function(){var l=Array.prototype.slice.call(arguments,0);return this.each(function(){Foundation.init.apply(Foundation,[this].concat(l));return this;});};}(jQuery,window,window.document));(function(){function aq(b){function a(g,h,j,d,f,k){for(;f>=0&&k>f;f+=b){var c=d?d[f]:f;j=h(j,g[c],c,g);}return j;}return function(h,j,f,g){j=aD(j,g,4);var k=!au(h)&&ar.keys(h),d=(k||h).length,l=b>0?0:d-1;return arguments.length<3&&(f=h[k?k[l]:l],l+=b),a(h,j,f,k,l,d);};}function ak(a){return function(d,f,g){f=ag(f,g);for(var b=Q(d),c=a>0?0:b-1;c>=0&&b>c;c+=a){if(f(d[c],c,d)){return c;}}return -1;};}function am(c,a,b){return function(h,f,g){var j=0,d=Q(h);if("number"==typeof g){c>0?j=g>=0?g:Math.max(g+d,j):d=g>=0?Math.min(g+1,d):g+d+1;}else{if(b&&g&&d){return g=b(h,f),h[g]===f?g:-1;}}if(f!==f){return g=a(at.call(h,j,d),ar.isNaN),g>=0?g+j:-1;}for(g=c>0?j:d-1;g>=0&&d>g;g+=c){if(h[g]===f){return g;}}return -1;};}function aA(g,c){var d=Y.length,f=g.constructor,a=ar.isFunction(f)&&f.prototype||aE,b="constructor";for(ar.has(g,b)&&!ar.contains(c,b)&&c.push(b);d--;){b=Y[d],b in g&&g[b]!==a[b]&&!ar.contains(c,b)&&c.push(b);}}var aj=this,aw=aj._,ap=Array.prototype,aE=Object.prototype,aC=Function.prototype,az=ap.push,at=ap.slice,al=aE.toString,ao=aE.hasOwnProperty,ax=Array.isArray,ai=Object.keys,ay=aC.bind,af=Object.create,aB=function(){},ar=function(a){return a instanceof ar?a:this instanceof ar?void (this._wrapped=a):new ar(a);};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=ar),exports._=ar):aj._=ar,ar.VERSION="1.8.3";var aD=function(c,a,b){if(a===void 0){return c;}switch(null==b?3:b){case 1:return function(d){return c.call(a,d);};case 2:return function(d,f){return c.call(a,d,f);};case 3:return function(f,g,d){return c.call(a,f,g,d);};case 4:return function(g,h,d,f){return c.call(a,g,h,d,f);};}return function(){return c.apply(a,arguments);};},ag=function(c,a,b){return null==c?ar.identity:ar.isFunction(c)?aD(c,a,b):ar.isObject(c)?ar.matcher(c):ar.property(c);};ar.iteratee=function(b,a){return ag(b,a,1/0);};var aF=function(b,a){return function(j){var l=arguments.length;if(2>l||null==j){return j;}for(var g=1;l>g;g++){for(var h=arguments[g],m=b(h),d=m.length,n=0;d>n;n++){var k=m[n];a&&j[k]!==void 0||(j[k]=h[k]);}}return j;};},av=function(b){if(!ar.isObject(b)){return{};}if(af){return af(b);}aB.prototype=b;var a=new aB;return aB.prototype=null,a;},ah=function(a){return function(b){return null==b?void 0:b[a];};},ad=Math.pow(2,53)-1,Q=ah("length"),au=function(b){var a=Q(b);return"number"==typeof a&&a>=0&&ad>=a;};ar.each=ar.forEach=function(g,c,d){c=aD(c,d);var f,a;if(au(g)){for(f=0,a=g.length;a>f;f++){c(g[f],f,g);}}else{var b=ar.keys(g);for(f=0,a=b.length;a>f;f++){c(g[b[f]],b[f],g);}}return g;},ar.map=ar.collect=function(k,f,g){f=ag(f,g);for(var h=!au(k)&&ar.keys(k),c=(h||k).length,d=Array(c),j=0;c>j;j++){var b=h?h[j]:j;d[j]=f(k[b],b,k);}return d;},ar.reduce=ar.foldl=ar.inject=aq(1),ar.reduceRight=ar.foldr=aq(-1),ar.find=ar.detect=function(d,a,b){var c;return c=au(d)?ar.findIndex(d,a,b):ar.findKey(d,a,b),c!==void 0&&c!==-1?d[c]:void 0;},ar.filter=ar.select=function(d,a,b){var c=[];return a=ag(a,b),ar.each(d,function(g,f,e){a(g,f,e)&&c.push(g);}),c;},ar.reject=function(c,a,b){return ar.filter(c,ar.negate(ag(a)),b);},ar.every=ar.all=function(h,c,d){c=ag(c,d);for(var f=!au(h)&&ar.keys(h),a=(f||h).length,b=0;a>b;b++){var g=f?f[b]:b;if(!c(h[g],g,h)){return !1;}}return !0;},ar.some=ar.any=function(h,c,d){c=ag(c,d);for(var f=!au(h)&&ar.keys(h),a=(f||h).length,b=0;a>b;b++){var g=f?f[b]:b;if(c(h[g],g,h)){return !0;}}return !1;},ar.contains=ar.includes=ar.include=function(d,a,b,c){return au(d)||(d=ar.values(d)),("number"!=typeof b||c)&&(b=0),ar.indexOf(d,a,b)>=0;},ar.invoke=function(d,a){var b=at.call(arguments,2),c=ar.isFunction(a);return ar.map(d,function(f){var e=c?a:f[a];return null==e?e:e.apply(f,b);});},ar.pluck=function(b,a){return ar.map(b,ar.property(a));},ar.where=function(b,a){return ar.filter(b,ar.matcher(a));},ar.findWhere=function(b,a){return ar.find(b,ar.matcher(a));},ar.max=function(f,m,b){var h,l,g=-1/0,d=-1/0;if(null==m&&null!=f){f=au(f)?f:ar.values(f);for(var k=0,j=f.length;j>k;k++){h=f[k],h>g&&(g=h);}}else{m=ag(m,b),ar.each(f,function(i,a,c){l=m(i,a,c),(l>d||l===-1/0&&g===-1/0)&&(g=i,d=l);});}return g;},ar.min=function(f,m,b){var h,l,g=1/0,d=1/0;if(null==m&&null!=f){f=au(f)?f:ar.values(f);for(var k=0,j=f.length;j>k;k++){h=f[k],g>h&&(g=h);}}else{m=ag(m,b),ar.each(f,function(i,a,c){l=m(i,a,c),(d>l||1/0===l&&1/0===g)&&(g=i,d=l);});}return g;},ar.shuffle=function(g){for(var c,d=au(g)?g:ar.values(g),f=d.length,a=Array(f),b=0;f>b;b++){c=ar.random(0,b),c!==b&&(a[b]=a[c]),a[c]=d[b];}return a;},ar.sample=function(c,a,b){return null==a||b?(au(c)||(c=ar.values(c)),c[ar.random(c.length-1)]):ar.shuffle(c).slice(0,Math.max(0,a));},ar.sortBy=function(c,a,b){return a=ag(a,b),ar.pluck(ar.map(c,function(g,d,f){return{value:g,index:d,criteria:a(g,d,f)};}).sort(function(h,d){var f=h.criteria,g=d.criteria;if(f!==g){if(f>g||f===void 0){return 1;}if(g>f||g===void 0){return -1;}}return h.index-d.index;}),"value");};var Z=function(a){return function(c,d,f){var b={};return d=ag(d,f),ar.each(c,function(h,g){var j=d(h,g,c);a(b,h,j);}),b;};};ar.groupBy=Z(function(c,a,b){ar.has(c,b)?c[b].push(a):c[b]=[a];}),ar.indexBy=Z(function(c,a,b){c[b]=a;}),ar.countBy=Z(function(c,a,b){ar.has(c,b)?c[b]++:c[b]=1;}),ar.toArray=function(a){return a?ar.isArray(a)?at.call(a):au(a)?ar.map(a,ar.identity):ar.values(a):[];},ar.size=function(a){return null==a?0:au(a)?a.length:ar.keys(a).length;},ar.partition=function(f,b,c){b=ag(b,c);var d=[],a=[];return ar.each(f,function(h,g,e){(b(h,g,e)?d:a).push(h);}),[d,a];},ar.first=ar.head=ar.take=function(c,a,b){return null==c?void 0:null==a||b?c[0]:ar.initial(c,c.length-a);},ar.initial=function(c,a,b){return at.call(c,0,Math.max(0,c.length-(null==a||b?1:a)));},ar.last=function(c,a,b){return null==c?void 0:null==a||b?c[c.length-1]:ar.rest(c,Math.max(0,c.length-a));},ar.rest=ar.tail=ar.drop=function(c,a,b){return at.call(c,null==a||b?1:a);},ar.compact=function(a){return ar.filter(a,ar.identity);};var G=function(g,v,b,m){for(var s=[],j=0,d=m||0,q=Q(g);q>d;d++){var p=g[d];if(au(p)&&(ar.isArray(p)||ar.isArguments(p))){v||(p=G(p,v,b));var k=0,h=p.length;for(s.length+=h;h>k;){s[j++]=p[k++];}}else{b||(s[j++]=p);}}return s;};ar.flatten=function(b,a){return G(b,a,!1);},ar.without=function(a){return ar.difference(a,at.call(arguments,1));},ar.uniq=ar.unique=function(g,q,b,k){ar.isBoolean(q)||(k=b,b=q,q=!1),null!=b&&(b=ag(b,k));for(var p=[],h=[],d=0,m=Q(g);m>d;d++){var l=g[d],j=b?b(l,d,g):l;q?(d&&h===j||p.push(l),h=j):b?ar.contains(h,j)||(h.push(j),p.push(l)):ar.contains(p,l)||p.push(l);}return p;},ar.union=function(){return ar.uniq(G(arguments,!0,!0));},ar.intersection=function(h){for(var c=[],d=arguments.length,f=0,a=Q(h);a>f;f++){var b=h[f];if(!ar.contains(c,b)){for(var g=1;d>g&&ar.contains(arguments[g],b);g++){}g===d&&c.push(b);}}return c;},ar.difference=function(b){var a=G(arguments,!0,!0,1);return ar.filter(b,function(c){return !ar.contains(a,c);});},ar.zip=function(){return ar.unzip(arguments);},ar.unzip=function(d){for(var a=d&&ar.max(d,Q).length||0,b=Array(a),c=0;a>c;c++){b[c]=ar.pluck(d,c);}return b;},ar.object=function(f,b){for(var c={},d=0,a=Q(f);a>d;d++){b?c[f[d]]=b[d]:c[f[d][0]]=f[d][1];}return c;},ar.findIndex=ak(1),ar.findLastIndex=ak(-1),ar.sortedIndex=function(k,f,g,h){g=ag(g,h,1);for(var c=g(f),d=0,j=Q(k);j>d;){var b=Math.floor((d+j)/2);g(k[b])<c?d=b+1:j=b;}return d;},ar.indexOf=am(1,ar.findIndex,ar.sortedIndex),ar.lastIndexOf=am(-1,ar.findLastIndex),ar.range=function(g,c,d){null==c&&(c=g||0,g=0),d=d||1;for(var f=Math.max(Math.ceil((c-g)/d),0),a=Array(f),b=0;f>b;b++,g+=d){a[b]=g;}return a;};var aa=function(h,c,d,f,a){if(!(f instanceof c)){return h.apply(d,a);}var b=av(h.prototype),g=h.apply(b,a);return ar.isObject(g)?g:b;};ar.bind=function(d,a){if(ay&&d.bind===ay){return ay.apply(d,at.call(arguments,1));}if(!ar.isFunction(d)){throw new TypeError("Bind must be called on a function");}var b=at.call(arguments,2),c=function(){return aa(d,c,a,this,b.concat(at.call(arguments)));};return c;},ar.partial=function(c){var a=at.call(arguments,1),b=function(){for(var g=0,d=a.length,f=Array(d),h=0;d>h;h++){f[h]=a[h]===ar?arguments[g++]:a[h];}for(;g<arguments.length;){f.push(arguments[g++]);}return aa(c,b,this,this,f);};return b;},ar.bindAll=function(d){var a,b,c=arguments.length;if(1>=c){throw new Error("bindAll must be passed function names");}for(a=1;c>a;a++){b=arguments[a],d[b]=ar.bind(d[b],d);}return d;},ar.memoize=function(c,a){var b=function(g){var d=b.cache,f=""+(a?a.apply(this,arguments):g);return ar.has(d,f)||(d[f]=c.apply(this,arguments)),d[f];};return b.cache={},b;},ar.delay=function(c,a){var b=at.call(arguments,2);return setTimeout(function(){return c.apply(null,b);},a);},ar.defer=ar.partial(ar.delay,ar,1),ar.throttle=function(f,m,b){var h,l,g,d=null,k=0;b||(b={});var j=function(){k=b.leading===!1?0:ar.now(),d=null,g=f.apply(h,l),d||(h=l=null);};return function(){var c=ar.now();k||b.leading!==!1||(k=c);var a=m-(c-k);return h=this,l=arguments,0>=a||a>m?(d&&(clearTimeout(d),d=null),k=c,g=f.apply(h,l),d||(h=l=null)):d||b.trailing===!1||(d=setTimeout(j,a)),g;};},ar.debounce=function(f,m,b){var h,l,g,d,k,j=function(){var a=ar.now()-d;m>a&&a>=0?h=setTimeout(j,m-a):(h=null,b||(k=f.apply(g,l),h||(g=l=null)));};return function(){g=this,l=arguments,d=ar.now();var a=b&&!h;return h||(h=setTimeout(j,m)),a&&(k=f.apply(g,l),g=l=null),k;};},ar.wrap=function(b,a){return ar.partial(a,b);},ar.negate=function(a){return function(){return !a.apply(this,arguments);};},ar.compose=function(){var b=arguments,a=b.length-1;return function(){for(var c=a,d=b[a].apply(this,arguments);c--;){d=b[c].call(this,d);}return d;};},ar.after=function(b,a){return function(){return --b<1?a.apply(this,arguments):void 0;};},ar.before=function(c,a){var b;return function(){return --c>0&&(b=a.apply(this,arguments)),1>=c&&(a=null),b;};},ar.once=ar.partial(ar.before,2);var V=!{toString:null}.propertyIsEnumerable("toString"),Y=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];ar.keys=function(c){if(!ar.isObject(c)){return[];}if(ai){return ai(c);}var a=[];for(var b in c){ar.has(c,b)&&a.push(b);}return V&&aA(c,a),a;},ar.allKeys=function(c){if(!ar.isObject(c)){return[];}var a=[];for(var b in c){a.push(b);}return V&&aA(c,a),a;},ar.values=function(f){for(var b=ar.keys(f),c=b.length,d=Array(c),a=0;c>a;a++){d[a]=f[b[a]];}return d;},ar.mapObject=function(k,f,g){f=ag(f,g);for(var h,c=ar.keys(k),d=c.length,j={},b=0;d>b;b++){h=c[b],j[h]=f(k[h],h,k);}return j;},ar.pairs=function(f){for(var b=ar.keys(f),c=b.length,d=Array(c),a=0;c>a;a++){d[a]=[b[a],f[b[a]]];}return d;},ar.invert=function(f){for(var b={},c=ar.keys(f),d=0,a=c.length;a>d;d++){b[f[c[d]]]=c[d];}return b;},ar.functions=ar.methods=function(c){var a=[];for(var b in c){ar.isFunction(c[b])&&a.push(b);}return a.sort();},ar.extend=aF(ar.allKeys),ar.extendOwn=ar.assign=aF(ar.keys),ar.findKey=function(h,c,d){c=ag(c,d);for(var f,a=ar.keys(h),b=0,g=a.length;g>b;b++){if(f=a[b],c(h[f],f,h)){return f;}}},ar.pick=function(g,v,b){var m,s,j={},d=g;if(null==d){return j;}ar.isFunction(v)?(s=ar.allKeys(d),m=aD(v,b)):(s=G(arguments,!1,!1,1),m=function(e,a,c){return a in c;},d=Object(d));for(var q=0,p=s.length;p>q;q++){var k=s[q],h=d[k];m(h,k,d)&&(j[k]=h);}return j;},ar.omit=function(d,a,b){if(ar.isFunction(a)){a=ar.negate(a);}else{var c=ar.map(G(arguments,!1,!1,1),String);a=function(f,e){return !ar.contains(c,e);};}return ar.pick(d,a,b);},ar.defaults=aF(ar.allKeys,!0),ar.create=function(c,a){var b=av(c);return a&&ar.extendOwn(b,a),b;},ar.clone=function(a){return ar.isObject(a)?ar.isArray(a)?a.slice():ar.extend({},a):a;},ar.tap=function(b,a){return a(b),b;},ar.isMatch=function(h,c){var d=ar.keys(c),f=d.length;if(null==h){return !f;}for(var a=Object(h),b=0;f>b;b++){var g=d[b];if(c[g]!==a[g]||!(g in a)){return !1;}}return !0;};var U=function(g,v,b,m){if(g===v){return 0!==g||1/g===1/v;}if(null==g||null==v){return g===v;}g instanceof ar&&(g=g._wrapped),v instanceof ar&&(v=v._wrapped);var s=al.call(g);if(s!==al.call(v)){return !1;}switch(s){case"[object RegExp]":case"[object String]":return""+g==""+v;case"[object Number]":return +g!==+g?+v!==+v:0===+g?1/+g===1/v:+g===+v;case"[object Date]":case"[object Boolean]":return +g===+v;}var j="[object Array]"===s;if(!j){if("object"!=typeof g||"object"!=typeof v){return !1;}var d=g.constructor,q=v.constructor;if(d!==q&&!(ar.isFunction(d)&&d instanceof d&&ar.isFunction(q)&&q instanceof q)&&"constructor" in g&&"constructor" in v){return !1;}}b=b||[],m=m||[];for(var p=b.length;p--;){if(b[p]===g){return m[p]===v;}}if(b.push(g),m.push(v),j){if(p=g.length,p!==v.length){return !1;}for(;p--;){if(!U(g[p],v[p],b,m)){return !1;}}}else{var k,h=ar.keys(g);if(p=h.length,ar.keys(v).length!==p){return !1;}for(;p--;){if(k=h[p],!ar.has(v,k)||!U(g[k],v[k],b,m)){return !1;}}}return b.pop(),m.pop(),!0;};ar.isEqual=function(b,a){return U(b,a);},ar.isEmpty=function(a){return null==a?!0:au(a)&&(ar.isArray(a)||ar.isString(a)||ar.isArguments(a))?0===a.length:0===ar.keys(a).length;},ar.isElement=function(a){return !(!a||1!==a.nodeType);},ar.isArray=ax||function(a){return"[object Array]"===al.call(a);},ar.isObject=function(b){var a=typeof b;return"function"===a||"object"===a&&!!b;},ar.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){ar["is"+a]=function(b){return al.call(b)==="[object "+a+"]";};}),ar.isArguments(arguments)||(ar.isArguments=function(a){return ar.has(a,"callee");}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(ar.isFunction=function(a){return"function"==typeof a||!1;}),ar.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a));},ar.isNaN=function(a){return ar.isNumber(a)&&a!==+a;},ar.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===al.call(a);},ar.isNull=function(a){return null===a;},ar.isUndefined=function(a){return a===void 0;},ar.has=function(b,a){return null!=b&&ao.call(b,a);},ar.noConflict=function(){return aj._=aw,this;},ar.identity=function(a){return a;},ar.constant=function(a){return function(){return a;};},ar.noop=function(){},ar.property=ah,ar.propertyOf=function(a){return null==a?function(){}:function(b){return a[b];};},ar.matcher=ar.matches=function(a){return a=ar.extendOwn({},a),function(b){return ar.isMatch(b,a);};},ar.times=function(f,b,c){var d=Array(Math.max(0,f));b=aD(b,c,1);for(var a=0;f>a;a++){d[a]=b(a);}return d;},ar.random=function(b,a){return null==a&&(a=b,b=0),b+Math.floor(Math.random()*(a-b+1));},ar.now=Date.now||function(){return(new Date).getTime();};var ac={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},C=ar.invert(ac),H=function(f){var b=function(e){return f[e];},c="(?:"+ar.keys(f).join("|")+")",d=RegExp(c),a=RegExp(c,"g");return function(e){return e=null==e?"":""+e,d.test(e)?e.replace(a,b):e;};};ar.escape=H(ac),ar.unescape=H(C),ar.result=function(d,a,b){var c=null==d?void 0:d[a];return c===void 0&&(c=b),ar.isFunction(c)?c.call(d):c;};var an=0;ar.uniqueId=function(b){var a=++an+"";return b?b+a:a;},ar.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,ae={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ab=/\\|'|\r|\n|\u2028|\u2029/g,W=function(a){return"\\"+ae[a];};ar.template=function(g,q,b){!q&&b&&(q=b),q=ar.defaults({},q,ar.templateSettings);var k=RegExp([(q.escape||X).source,(q.interpolate||X).source,(q.evaluate||X).source].join("|")+"|$","g"),p=0,h="__p+='";g.replace(k,function(f,i,n,s,c){return h+=g.slice(p,c).replace(ab,W),p=c+f.length,i?h+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?h+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(h+="';\n"+s+"\n__p+='"),f;}),h+="';\n",q.variable||(h="with(obj||{}){\n"+h+"}\n"),h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{var d=new Function(q.variable||"obj","_",h);}catch(m){throw m.source=h,m;}var l=function(a){return d.call(this,a,ar);},j=q.variable||"obj";return l.source="function("+j+"){\n"+h+"}",l;},ar.chain=function(b){var a=ar(b);return a._chain=!0,a;};var J=function(b,a){return b._chain?ar(a).chain():a;};ar.mixin=function(a){ar.each(ar.functions(a),function(b){var c=ar[b]=a[b];ar.prototype[b]=function(){var d=[this._wrapped];return az.apply(d,arguments),J(this,c.apply(ar,d));};});},ar.mixin(ar),ar.each(["pop","push","reverse","shift","sort","splice","unshift"],function(b){var a=ap[b];ar.prototype[b]=function(){var c=this._wrapped;return a.apply(c,arguments),"shift"!==b&&"splice"!==b||0!==c.length||delete c[0],J(this,c);};}),ar.each(["concat","join","slice"],function(b){var a=ap[b];ar.prototype[b]=function(){return J(this,a.apply(this._wrapped,arguments));};}),ar.prototype.value=function(){return this._wrapped;},ar.prototype.valueOf=ar.prototype.toJSON=ar.prototype.value,ar.prototype.toString=function(){return""+this._wrapped;},"function"==typeof define&&define.amd&&define("underscore",[],function(){return ar;});}).call(this);(function(b){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b();}else{if(typeof define==="function"&&define.amd){define([],b);}else{var a;if(typeof window!=="undefined"){a=window;}else{if(typeof global!=="undefined"){a=global;}else{if(typeof self!=="undefined"){a=self;}else{a=this;}}}a.s=b();}}})(function(){var d,b,a;return function c(f,k,h){function g(q,n){if(!k[q]){if(!f[q]){var m=typeof require=="function"&&require;if(!n&&m){return m(q,!0);}if(e){return e(q,!0);}var p=new Error("Cannot find module '"+q+"'");throw p.code="MODULE_NOT_FOUND",p;}var i=k[q]={exports:{}};f[q][0].call(i.exports,function(l){var o=f[q][1][l];return g(o?o:l);},i,i.exports,c,f,k,h);}return k[q].exports;}var e=typeof require=="function"&&require;for(var j=0;j<h.length;j++){g(h[j]);}return g;}({1:[function(h,j,g){var e=h("./trim");var i=h("./decapitalize");j.exports=function f(l,k){l=e(l).replace(/[-_\s]+(.)?/g,function(m,n){return n?n.toUpperCase():"";});if(k===true){return i(l);}else{return l;}};},{"./decapitalize":10,"./trim":65}],2:[function(f,h,e){var i=f("./helper/makeString");h.exports=function g(l,k){l=i(l);var j=!k?l.slice(1):l.slice(1).toLowerCase();return l.charAt(0).toUpperCase()+j;};},{"./helper/makeString":20}],3:[function(f,g,e){var i=f("./helper/makeString");g.exports=function h(j){return i(j).split("");};},{"./helper/makeString":20}],4:[function(g,h,f){h.exports=function e(j,i){if(j==null){return[];}j=String(j);i=~~i;return i>0?j.match(new RegExp(".{1,"+i+"}","g")):[j];};},{}],5:[function(g,j,f){var i=g("./capitalize");var e=g("./camelize");var k=g("./helper/makeString");j.exports=function h(l){l=k(l);return i(e(l.replace(/[\W_]/g," ")).replace(/\s/g,""));};},{"./camelize":1,"./capitalize":2,"./helper/makeString":20}],6:[function(g,i,f){var e=g("./trim");i.exports=function h(j){return e(j).replace(/\s\s+/g," ");};},{"./trim":65}],7:[function(f,g,e){var h=f("./helper/makeString");var k="ąàáäâãåæăćčĉęèéëêĝĥìíïîĵłľńňòóöőôõðøśșşšŝťțţŭùúüűûñÿýçżźž",j="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";k+=k.toUpperCase();j+=j.toUpperCase();j=j.split("");k+="ß";j.push("ss");g.exports=function i(l){return h(l).replace(/.{1}/g,function(n){var m=k.indexOf(n);return m===-1?n:j[m];});};},{"./helper/makeString":20}],8:[function(f,g,e){var h=f("./helper/makeString");g.exports=function(j,i){j=h(j);i=h(i);if(j.length===0||i.length===0){return 0;}return j.split(i).length-1;};},{"./helper/makeString":20}],9:[function(g,h,f){var e=g("./trim");h.exports=function i(j){return e(j).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase();};},{"./trim":65}],10:[function(g,h,e){var i=g("./helper/makeString");h.exports=function f(j){j=i(j);return j.charAt(0).toLowerCase()+j.slice(1);};},{"./helper/makeString":20}],11:[function(f,g,e){var i=f("./helper/makeString");function j(n){var m=n.match(/^[\s\\t]*/gm);var k=m[0].length;for(var l=1;l<m.length;l++){k=Math.min(m[l].length,k);}return k;}g.exports=function h(n,m){n=i(n);var k=j(n);var l;if(k===0){return n;}if(typeof m==="string"){l=new RegExp("^"+m,"gm");}else{l=new RegExp("^[ \\t]{"+k+"}","gm");}return n.replace(l,"");};},{"./helper/makeString":20}],12:[function(g,h,f){var i=g("./helper/makeString");var j=g("./helper/toPositive");h.exports=function e(m,l,k){m=i(m);l=""+l;if(typeof k=="undefined"){k=m.length-l.length;}else{k=Math.min(j(k),m.length)-l.length;}return k>=0&&m.indexOf(l,k)===k;};},{"./helper/makeString":20,"./helper/toPositive":22}],13:[function(g,f,h){var e=g("./helper/makeString");var i=g("./helper/escapeChars");var l="[";for(var k in i){l+=k;}l+="]";var j=new RegExp(l,"g");f.exports=function m(n){return e(n).replace(j,function(o){return"&"+i[o]+";";});};},{"./helper/escapeChars":17,"./helper/makeString":20}],14:[function(f,g,e){g.exports=function(){var h={};for(var i in this){if(!this.hasOwnProperty(i)||i.match(/^(?:include|contains|reverse|join|map|wrap)$/)){continue;}h[i]=this[i];}return h;};},{}],15:[function(f,g,e){var i=f("./makeString");g.exports=function h(k,j){k=i(k);if(k.length===0){return"";}return k.slice(0,-1)+String.fromCharCode(k.charCodeAt(k.length-1)+j);};},{"./makeString":20}],16:[function(h,i,g){var e=h("./escapeRegExp");i.exports=function f(j){if(j==null){return"\\s";}else{if(j.source){return j.source;}else{return"["+e(j)+"]";}}};},{"./escapeRegExp":18}],17:[function(f,g,e){var h={"¢":"cent","£":"pound","¥":"yen","€":"euro","©":"copy","®":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"};g.exports=h;},{}],18:[function(g,h,f){var i=g("./makeString");h.exports=function e(j){return i(j).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1");};},{"./makeString":20}],19:[function(g,h,e){var f={nbsp:" ",cent:"¢",pound:"£",yen:"¥",euro:"€",copy:"©",reg:"®",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};h.exports=f;},{}],20:[function(f,g,e){g.exports=function h(i){if(i==null){return"";}return""+i;};},{}],21:[function(f,g,e){g.exports=function h(j,k){if(k<1){return"";}var i="";while(k>0){if(k&1){i+=j;}k>>=1,j+=j;}return i;};},{}],22:[function(f,g,e){g.exports=function h(i){return i<0?0:+i||0;};},{}],23:[function(g,j,f){var i=g("./capitalize");var h=g("./underscored");var e=g("./trim");j.exports=function k(l){return i(e(h(l).replace(/_id$/,"").replace(/_/g," ")));};},{"./capitalize":2,"./trim":65,"./underscored":67}],24:[function(g,h,f){var i=g("./helper/makeString");h.exports=function e(k,j){if(j===""){return true;}return i(k).indexOf(j)!==-1;};},{"./helper/makeString":20}],25:[function(g,f,h){function o(p){if(!(this instanceof o)){return new o(p);}this._wrapped=p;}o.VERSION="3.3.4";o.isBlank=g("./isBlank");o.stripTags=g("./stripTags");o.capitalize=g("./capitalize");o.decapitalize=g("./decapitalize");o.chop=g("./chop");o.trim=g("./trim");o.clean=g("./clean");o.cleanDiacritics=g("./cleanDiacritics");o.count=g("./count");o.chars=g("./chars");o.swapCase=g("./swapCase");o.escapeHTML=g("./escapeHTML");o.unescapeHTML=g("./unescapeHTML");o.splice=g("./splice");o.insert=g("./insert");o.replaceAll=g("./replaceAll");o.include=g("./include");o.join=g("./join");o.lines=g("./lines");o.dedent=g("./dedent");o.reverse=g("./reverse");o.startsWith=g("./startsWith");o.endsWith=g("./endsWith");o.pred=g("./pred");o.succ=g("./succ");o.titleize=g("./titleize");o.camelize=g("./camelize");o.underscored=g("./underscored");o.dasherize=g("./dasherize");o.classify=g("./classify");o.humanize=g("./humanize");o.ltrim=g("./ltrim");o.rtrim=g("./rtrim");o.truncate=g("./truncate");o.prune=g("./prune");o.words=g("./words");o.pad=g("./pad");o.lpad=g("./lpad");o.rpad=g("./rpad");o.lrpad=g("./lrpad");o.sprintf=g("./sprintf");o.vsprintf=g("./vsprintf");o.toNumber=g("./toNumber");o.numberFormat=g("./numberFormat");o.strRight=g("./strRight");o.strRightBack=g("./strRightBack");o.strLeft=g("./strLeft");o.strLeftBack=g("./strLeftBack");o.toSentence=g("./toSentence");o.toSentenceSerial=g("./toSentenceSerial");o.slugify=g("./slugify");o.surround=g("./surround");o.quote=g("./quote");o.unquote=g("./unquote");o.repeat=g("./repeat");o.naturalCmp=g("./naturalCmp");o.levenshtein=g("./levenshtein");o.toBoolean=g("./toBoolean");o.exports=g("./exports");o.escapeRegExp=g("./helper/escapeRegExp");o.wrap=g("./wrap");o.map=g("./map");o.strip=o.trim;o.lstrip=o.ltrim;o.rstrip=o.rtrim;o.center=o.lrpad;o.rjust=o.lpad;o.ljust=o.rpad;o.contains=o.include;o.q=o.quote;o.toBool=o.toBoolean;o.camelcase=o.camelize;o.mapChars=o.map;o.prototype={value:function m(){return this._wrapped;}};function j(p,q){if(typeof q!=="function"){return;}o.prototype[p]=function(){var r=[this._wrapped].concat(Array.prototype.slice.call(arguments));var s=q.apply(null,r);return typeof s==="string"?new o(s):s;};}for(var n in o){j(n,o[n]);}j("tap",function k(p,q){return q(p);});function l(p){j(p,function(r){var q=Array.prototype.slice.call(arguments,1);return String.prototype[p].apply(r,q);});}var i=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var e in i){l(i[e]);}f.exports=o;},{"./camelize":1,"./capitalize":2,"./chars":3,"./chop":4,"./classify":5,"./clean":6,"./cleanDiacritics":7,"./count":8,"./dasherize":9,"./decapitalize":10,"./dedent":11,"./endsWith":12,"./escapeHTML":13,"./exports":14,"./helper/escapeRegExp":18,"./humanize":23,"./include":24,"./insert":26,"./isBlank":27,"./join":28,"./levenshtein":29,"./lines":30,"./lpad":31,"./lrpad":32,"./ltrim":33,"./map":34,"./naturalCmp":35,"./numberFormat":38,"./pad":39,"./pred":40,"./prune":41,"./quote":42,"./repeat":43,"./replaceAll":44,"./reverse":45,"./rpad":46,"./rtrim":47,"./slugify":48,"./splice":49,"./sprintf":50,"./startsWith":51,"./strLeft":52,"./strLeftBack":53,"./strRight":54,"./strRightBack":55,"./stripTags":56,"./succ":57,"./surround":58,"./swapCase":59,"./titleize":60,"./toBoolean":61,"./toNumber":62,"./toSentence":63,"./toSentenceSerial":64,"./trim":65,"./truncate":66,"./underscored":67,"./unescapeHTML":68,"./unquote":69,"./vsprintf":70,"./words":71,"./wrap":72}],26:[function(f,g,e){var i=f("./splice");g.exports=function h(l,j,k){return i(l,j,0,k);};},{"./splice":49}],27:[function(g,h,f){var i=g("./helper/makeString");h.exports=function e(j){return/^\s*$/.test(i(j));};},{"./helper/makeString":20}],28:[function(f,g,e){var h=f("./helper/makeString");var j=[].slice;g.exports=function i(){var k=j.call(arguments),l=k.shift();return k.join(h(l));};},{"./helper/makeString":20}],29:[function(f,g,e){var h=f("./helper/makeString");g.exports=function i(o,n){o=h(o);n=h(n);if(o===n){return 0;}if(!o||!n){return Math.max(o.length,n.length);}var r=new Array(n.length+1);for(var m=0;m<r.length;++m){r[m]=m;}for(m=0;m<o.length;++m){var q=m+1;for(var k=0;k<n.length;++k){var p=q;q=r[k]+(o.charAt(m)===n.charAt(k)?0:1);var l=p+1;if(q>l){q=l;}l=r[k+1]+1;if(q>l){q=l;}r[k]=p;}r[k]=q;}return q;};},{"./helper/makeString":20}],30:[function(g,h,f){h.exports=function e(i){if(i==null){return[];}return String(i).split(/\r\n?|\n/);};},{}],31:[function(g,h,e){var i=g("./pad");h.exports=function f(l,k,j){return i(l,k,j);};},{"./pad":39}],32:[function(f,g,e){var i=f("./pad");g.exports=function h(l,k,j){return i(l,k,j,"both");};},{"./pad":39}],33:[function(h,i,g){var j=h("./helper/makeString");var f=h("./helper/defaultToWhiteSpace");var e=String.prototype.trimLeft;i.exports=function k(m,l){m=j(m);if(!l&&e){return e.call(m);}l=f(l);return m.replace(new RegExp("^"+l+"+"),"");};},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],34:[function(f,g,e){var h=f("./helper/makeString");g.exports=function(i,j){i=h(i);if(i.length===0||typeof j!=="function"){return i;}return i.replace(/./g,j);};},{"./helper/makeString":20}],35:[function(f,g,e){g.exports=function h(n,m){if(n==m){return 0;}if(!n){return -1;}if(!m){return 1;}var l=/(\.\d+|\d+|\D+)/g,k=String(n).match(l),j=String(m).match(l),p=Math.min(k.length,j.length);for(var o=0;o<p;o++){var t=k[o],s=j[o];if(t!==s){var r=+t;var q=+s;if(r===r&&q===q){return r>q?1:-1;}return t<s?-1:1;}}if(k.length!=j.length){return k.length-j.length;}return n<m?-1:1;};},{}],36:[function(f,g,e){(function(k){var i={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function m(){var o=arguments[0],n=m.cache;if(!(n[o]&&n.hasOwnProperty(o))){n[o]=m.parse(o);}return m.format.call(null,n[o],arguments);}m.format=function(w,v){var A=1,y=w.length,s="",B,o=[],t,q,u,p,x,z,r=true,n="";for(t=0;t<y;t++){s=h(w[t]);if(s==="string"){o[o.length]=w[t];}else{if(s==="array"){u=w[t];if(u[2]){B=v[A];for(q=0;q<u[2].length;q++){if(!B.hasOwnProperty(u[2][q])){throw new Error(m("[sprintf] property '%s' does not exist",u[2][q]));}B=B[u[2][q]];}}else{if(u[1]){B=v[u[1]];}else{B=v[A++];}}if(h(B)=="function"){B=B();}if(i.not_string.test(u[8])&&i.not_json.test(u[8])&&(h(B)!="number"&&isNaN(B))){throw new TypeError(m("[sprintf] expecting number but found %s",h(B)));}if(i.number.test(u[8])){r=B>=0;}switch(u[8]){case"b":B=B.toString(2);break;case"c":B=String.fromCharCode(B);break;case"d":case"i":B=parseInt(B,10);break;case"j":B=JSON.stringify(B,null,u[6]?parseInt(u[6]):0);break;case"e":B=u[7]?B.toExponential(u[7]):B.toExponential();break;case"f":B=u[7]?parseFloat(B).toFixed(u[7]):parseFloat(B);break;case"g":B=u[7]?parseFloat(B).toPrecision(u[7]):parseFloat(B);break;case"o":B=B.toString(8);break;case"s":B=(B=String(B))&&u[7]?B.substring(0,u[7]):B;break;case"u":B=B>>>0;break;case"x":B=B.toString(16);break;case"X":B=B.toString(16).toUpperCase();break;}if(i.json.test(u[8])){o[o.length]=B;}else{if(i.number.test(u[8])&&(!r||u[3])){n=r?"+":"-";B=B.toString().replace(i.sign,"");}else{n="";}x=u[4]?u[4]==="0"?"0":u[4].charAt(1):" ";z=u[6]-(n+B).length;p=u[6]?z>0?j(x,z):"":"";o[o.length]=u[5]?n+B+p:x==="0"?n+p+B:p+n+B;}}}}return o.join("");};m.cache={};m.parse=function(n){var q=n,r=[],t=[],s=0;while(q){if((r=i.text.exec(q))!==null){t[t.length]=r[0];}else{if((r=i.modulo.exec(q))!==null){t[t.length]="%";}else{if((r=i.placeholder.exec(q))!==null){if(r[2]){s|=1;var u=[],p=r[2],o=[];if((o=i.key.exec(p))!==null){u[u.length]=o[1];while((p=p.substring(o[0].length))!==""){if((o=i.key_access.exec(p))!==null){u[u.length]=o[1];}else{if((o=i.index_access.exec(p))!==null){u[u.length]=o[1];}else{throw new SyntaxError("[sprintf] failed to parse named argument key");}}}}else{throw new SyntaxError("[sprintf] failed to parse named argument key");}r[2]=u;}else{s|=2;}if(s===3){throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");}t[t.length]=r;}else{throw new SyntaxError("[sprintf] unexpected placeholder");}}}q=q.substring(r[0].length);}return t;};var l=function(o,n,p){p=(n||[]).slice(0);p.splice(0,0,o);return m.apply(null,p);};function h(n){return Object.prototype.toString.call(n).slice(8,-1).toLowerCase();}function j(n,o){return Array(o+1).join(n);}if(typeof e!=="undefined"){e.sprintf=m;e.vsprintf=l;}else{k.sprintf=m;k.vsprintf=l;if(typeof d==="function"&&d.amd){d(function(){return{sprintf:m,vsprintf:l};});}}})(typeof window==="undefined"?this:window);},{}],37:[function(f,g,e){(function(j){g.exports=i;function i(m,n){if(h("noDeprecation")){return m;}var l=false;function k(){if(!l){if(h("throwDeprecation")){throw new Error(n);}else{if(h("traceDeprecation")){console.trace(n);}else{console.warn(n);}}l=true;}return m.apply(this,arguments);}return k;}function h(l){try{if(!j.localStorage){return false;}}catch(k){return false;}var m=j.localStorage[l];if(null==m){return false;}return String(m).toLowerCase()==="true";}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{}],38:[function(g,h,f){h.exports=function e(l,o,i,m){if(isNaN(l)||l==null){return"";}l=l.toFixed(~~o);m=typeof m=="string"?m:",";var n=l.split("."),k=n[0],j=n[1]?(i||".")+n[1]:"";return k.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+m)+j;};},{}],39:[function(f,g,e){var h=f("./helper/makeString");var i=f("./helper/strRepeat");g.exports=function j(o,m,k,l){o=h(o);m=~~m;var n=0;if(!k){k=" ";}else{if(k.length>1){k=k.charAt(0);}}switch(l){case"right":n=m-o.length;return o+i(k,n);case"both":n=m-o.length;return i(k,Math.ceil(n/2))+o+i(k,Math.floor(n/2));default:n=m-o.length;return i(k,n)+o;}};},{"./helper/makeString":20,"./helper/strRepeat":21}],40:[function(g,h,f){var i=g("./helper/adjacent");h.exports=function e(j){return i(j,-1);};},{"./helper/adjacent":15}],41:[function(h,i,g){var j=h("./helper/makeString");var f=h("./rtrim");i.exports=function e(n,m,o){n=j(n);m=~~m;o=o!=null?String(o):"...";if(n.length<=m){return n;}var k=function(p){return p.toUpperCase()!==p.toLowerCase()?"A":" ";},l=n.slice(0,m+1).replace(/.(?=\W*\w*$)/g,k);if(l.slice(l.length-2).match(/\w\w/)){l=l.replace(/\s*\S+$/,"");}else{l=f(l.slice(0,l.length-1));}return(l+o).length>n.length?n:n.slice(0,l.length)+o;};},{"./helper/makeString":20,"./rtrim":47}],42:[function(h,i,g){var f=h("./surround");i.exports=function e(k,j){return f(k,j||'"');};},{"./surround":58}],43:[function(f,g,e){var h=f("./helper/makeString");var j=f("./helper/strRepeat");g.exports=function i(m,n,l){m=h(m);n=~~n;if(l==null){return j(m,n);}for(var k=[];n>0;k[--n]=m){}return k.join(l);};},{"./helper/makeString":20,"./helper/strRepeat":21}],44:[function(g,h,f){var i=g("./helper/makeString");h.exports=function e(o,n,k,m){var j=m===true?"gi":"g";var l=new RegExp(n,j);return i(o).replace(l,k);};},{"./helper/makeString":20}],45:[function(g,h,e){var i=g("./chars");h.exports=function f(j){return i(j).reverse().join("");};},{"./chars":3}],46:[function(f,g,e){var i=f("./pad");g.exports=function h(l,k,j){return i(l,k,j,"right");};},{"./pad":39}],47:[function(h,j,g){var k=h("./helper/makeString");var f=h("./helper/defaultToWhiteSpace");var i=String.prototype.trimRight;j.exports=function e(m,l){m=k(m);if(!l&&i){return i.call(m);}l=f(l);return m.replace(new RegExp(l+"+$"),"");};},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],48:[function(h,i,g){var f=h("./trim");var j=h("./dasherize");var k=h("./cleanDiacritics");i.exports=function e(l){return f(j(k(l).replace(/[^\w\s-]/g,"-").toLowerCase()),"-");};},{"./cleanDiacritics":7,"./dasherize":9,"./trim":65}],49:[function(f,g,e){var h=f("./chars");g.exports=function i(n,k,m,l){var j=h(n);j.splice(~~k,~~m,l);return j.join("");};},{"./chars":3}],50:[function(f,g,e){var h=f("util-deprecate");g.exports=h(f("sprintf-js").sprintf,"sprintf() will be removed in the next major release, use the sprintf-js package instead.");},{"sprintf-js":36,"util-deprecate":37}],51:[function(f,h,e){var i=f("./helper/makeString");var j=f("./helper/toPositive");h.exports=function g(m,l,k){m=i(m);l=""+l;k=k==null?0:Math.min(j(k),m.length);return m.lastIndexOf(l,k)===k;};},{"./helper/makeString":20,"./helper/toPositive":22}],52:[function(f,g,e){var h=f("./helper/makeString");g.exports=function i(k,j){k=h(k);j=h(j);var l=!j?-1:k.indexOf(j);return ~l?k.slice(0,l):k;};},{"./helper/makeString":20}],53:[function(f,g,e){var h=f("./helper/makeString");g.exports=function i(k,j){k=h(k);j=h(j);var l=k.lastIndexOf(j);return ~l?k.slice(0,l):k;};},{"./helper/makeString":20}],54:[function(f,g,e){var i=f("./helper/makeString");g.exports=function h(k,j){k=i(k);j=i(j);var l=!j?-1:k.indexOf(j);return ~l?k.slice(l+j.length,k.length):k;};},{"./helper/makeString":20}],55:[function(g,h,e){var i=g("./helper/makeString");h.exports=function f(k,j){k=i(k);j=i(j);var l=!j?-1:k.lastIndexOf(j);return ~l?k.slice(l+j.length,k.length):k;};},{"./helper/makeString":20}],56:[function(f,g,e){var h=f("./helper/makeString");g.exports=function i(j){return h(j).replace(/<\/?[^>]+>/g,"");};},{"./helper/makeString":20}],57:[function(g,h,f){var i=g("./helper/adjacent");h.exports=function e(j){return i(j,1);};},{"./helper/adjacent":15}],58:[function(g,h,f){h.exports=function e(i,j){return[j,i,j].join("");};},{}],59:[function(g,h,f){var i=g("./helper/makeString");h.exports=function e(j){return i(j).replace(/\S/g,function(k){return k===k.toUpperCase()?k.toLowerCase():k.toUpperCase();});};},{"./helper/makeString":20}],60:[function(f,g,e){var h=f("./helper/makeString");g.exports=function i(j){return h(j).toLowerCase().replace(/(?:^|\s|-)\S/g,function(k){return k.toUpperCase();});};},{"./helper/makeString":20}],61:[function(h,i,g){var f=h("./trim");function j(m,k){var l,n,o=m.toLowerCase();k=[].concat(k);for(l=0;l<k.length;l+=1){n=k[l];if(!n){continue;}if(n.test&&n.test(m)){return true;}if(n.toLowerCase()===o){return true;}}}i.exports=function e(m,l,k){if(typeof m==="number"){m=""+m;}if(typeof m!=="string"){return !!m;}m=f(m);if(j(m,l||["true","1"])){return true;}if(j(m,k||["false","0"])){return false;}};},{"./trim":65}],62:[function(g,h,f){h.exports=function e(j,i){if(j==null){return 0;}var k=Math.pow(10,isFinite(i)?i:0);return Math.round(j*k)/k;};},{}],63:[function(g,h,f){var e=g("./rtrim");h.exports=function i(o,n,l,k){n=n||", ";l=l||" and ";var j=o.slice(),m=j.pop();if(o.length>2&&k){l=e(n)+l;}return j.length?j.join(n)+l+m:m;};},{"./rtrim":47}],64:[function(f,g,e){var h=f("./toSentence");g.exports=function i(l,k,j){return h(l,k,j,true);};},{"./toSentence":63}],65:[function(h,i,g){var k=h("./helper/makeString");var f=h("./helper/defaultToWhiteSpace");var j=String.prototype.trim;i.exports=function e(m,l){m=k(m);if(!l&&j){return j.call(m);}l=f(l);return m.replace(new RegExp("^"+l+"+|"+l+"+$","g"),"");};},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],66:[function(f,h,e){var i=f("./helper/makeString");h.exports=function g(l,k,j){l=i(l);j=j||"...";k=~~k;return l.length>k?l.slice(0,k)+j:l;};},{"./helper/makeString":20}],67:[function(g,i,f){var e=g("./trim");i.exports=function h(j){return e(j).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase();};},{"./trim":65}],68:[function(g,h,e){var i=g("./helper/makeString");var f=g("./helper/htmlEntities");h.exports=function j(k){return i(k).replace(/\&([^;]+);/g,function(l,n){var m;if(n in f){return f[n];}else{if(m=n.match(/^#x([\da-fA-F]+)$/)){return String.fromCharCode(parseInt(m[1],16));}else{if(m=n.match(/^#(\d+)$/)){return String.fromCharCode(~~m[1]);}else{return l;}}}});};},{"./helper/htmlEntities":19,"./helper/makeString":20}],69:[function(f,h,e){h.exports=function g(j,i){i=i||'"';if(j[0]===i&&j[j.length-1]===i){return j.slice(1,j.length-1);}else{return j;}};},{}],70:[function(f,g,e){var h=f("util-deprecate");g.exports=h(f("sprintf-js").vsprintf,"vsprintf() will be removed in the next major release, use the sprintf-js package instead.");},{"sprintf-js":36,"util-deprecate":37}],71:[function(h,i,g){var f=h("./isBlank");var e=h("./trim");i.exports=function j(l,k){if(f(l)){return[];}return e(l,k).split(k||/\s+/);};},{"./isBlank":27,"./trim":65}],72:[function(f,g,e){var i=f("./helper/makeString");g.exports=function h(o,s){o=i(o);s=s||{};var j=s.width||75;var p=s.seperator||"\n";var r=s.cut||false;var q=s.preserveSpaces||false;var k=s.trailingSpaces||false;var t;if(j<=0){return o;}else{if(!r){var n=o.split(" ");var l=0;t="";while(n.length>0){if(1+n[0].length+l>j){if(l>0){if(q){t+=" ";l++;}else{if(k){while(l<j){t+=" ";l++;}}}t+=p;l=0;}}if(l>0){t+=" ";l++;}t+=n[0];l+=n[0].length;n.shift();}if(k){while(l<j){t+=" ";l++;}}return t;}else{var m=0;t="";while(m<o.length){if(m%j==0&&m>0){t+=p;}t+=o.charAt(m);m++;}if(k){while(m%j>0){t+=" ";m++;}}return t;}}};},{"./helper/makeString":20}]},{},[25])(25);});(function(G){var U,aJ="2.8.3",a9=typeof global!=="undefined"?global:this,au,ac=Math.round,aO=Object.prototype.hasOwnProperty,aj,z=0,j=1,a1=2,y=3,aG=4,w=5,Y=6,ar={},aU=[],at=(typeof module!=="undefined"&&module.exports),e=/^\/?Date\((\-?\d+)/i,bc=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,aL=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ax=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,ai=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,k=/\d\d?/,ak=/\d{1,3}/,H=/\d{1,4}/,bi=/[+\-]?\d{1,6}/,a7=/\d+/,M=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,r=/Z|[\+\-]\d\d:?\d\d/gi,n=/T/i,aW=/[\+\-]?\d+(\.\d{1,3})?/,bo=/\d{1,2}/,ah=/\d/,u=/\d\d/,bb=/\d{3}/,aV=/\d{4}/,ao=/[+-]?\d{6}/,af=/[+-]?\d+/,aS=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Z="YYYY-MM-DDTHH:mm:ssZ",ba=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],K=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ag=/([\+\-]|\d\d)/gi,aN="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),F={Milliseconds:1,Seconds:1000,Minutes:60000,Hours:3600000,Days:86400000,Months:2592000000,Years:31536000000},f={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},a6={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},aq={},A={s:45,m:45,h:22,d:26,M:11},a0="DDD w W M D d".split(" "),av="M D H h m s w W".split(" "),a2={M:function(){return this.month()+1;},MMM:function(i){return this.localeData().monthsShort(this,i);},MMMM:function(i){return this.localeData().months(this,i);},D:function(){return this.date();},DDD:function(){return this.dayOfYear();},d:function(){return this.day();},dd:function(i){return this.localeData().weekdaysMin(this,i);},ddd:function(i){return this.localeData().weekdaysShort(this,i);},dddd:function(i){return this.localeData().weekdays(this,i);},w:function(){return this.week();},W:function(){return this.isoWeek();},YY:function(){return N(this.year()%100,2);},YYYY:function(){return N(this.year(),4);},YYYYY:function(){return N(this.year(),5);},YYYYYY:function(){var bp=this.year(),i=bp>=0?"+":"-";return i+N(Math.abs(bp),6);},gg:function(){return N(this.weekYear()%100,2);},gggg:function(){return N(this.weekYear(),4);},ggggg:function(){return N(this.weekYear(),5);},GG:function(){return N(this.isoWeekYear()%100,2);},GGGG:function(){return N(this.isoWeekYear(),4);},GGGGG:function(){return N(this.isoWeekYear(),5);},e:function(){return this.weekday();},E:function(){return this.isoWeekday();},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),true);},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),false);},H:function(){return this.hours();},h:function(){return this.hours()%12||12;},m:function(){return this.minutes();},s:function(){return this.seconds();},S:function(){return P(this.milliseconds()/100);},SS:function(){return N(P(this.milliseconds()/10),2);},SSS:function(){return N(this.milliseconds(),3);},SSSS:function(){return N(this.milliseconds(),3);},Z:function(){var bp=-this.zone(),i="+";if(bp<0){bp=-bp;i="-";}return i+N(P(bp/60),2)+":"+N(P(bp)%60,2);},ZZ:function(){var bp=-this.zone(),i="+";if(bp<0){bp=-bp;i="-";}return i+N(P(bp/60),2)+N(P(bp)%60,2);},z:function(){return this.zoneAbbr();},zz:function(){return this.zoneName();},X:function(){return this.unix();},Q:function(){return this.quarter();}},a={},aa=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function aX(bp,i,bq){switch(arguments.length){case 2:return bp!=null?bp:i;case 3:return bp!=null?bp:i!=null?i:bq;default:throw new Error("Implement me");}}function a3(bp,i){return aO.call(bp,i);}function am(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false};}function bn(i){if(U.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+i);}}function bl(bp,i){var bq=true;return aH(function(){if(bq){bn(bp);bq=false;}return i.apply(this,arguments);},i);}function g(i,bp){if(!a[i]){bn(bp);a[i]=true;}}function R(bp,i){return function(bq){return N(bp.call(this,bq),i);};}function l(i,bp){return function(bq){return this.localeData().ordinal(i.call(this,bq),bp);};}while(a0.length){aj=a0.pop();a2[aj+"o"]=l(a2[aj],aj);}while(av.length){aj=av.pop();a2[aj+aj]=R(a2[aj],2);}a2.DDDD=R(a2.DDD,3);function ae(){}function O(bp,i){if(i!==false){bf(bp);}aQ(this,bp);this._d=new Date(+bp._d);}function al(bt){var bv=o(bt),bu=bv.year||0,bp=bv.quarter||0,bq=bv.month||0,i=bv.week||0,by=bv.day||0,bw=bv.hour||0,bs=bv.minute||0,bx=bv.second||0,br=bv.millisecond||0;this._milliseconds=+br+bx*1000+bs*60000+bw*3600000;this._days=+by+i*7;this._months=+bq+bp*3+bu*12;this._data={};this._locale=U.localeData();this._bubble();}function aH(bq,bp){for(var br in bp){if(a3(bp,br)){bq[br]=bp[br];}}if(a3(bp,"toString")){bq.toString=bp.toString;}if(a3(bp,"valueOf")){bq.valueOf=bp.valueOf;}return bq;}function aQ(bt,bs){var bp,br,bq;if(typeof bs._isAMomentObject!=="undefined"){bt._isAMomentObject=bs._isAMomentObject;}if(typeof bs._i!=="undefined"){bt._i=bs._i;}if(typeof bs._f!=="undefined"){bt._f=bs._f;}if(typeof bs._l!=="undefined"){bt._l=bs._l;}if(typeof bs._strict!=="undefined"){bt._strict=bs._strict;}if(typeof bs._tzm!=="undefined"){bt._tzm=bs._tzm;}if(typeof bs._isUTC!=="undefined"){bt._isUTC=bs._isUTC;}if(typeof bs._offset!=="undefined"){bt._offset=bs._offset;}if(typeof bs._pf!=="undefined"){bt._pf=bs._pf;}if(typeof bs._locale!=="undefined"){bt._locale=bs._locale;}if(aU.length>0){for(bp in aU){br=aU[bp];bq=bs[br];if(typeof bq!=="undefined"){bt[br]=bq;}}}return bt;}function p(i){if(i<0){return Math.ceil(i);}else{return Math.floor(i);}}function N(bs,br,bq){var bp=""+Math.abs(bs),i=bs>=0;while(bp.length<br){bp="0"+bp;}return(i?(bq?"+":""):"-")+bp;}function d(bq,i){var bp={milliseconds:0,months:0};bp.months=i.month()-bq.month()+(i.year()-bq.year())*12;if(bq.clone().add(bp.months,"M").isAfter(i)){--bp.months;}bp.milliseconds=+i-+(bq.clone().add(bp.months,"M"));return bp;}function ab(bq,i){var bp;i=B(i,bq);if(bq.isBefore(i)){bp=d(bq,i);}else{bp=d(i,bq);bp.milliseconds=-bp.milliseconds;bp.months=-bp.months;}return bp;}function V(bp,i){return function(bt,bs){var br,bq;if(bs!==null&&!isNaN(+bs)){g(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period).");bq=bt;bt=bs;bs=bq;}bt=typeof bt==="string"?+bt:bt;br=U.duration(bt,bs);J(this,br,bp);return this;};}function J(bq,bt,bs,br){var bp=bt._milliseconds,bu=bt._days,i=bt._months;br=br==null?true:br;if(bp){bq._d.setTime(+bq._d+bp*bs);}if(bu){aY(bq,"Date",bm(bq,"Date")+bu*bs);}if(i){bh(bq,bm(bq,"Month")+i*bs);}if(br){U.updateOffset(bq,bu||i);}}function b(i){return Object.prototype.toString.call(i)==="[object Array]";}function h(i){return Object.prototype.toString.call(i)==="[object Date]"||i instanceof Date;}function aZ(bu,bt,bq){var bp=Math.min(bu.length,bt.length),br=Math.abs(bu.length-bt.length),bv=0,bs;for(bs=0;bs<bp;bs++){if((bq&&bu[bs]!==bt[bs])||(!bq&&P(bu[bs])!==P(bt[bs]))){bv++;}}return bv+br;}function a5(bp){if(bp){var i=bp.toLowerCase().replace(/(.)s$/,"$1");bp=f[bp]||a6[i]||i;}return bp;}function o(bq){var bp={},i,br;for(br in bq){if(a3(bq,br)){i=a5(br);if(i){bp[i]=bq[br];}}}return bp;}function aD(bp){var i,bq;if(bp.indexOf("week")===0){i=7;bq="day";}else{if(bp.indexOf("month")===0){i=12;bq="month";}else{return;}}U[bp]=function(bv,bs){var bu,br,bw=U._locale[bp],bt=[];if(typeof bv==="number"){bs=bv;bv=G;}br=function(by){var bx=U().utc().set(bq,by);return bw.call(U._locale,bx,bv||"");};if(bs!=null){return br(bs);}else{for(bu=0;bu<i;bu++){bt.push(br(bu));}return bt;}};}function P(i){var bq=+i,bp=0;if(bq!==0&&isFinite(bq)){if(bq>=0){bp=Math.floor(bq);}else{bp=Math.ceil(bq);}}return bp;}function bd(i,bp){return new Date(Date.UTC(i,bp+1,0)).getUTCDate();}function aM(i,bq,bp){return E(U([i,11,31+bq-bp]),bq,bp).week;}function a8(i){return aR(i)?366:365;}function aR(i){return(i%4===0&&i%100!==0)||i%400===0;}function bf(i){var bp;if(i._a&&i._pf.overflow===-2){bp=i._a[j]<0||i._a[j]>11?j:i._a[a1]<1||i._a[a1]>bd(i._a[z],i._a[j])?a1:i._a[y]<0||i._a[y]>23?y:i._a[aG]<0||i._a[aG]>59?aG:i._a[w]<0||i._a[w]>59?w:i._a[Y]<0||i._a[Y]>999?Y:-1;if(i._pf._overflowDayOfYear&&(bp<z||bp>a1)){bp=a1;}i._pf.overflow=bp;}}function aI(i){if(i._isValid==null){i._isValid=!isNaN(i._d.getTime())&&i._pf.overflow<0&&!i._pf.empty&&!i._pf.invalidMonth&&!i._pf.nullInput&&!i._pf.invalidFormat&&!i._pf.userInvalidated;if(i._strict){i._isValid=i._isValid&&i._pf.charsLeftOver===0&&i._pf.unusedTokens.length===0;}}return i._isValid;}function aT(i){return i?i.toLowerCase().replace("_","-"):i;}function aA(bu){var bs=0,bq,bt,bp,br;while(bs<bu.length){br=aT(bu[bs]).split("-");bq=br.length;bt=aT(bu[bs+1]);bt=bt?bt.split("-"):null;while(bq>0){bp=c(br.slice(0,bq).join("-"));if(bp){return bp;}if(bt&&bt.length>=bq&&aZ(br,bt,true)>=bq-1){break;}bq--;}bs++;}return null;}function c(i){var bq=null;if(!ar[i]&&at){try{bq=U.locale();require("./locale/"+i);U.locale(bq);}catch(bp){}}return ar[i];}function B(i,bp){return bp._isUTC?U(i).zone(bp._offset||0):U(i).local();}aH(ae.prototype,{set:function(bp){var br,bq;for(bq in bp){br=bp[bq];if(typeof br==="function"){this[bq]=br;}else{this["_"+bq]=br;}}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(i){return this._months[i.month()];},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(i){return this._monthsShort[i.month()];},monthsParse:function(bp){var bq,bs,br;if(!this._monthsParse){this._monthsParse=[];}for(bq=0;bq<12;bq++){if(!this._monthsParse[bq]){bs=U.utc([2000,bq]);br="^"+this.months(bs,"")+"|^"+this.monthsShort(bs,"");this._monthsParse[bq]=new RegExp(br.replace(".",""),"i");}if(this._monthsParse[bq].test(bp)){return bq;}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(i){return this._weekdays[i.day()];},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(i){return this._weekdaysShort[i.day()];},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(i){return this._weekdaysMin[i.day()];},weekdaysParse:function(bs){var bp,br,bq;if(!this._weekdaysParse){this._weekdaysParse=[];}for(bp=0;bp<7;bp++){if(!this._weekdaysParse[bp]){br=U([2000,1]).day(bp);bq="^"+this.weekdays(br,"")+"|^"+this.weekdaysShort(br,"")+"|^"+this.weekdaysMin(br,"");this._weekdaysParse[bp]=new RegExp(bq.replace(".",""),"i");}if(this._weekdaysParse[bp].test(bs)){return bp;}}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(bp){var i=this._longDateFormat[bp];if(!i&&this._longDateFormat[bp.toUpperCase()]){i=this._longDateFormat[bp.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(bq){return bq.slice(1);});this._longDateFormat[bp]=i;}return i;},isPM:function(i){return((i+"").toLowerCase().charAt(0)==="p");},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(i,bp,bq){if(i>11){return bq?"pm":"PM";}else{return bq?"am":"AM";}},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(bp,bq){var i=this._calendar[bp];return typeof i==="function"?i.apply(bq):i;},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(br,bq,bp,bs){var i=this._relativeTime[bp];return(typeof i==="function")?i(br,bq,bp,bs):i.replace(/%d/i,br);},pastFuture:function(bq,i){var bp=this._relativeTime[bq>0?"future":"past"];return typeof bp==="function"?bp(i):bp.replace(/%s/i,i);},ordinal:function(i){return this._ordinal.replace("%d",i);},_ordinal:"%d",preparse:function(i){return i;},postformat:function(i){return i;},week:function(i){return E(i,this._week.dow,this._week.doy).week;},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate;}});function ap(i){if(i.match(/\[[\s\S]/)){return i.replace(/^\[|\]$/g,"");}return i.replace(/\\/g,"");}function v(br){var bs=br.match(ax),bp,bq;for(bp=0,bq=bs.length;bp<bq;bp++){if(a2[bs[bp]]){bs[bp]=a2[bs[bp]];}else{bs[bp]=ap(bs[bp]);}}return function(bt){var i="";for(bp=0;bp<bq;bp++){i+=bs[bp] instanceof Function?bs[bp].call(bt,br):bs[bp];}return i;};}function aw(i,bp){if(!i.isValid()){return i.localeData().invalidDate();}bp=bj(bp,i.localeData());if(!aq[bp]){aq[bp]=v(bp);}return aq[bp](i);}function bj(bs,bp){var bq=5;function br(i){return bp.longDateFormat(i)||i;}ai.lastIndex=0;while(bq>=0&&ai.test(bs)){bs=bs.replace(ai,br);ai.lastIndex=0;bq-=1;}return bs;}function aB(br,bq){var bp,i=bq._strict;switch(br){case"Q":return ah;case"DDDD":return bb;case"YYYY":case"GGGG":case"gggg":return i?aV:H;case"Y":case"G":case"g":return af;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?ao:bi;case"S":if(i){return ah;}case"SS":if(i){return u;}case"SSS":if(i){return bb;}case"DDD":return ak;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return M;case"a":case"A":return bq._locale._meridiemParse;case"X":return aW;case"Z":case"ZZ":return r;case"T":return n;case"SSSS":return a7;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?u:k;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return k;case"Do":return bo;default:bp=new RegExp(bg(aF(br.replace("\\","")),"i"));return bp;}}function C(bp){bp=bp||"";var i=(bp.match(r)||[]),bs=i[i.length-1]||[],br=(bs+"").match(ag)||["-",0,0],bq=+(br[1]*60)+P(br[2]);return br[0]==="+"?-bq:bq;}function aE(bs,bq,br){var bp,i=br._a;switch(bs){case"Q":if(bq!=null){i[j]=(P(bq)-1)*3;}break;case"M":case"MM":if(bq!=null){i[j]=P(bq)-1;}break;case"MMM":case"MMMM":bp=br._locale.monthsParse(bq);if(bp!=null){i[j]=bp;}else{br._pf.invalidMonth=bq;}break;case"D":case"DD":if(bq!=null){i[a1]=P(bq);}break;case"Do":if(bq!=null){i[a1]=P(parseInt(bq,10));}break;case"DDD":case"DDDD":if(bq!=null){br._dayOfYear=P(bq);}break;case"YY":i[z]=U.parseTwoDigitYear(bq);break;case"YYYY":case"YYYYY":case"YYYYYY":i[z]=P(bq);break;case"a":case"A":br._isPm=br._locale.isPM(bq);break;case"H":case"HH":case"h":case"hh":i[y]=P(bq);break;case"m":case"mm":i[aG]=P(bq);break;case"s":case"ss":i[w]=P(bq);break;case"S":case"SS":case"SSS":case"SSSS":i[Y]=P(("0."+bq)*1000);break;case"X":br._d=new Date(parseFloat(bq)*1000);break;case"Z":case"ZZ":br._useUTC=true;br._tzm=C(bq);break;case"dd":case"ddd":case"dddd":bp=br._locale.weekdaysParse(bq);if(bp!=null){br._w=br._w||{};br._w.d=bp;}else{br._pf.invalidWeekday=bq;}break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":bs=bs.substr(0,1);case"gggg":case"GGGG":case"GGGGG":bs=bs.substr(0,2);if(bq){br._w=br._w||{};br._w[bs]=P(bq);}break;case"gg":case"GG":br._w=br._w||{};br._w[bs]=U.parseTwoDigitYear(bq);}}function W(bq){var i,bs,br,bt,bv,bu,bp;i=bq._w;if(i.GG!=null||i.W!=null||i.E!=null){bv=1;bu=4;bs=aX(i.GG,bq._a[z],E(U(),1,4).year);br=aX(i.W,1);bt=aX(i.E,1);}else{bv=bq._locale._week.dow;bu=bq._locale._week.doy;bs=aX(i.gg,bq._a[z],E(U(),bv,bu).year);br=aX(i.w,1);if(i.d!=null){bt=i.d;if(bt<bv){++br;}}else{if(i.e!=null){bt=i.e+bv;}else{bt=bv;}}}bp=x(bs,br,bt,bu,bv);bq._a[z]=bp.year;bq._dayOfYear=bp.dayOfYear;}function an(bt){var bu,bs,br=[],bq,bp;if(bt._d){return;}bq=q(bt);if(bt._w&&bt._a[a1]==null&&bt._a[j]==null){W(bt);}if(bt._dayOfYear){bp=aX(bt._a[z],bq[z]);if(bt._dayOfYear>a8(bp)){bt._pf._overflowDayOfYear=true;}bs=L(bp,0,bt._dayOfYear);bt._a[j]=bs.getUTCMonth();bt._a[a1]=bs.getUTCDate();}for(bu=0;bu<3&&bt._a[bu]==null;++bu){bt._a[bu]=br[bu]=bq[bu];}for(;bu<7;bu++){bt._a[bu]=br[bu]=(bt._a[bu]==null)?(bu===2?1:0):bt._a[bu];}bt._d=(bt._useUTC?L:ay).apply(null,br);if(bt._tzm!=null){bt._d.setUTCMinutes(bt._d.getUTCMinutes()+bt._tzm);}}function aK(bp){var i;if(bp._d){return;}i=o(bp._i);bp._a=[i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond];an(bp);}function q(bp){var i=new Date();if(bp._useUTC){return[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()];}else{return[i.getFullYear(),i.getMonth(),i.getDate()];}}function T(br){if(br._f===U.ISO_8601){az(br);return;}br._a=[];br._pf.empty=true;var bu=""+br._i,bt,bq,bx,bs,bw,bp=bu.length,bv=0;bx=bj(br._f,br._locale).match(ax)||[];for(bt=0;bt<bx.length;bt++){bs=bx[bt];bq=(bu.match(aB(bs,br))||[])[0];if(bq){bw=bu.substr(0,bu.indexOf(bq));if(bw.length>0){br._pf.unusedInput.push(bw);}bu=bu.slice(bu.indexOf(bq)+bq.length);bv+=bq.length;}if(a2[bs]){if(bq){br._pf.empty=false;}else{br._pf.unusedTokens.push(bs);}aE(bs,bq,br);}else{if(br._strict&&!bq){br._pf.unusedTokens.push(bs);}}}br._pf.charsLeftOver=bp-bv;if(bu.length>0){br._pf.unusedInput.push(bu);}if(br._isPm&&br._a[y]<12){br._a[y]+=12;}if(br._isPm===false&&br._a[y]===12){br._a[y]=0;}an(br);bf(br);}function aF(i){return i.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(bp,bt,bs,br,bq){return bt||bs||br||bq;});}function bg(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");}function a4(bp){var bt,br,bs,bq,bu;if(bp._f.length===0){bp._pf.invalidFormat=true;bp._d=new Date(NaN);return;}for(bq=0;bq<bp._f.length;bq++){bu=0;bt=aQ({},bp);if(bp._useUTC!=null){bt._useUTC=bp._useUTC;}bt._pf=am();bt._f=bp._f[bq];T(bt);if(!aI(bt)){continue;}bu+=bt._pf.charsLeftOver;bu+=bt._pf.unusedTokens.length*10;bt._pf.score=bu;if(bs==null||bu<bs){bs=bu;br=bt;}}aH(bp,br||bt);}function az(bs){var bt,bp,br=bs._i,bq=aS.exec(br);if(bq){bs._pf.iso=true;for(bt=0,bp=ba.length;bt<bp;bt++){if(ba[bt][1].exec(br)){bs._f=ba[bt][0]+(bq[6]||" ");break;}}for(bt=0,bp=K.length;bt<bp;bt++){if(K[bt][1].exec(br)){bs._f+=K[bt][0];break;}}if(br.match(r)){bs._f+="Z";}T(bs);}else{bs._isValid=false;}}function m(i){az(i);if(i._isValid===false){delete i._isValid;U.createFromInputFallback(i);}}function I(bp,bs){var br=[],bq;for(bq=0;bq<bp.length;++bq){br.push(bs(bp[bq],bq));}return br;}function S(bq){var bp=bq._i,i;if(bp===G){bq._d=new Date();}else{if(h(bp)){bq._d=new Date(+bp);}else{if((i=e.exec(bp))!==null){bq._d=new Date(+i[1]);}else{if(typeof bp==="string"){m(bq);}else{if(b(bp)){bq._a=I(bp.slice(0),function(br){return parseInt(br,10);});an(bq);}else{if(typeof(bp)==="object"){aK(bq);}else{if(typeof(bp)==="number"){bq._d=new Date(bp);}else{U.createFromInputFallback(bq);}}}}}}}}function ay(bv,i,bt,bs,bu,br,bq){var bp=new Date(bv,i,bt,bs,bu,br,bq);if(bv<1970){bp.setFullYear(bv);}return bp;}function L(bp){var i=new Date(Date.UTC.apply(null,arguments));if(bp<1970){i.setUTCFullYear(bp);}return i;}function be(bp,i){if(typeof bp==="string"){if(!isNaN(bp)){bp=parseInt(bp,10);}else{bp=i.weekdaysParse(bp);if(typeof bp!=="number"){return null;}}}return bp;}function aP(bp,br,bq,bs,i){return i.relativeTime(br||1,!!bq,bp,bs);}function D(bs,bp,bw){var bq=U.duration(bs).abs(),bx=ac(bq.as("s")),br=ac(bq.as("m")),bv=ac(bq.as("h")),by=ac(bq.as("d")),i=ac(bq.as("M")),bt=ac(bq.as("y")),bu=bx<A.s&&["s",bx]||br===1&&["m"]||br<A.m&&["mm",br]||bv===1&&["h"]||bv<A.h&&["hh",bv]||by===1&&["d"]||by<A.d&&["dd",by]||i===1&&["M"]||i<A.M&&["MM",i]||bt===1&&["y"]||["yy",bt];bu[2]=bp;bu[3]=+bs>0;bu[4]=bw;return aP.apply({},bu);}function E(bs,bq,bt){var bp=bt-bq,i=bt-bs.day(),br;if(i>bp){i-=7;}if(i<bp-7){i+=7;}br=U(bs).add(i,"d");return{week:Math.ceil(br.dayOfYear()/7),year:br.year()};}function x(bs,br,bt,bv,i){var bu=L(bs,0,1).getUTCDay(),bq,bp;bu=bu===0?7:bu;bt=bt!=null?bt:i;bq=i-bu+(bu>bv?7:0)-(bu<i?7:0);bp=7*(br-1)+(bt-i)+bq+1;return{year:bp>0?bs:bs-1,dayOfYear:bp>0?bp:a8(bs-1)+bp};}function Q(bp){var i=bp._i,bq=bp._f;bp._locale=bp._locale||U.localeData(bp._l);if(i===null||(bq===G&&i==="")){return U.invalid({nullInput:true});}if(typeof i==="string"){bp._i=i=bp._locale.preparse(i);}if(U.isMoment(i)){return new O(i,true);}else{if(bq){if(b(bq)){a4(bp);}else{T(bp);}}else{S(bp);}}return new O(bp);}U=function(bq,br,i,bp){var bs;if(typeof(i)==="boolean"){bp=i;i=G;}bs={};bs._isAMomentObject=true;bs._i=bq;bs._f=br;bs._l=i;bs._strict=bp;bs._isUTC=false;bs._pf=am();return Q(bs);};U.suppressDeprecationWarnings=false;U.createFromInputFallback=bl("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(i){i._d=new Date(i._i);});function aC(br,bs){var bq,bp;if(bs.length===1&&b(bs[0])){bs=bs[0];}if(!bs.length){return U();}bq=bs[0];for(bp=1;bp<bs.length;++bp){if(bs[bp][br](bq)){bq=bs[bp];}}return bq;}U.min=function(){var i=[].slice.call(arguments,0);return aC("isBefore",i);};U.max=function(){var i=[].slice.call(arguments,0);return aC("isAfter",i);};U.utc=function(bq,br,i,bp){var bs;if(typeof(i)==="boolean"){bp=i;i=G;}bs={};bs._isAMomentObject=true;bs._useUTC=true;bs._isUTC=true;bs._l=i;bs._i=bq;bs._f=br;bs._strict=bp;bs._pf=am();return Q(bs).utc();};U.unix=function(i){return U(i*1000);};U.duration=function(bq,bu){var bv=bq,bt=null,bp,bs,br,i;if(U.isDuration(bq)){bv={ms:bq._milliseconds,d:bq._days,M:bq._months};}else{if(typeof bq==="number"){bv={};if(bu){bv[bu]=bq;}else{bv.milliseconds=bq;}}else{if(!!(bt=bc.exec(bq))){bp=(bt[1]==="-")?-1:1;bv={y:0,d:P(bt[a1])*bp,h:P(bt[y])*bp,m:P(bt[aG])*bp,s:P(bt[w])*bp,ms:P(bt[Y])*bp};}else{if(!!(bt=aL.exec(bq))){bp=(bt[1]==="-")?-1:1;br=function(bx){var bw=bx&&parseFloat(bx.replace(",","."));return(isNaN(bw)?0:bw)*bp;};bv={y:br(bt[2]),M:br(bt[3]),d:br(bt[4]),h:br(bt[5]),m:br(bt[6]),s:br(bt[7]),w:br(bt[8])};}else{if(typeof bv==="object"&&("from" in bv||"to" in bv)){i=ab(U(bv.from),U(bv.to));bv={};bv.ms=i.milliseconds;bv.M=i.months;}}}}}bs=new al(bv);if(U.isDuration(bq)&&a3(bq,"_locale")){bs._locale=bq._locale;}return bs;};U.version=aJ;U.defaultFormat=Z;U.ISO_8601=function(){};U.momentProperties=aU;U.updateOffset=function(){};U.relativeTimeThreshold=function(i,bp){if(A[i]===G){return false;}if(bp===G){return A[i];}A[i]=bp;return true;};U.lang=bl("moment.lang is deprecated. Use moment.locale instead.",function(i,bp){return U.locale(i,bp);});U.locale=function(bp,i){var bq;if(bp){if(typeof(i)!=="undefined"){bq=U.defineLocale(bp,i);}else{bq=U.localeData(bp);}if(bq){U.duration._locale=U._locale=bq;}}return U._locale._abbr;};U.defineLocale=function(bp,i){if(i!==null){i.abbr=bp;if(!ar[bp]){ar[bp]=new ae();}ar[bp].set(i);U.locale(bp);return ar[bp];}else{delete ar[bp];return null;}};U.langData=bl("moment.langData is deprecated. Use moment.localeData instead.",function(i){return U.localeData(i);});U.localeData=function(bp){var i;if(bp&&bp._locale&&bp._locale._abbr){bp=bp._locale._abbr;}if(!bp){return U._locale;}if(!b(bp)){i=c(bp);if(i){return i;}bp=[bp];}return aA(bp);};U.isMoment=function(i){return i instanceof O||(i!=null&&a3(i,"_isAMomentObject"));};U.isDuration=function(i){return i instanceof al;};for(aj=aa.length-1;aj>=0;--aj){aD(aa[aj]);}U.normalizeUnits=function(i){return a5(i);};U.invalid=function(bp){var i=U.utc(NaN);if(bp!=null){aH(i._pf,bp);}else{i._pf.userInvalidated=true;}return i;};U.parseZone=function(){return U.apply(null,arguments).parseZone();};U.parseTwoDigitYear=function(i){return P(i)+(P(i)>68?1900:2000);};aH(U.fn=O.prototype,{clone:function(){return U(this);},valueOf:function(){return +this._d+((this._offset||0)*60000);},unix:function(){return Math.floor(+this/1000);},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");},toDate:function(){return this._offset?new Date(+this):this._d;},toISOString:function(){var i=U(this).utc();if(0<i.year()&&i.year()<=9999){return aw(i,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]");}else{return aw(i,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]");}},toArray:function(){var i=this;return[i.year(),i.month(),i.date(),i.hours(),i.minutes(),i.seconds(),i.milliseconds()];},isValid:function(){return aI(this);},isDSTShifted:function(){if(this._a){return this.isValid()&&aZ(this._a,(this._isUTC?U.utc(this._a):U(this._a)).toArray())>0;}return false;},parsingFlags:function(){return aH({},this._pf);},invalidAt:function(){return this._pf.overflow;},utc:function(i){return this.zone(0,i);},local:function(i){if(this._isUTC){this.zone(0,i);this._isUTC=false;if(i){this.add(this._dateTzOffset(),"m");}}return this;},format:function(bp){var i=aw(this,bp||U.defaultFormat);return this.localeData().postformat(i);},add:V(1,"add"),subtract:V(-1,"subtract"),diff:function(bs,br,i){var bu=B(bs,this),bp=(this.zone()-bu.zone())*60000,bv,bq,bt;br=a5(br);if(br==="year"||br==="month"){bv=(this.daysInMonth()+bu.daysInMonth())*43200000;bq=((this.year()-bu.year())*12)+(this.month()-bu.month());bt=(this-U(this).startOf("month"))-(bu-U(bu).startOf("month"));bt-=((this.zone()-U(this).startOf("month").zone())-(bu.zone()-U(bu).startOf("month").zone()))*60000;bq+=bt/bv;if(br==="year"){bq=bq/12;}}else{bv=(this-bu);bq=br==="second"?bv/1000:br==="minute"?bv/60000:br==="hour"?bv/3600000:br==="day"?(bv-bp)/86400000:br==="week"?(bv-bp)/604800000:bv;}return i?bq:p(bq);},from:function(bp,i){return U.duration({to:this,from:bp}).locale(this.locale()).humanize(!i);},fromNow:function(i){return this.from(U(),i);},calendar:function(bs){var bp=bs||U(),i=B(bp,this).startOf("day"),br=this.diff(i,"days",true),bq=br<-6?"sameElse":br<-1?"lastWeek":br<0?"lastDay":br<1?"sameDay":br<2?"nextDay":br<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(bq,this));},isLeapYear:function(){return aR(this.year());},isDST:function(){return(this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone());},day:function(bp){var i=this._isUTC?this._d.getUTCDay():this._d.getDay();if(bp!=null){bp=be(bp,this.localeData());return this.add(bp-i,"d");}else{return i;}},month:t("Month",true),startOf:function(i){i=a5(i);switch(i){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0);}if(i==="week"){this.weekday(0);}else{if(i==="isoWeek"){this.isoWeekday(1);}}if(i==="quarter"){this.month(Math.floor(this.month()/3)*3);}return this;},endOf:function(i){i=a5(i);return this.startOf(i).add(1,(i==="isoWeek"?"week":i)).subtract(1,"ms");},isAfter:function(bp,i){i=a5(typeof i!=="undefined"?i:"millisecond");if(i==="millisecond"){bp=U.isMoment(bp)?bp:U(bp);return +this>+bp;}else{return +this.clone().startOf(i)>+U(bp).startOf(i);}},isBefore:function(bp,i){i=a5(typeof i!=="undefined"?i:"millisecond");if(i==="millisecond"){bp=U.isMoment(bp)?bp:U(bp);return +this<+bp;}else{return +this.clone().startOf(i)<+U(bp).startOf(i);}},isSame:function(bp,i){i=a5(i||"millisecond");if(i==="millisecond"){bp=U.isMoment(bp)?bp:U(bp);return +this===+bp;}else{return +this.clone().startOf(i)===+B(bp,this).startOf(i);}},min:bl("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(i){i=U.apply(null,arguments);return i<this?this:i;}),max:bl("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(i){i=U.apply(null,arguments);return i>this?this:i;}),zone:function(i,br){var bq=this._offset||0,bp;if(i!=null){if(typeof i==="string"){i=C(i);}if(Math.abs(i)<16){i=i*60;}if(!this._isUTC&&br){bp=this._dateTzOffset();}this._offset=i;this._isUTC=true;if(bp!=null){this.subtract(bp,"m");}if(bq!==i){if(!br||this._changeInProgress){J(this,U.duration(bq-i,"m"),1,false);}else{if(!this._changeInProgress){this._changeInProgress=true;U.updateOffset(this,true);this._changeInProgress=null;}}}}else{return this._isUTC?bq:this._dateTzOffset();}return this;},zoneAbbr:function(){return this._isUTC?"UTC":"";},zoneName:function(){return this._isUTC?"Coordinated Universal Time":"";},parseZone:function(){if(this._tzm){this.zone(this._tzm);}else{if(typeof this._i==="string"){this.zone(this._i);}}return this;},hasAlignedHourOffset:function(i){if(!i){i=0;}else{i=U(i).zone();}return(this.zone()-i)%60===0;},daysInMonth:function(){return bd(this.year(),this.month());},dayOfYear:function(i){var bp=ac((U(this).startOf("day")-U(this).startOf("year"))/86400000)+1;return i==null?bp:this.add((i-bp),"d");},quarter:function(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3);},weekYear:function(i){var bp=E(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return i==null?bp:this.add((i-bp),"y");},isoWeekYear:function(i){var bp=E(this,1,4).year;return i==null?bp:this.add((i-bp),"y");},week:function(i){var bp=this.localeData().week(this);return i==null?bp:this.add((i-bp)*7,"d");},isoWeek:function(i){var bp=E(this,1,4).week;return i==null?bp:this.add((i-bp)*7,"d");},weekday:function(i){var bp=(this.day()+7-this.localeData()._week.dow)%7;return i==null?bp:this.add(i-bp,"d");},isoWeekday:function(i){return i==null?this.day()||7:this.day(this.day()%7?i:i-7);},isoWeeksInYear:function(){return aM(this.year(),1,4);},weeksInYear:function(){var i=this.localeData()._week;return aM(this.year(),i.dow,i.doy);},get:function(i){i=a5(i);return this[i]();},set:function(i,bp){i=a5(i);if(typeof this[i]==="function"){this[i](bp);}return this;},locale:function(bp){var i;if(bp===G){return this._locale._abbr;}else{i=U.localeData(bp);if(i!=null){this._locale=i;}return this;}},lang:bl("moment().lang() is deprecated. Use moment().localeData() instead.",function(i){if(i===G){return this.localeData();}else{return this.locale(i);}}),localeData:function(){return this._locale;},_dateTzOffset:function(){return Math.round(this._d.getTimezoneOffset()/15)*15;}});function bh(i,bp){var bq;if(typeof bp==="string"){bp=i.localeData().monthsParse(bp);if(typeof bp!=="number"){return i;}}bq=Math.min(i.date(),bd(i.year(),bp));i._d["set"+(i._isUTC?"UTC":"")+"Month"](bp,bq);return i;}function bm(bp,i){return bp._d["get"+(bp._isUTC?"UTC":"")+i]();}function aY(bp,i,bq){if(i==="Month"){return bh(bp,bq);}else{return bp._d["set"+(bp._isUTC?"UTC":"")+i](bq);}}function t(i,bp){return function(bq){if(bq!=null){aY(this,i,bq);U.updateOffset(this,bp);return this;}else{return bm(this,i);}};}U.fn.millisecond=U.fn.milliseconds=t("Milliseconds",false);U.fn.second=U.fn.seconds=t("Seconds",false);U.fn.minute=U.fn.minutes=t("Minutes",false);U.fn.hour=U.fn.hours=t("Hours",true);U.fn.date=t("Date",true);U.fn.dates=bl("dates accessor is deprecated. Use date instead.",t("Date",true));U.fn.year=t("FullYear",true);U.fn.years=bl("years accessor is deprecated. Use year instead.",t("FullYear",true));U.fn.days=U.fn.day;U.fn.months=U.fn.month;U.fn.weeks=U.fn.week;U.fn.isoWeeks=U.fn.isoWeek;U.fn.quarters=U.fn.quarter;U.fn.toJSON=U.fn.toISOString;function s(i){return i*400/146097;}function bk(i){return i*146097/400;}aH(U.duration.fn=al.prototype,{_bubble:function(){var bq=this._milliseconds,bv=this._days,i=this._months,bt=this._data,bu,bs,bp,br=0;bt.milliseconds=bq%1000;bu=p(bq/1000);bt.seconds=bu%60;bs=p(bu/60);bt.minutes=bs%60;bp=p(bs/60);bt.hours=bp%24;bv+=p(bp/24);br=p(s(bv));bv-=p(bk(br));i+=p(bv/30);bv%=30;br+=p(i/12);i%=12;bt.days=bv;bt.months=i;bt.years=br;},abs:function(){this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this;},weeks:function(){return p(this.days()/7);},valueOf:function(){return this._milliseconds+this._days*86400000+(this._months%12)*2592000000+P(this._months/12)*31536000000;},humanize:function(bp){var i=D(this,!bp,this.localeData());if(bp){i=this.localeData().pastFuture(+this,i);}return this.localeData().postformat(i);},add:function(i,bq){var bp=U.duration(i,bq);this._milliseconds+=bp._milliseconds;this._days+=bp._days;this._months+=bp._months;this._bubble();return this;},subtract:function(i,bq){var bp=U.duration(i,bq);this._milliseconds-=bp._milliseconds;this._days-=bp._days;this._months-=bp._months;this._bubble();return this;},get:function(i){i=a5(i);return this[i.toLowerCase()+"s"]();},as:function(bp){var bq,i;bp=a5(bp);if(bp==="month"||bp==="year"){bq=this._days+this._milliseconds/86400000;i=this._months+s(bq)*12;return bp==="month"?i:i/12;}else{bq=this._days+bk(this._months/12);switch(bp){case"week":return bq/7+this._milliseconds/604800000;case"day":return bq+this._milliseconds/86400000;case"hour":return bq*24+this._milliseconds/3600000;case"minute":return bq*24*60+this._milliseconds/60000;case"second":return bq*24*60*60+this._milliseconds/1000;case"millisecond":return Math.floor(bq*24*60*60*1000)+this._milliseconds;default:throw new Error("Unknown unit "+bp);}}},lang:U.fn.lang,locale:U.fn.locale,toIsoString:bl("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString();}),toISOString:function(){var br=Math.abs(this.years()),i=Math.abs(this.months()),bt=Math.abs(this.days()),bp=Math.abs(this.hours()),bq=Math.abs(this.minutes()),bs=Math.abs(this.seconds()+this.milliseconds()/1000);if(!this.asSeconds()){return"P0D";}return(this.asSeconds()<0?"-":"")+"P"+(br?br+"Y":"")+(i?i+"M":"")+(bt?bt+"D":"")+((bp||bq||bs)?"T":"")+(bp?bp+"H":"")+(bq?bq+"M":"")+(bs?bs+"S":"");},localeData:function(){return this._locale;}});U.duration.fn.toString=U.duration.fn.toISOString;function ad(i){U.duration.fn[i]=function(){return this._data[i];};}for(aj in F){if(a3(F,aj)){ad(aj.toLowerCase());}}U.duration.fn.asMilliseconds=function(){return this.as("ms");};U.duration.fn.asSeconds=function(){return this.as("s");};U.duration.fn.asMinutes=function(){return this.as("m");};U.duration.fn.asHours=function(){return this.as("h");};U.duration.fn.asDays=function(){return this.as("d");};U.duration.fn.asWeeks=function(){return this.as("weeks");};U.duration.fn.asMonths=function(){return this.as("M");};U.duration.fn.asYears=function(){return this.as("y");};U.locale("en",{ordinal:function(bq){var i=bq%10,bp=(P(bq%100/10)===1)?"th":(i===1)?"st":(i===2)?"nd":(i===3)?"rd":"th";return bq+bp;}});function X(i){if(typeof ender!=="undefined"){return;}au=a9.moment;if(i){a9.moment=bl("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",U);}else{a9.moment=U;}}if(at){module.exports=U;}else{if(typeof define==="function"&&define.amd){define("moment",function(bp,i,bq){if(bq.config&&bq.config()&&bq.config().noGlobal===true){a9.moment=au;}return U;});X(true);}else{X();}}}).call(this);
/*! jQuery UI - v1.12.1 - 2016-12-05
* http://jqueryui.com
* Includes: effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery);})(function(b){b.ui=b.ui||{},b.ui.version="1.12.1";var d="ui-effects-",a="ui-effects-style",c="ui-effects-animated",g=b;b.effects={effect:{}},function(E,z){function w(l,o,h){var n=D[o.type]||{};return null==l?h||!o.def?null:o.def:(l=n.floor?~~l:parseFloat(l),isNaN(l)?o.def:n.mod?(l+n.mod)%n.mod:0>l?0:l>n.max?n.max:l);}function F(e){var h=x(),l=h._rgba=[];return e=e.toLowerCase(),y(v,function(p,G){var n,u=G.re.exec(e),i=u&&G.parse(u),s=G.space||"rgba";return i?(n=h[s](i),h[B[s].cache]=n[B[s].cache],l=h._rgba=n._rgba,!1):z;}),l.length?("0,0,0,0"===l.join()&&E.extend(l,m.transparent),h):m[e];}function q(l,n,h){return h=(h+1)%1,1>6*h?l+6*(n-l)*h:1>2*h?n:2>3*h?l+6*(n-l)*(2/3-h):l;}var m,C="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",j=/^([\-+])=\s*(\d+\.?\d*)/,v=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]];}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]];}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)];}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]];}}],x=E.Color=function(o,h,l,p){return new E.Color.fn.parse(o,h,l,p);},B={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},D={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},A=x.support={},k=E("<p>")[0],y=E.each;k.style.cssText="background-color:rgba(1,1,1,.5)",A.rgba=k.style.backgroundColor.indexOf("rgba")>-1,y(B,function(h,i){i.cache="_"+h,i.props.alpha={idx:3,type:"percent",def:1};}),x.fn=E.extend(x.prototype,{parse:function(G,h,o,e){if(G===z){return this._rgba=[null,null,null,null],this;}(G.jquery||G.nodeType)&&(G=E(G).css(h),h=z);var i=this,t=E.type(G),s=this._rgba=[];return h!==z&&(G=[G,h,o,e],t="array"),"string"===t?this.parse(F(G)||m._default):"array"===t?(y(B.rgba.props,function(l,n){s[n.idx]=w(G[n.idx],n);}),this):"object"===t?(G instanceof x?y(B,function(l,n){G[n.cache]&&(i[n.cache]=G[n.cache].slice());}):y(B,function(n,l){var p=l.cache;y(l.props,function(r,u){if(!i[p]&&l.to){if("alpha"===r||null==G[r]){return;}i[p]=l.to(i._rgba);}i[p][u.idx]=w(G[r],u,!0);}),i[p]&&0>E.inArray(null,i[p].slice(0,3))&&(i[p][3]=1,l.from&&(i._rgba=l.from(i[p])));}),this):z;},is:function(h){var e=x(h),l=!0,o=this;return y(B,function(n,s){var i,p=e[s.cache];return p&&(i=o[s.cache]||s.to&&s.to(o._rgba)||[],y(s.props,function(u,r){return null!=p[r.idx]?l=p[r.idx]===i[r.idx]:z;})),l;}),l;},_space:function(){var h=[],i=this;return y(B,function(e,l){i[l.cache]&&h.push(e);}),h.pop();},transition:function(p,H){var u=x(p),J=u._space(),I=B[J],i=0===this.alpha()?x("transparent"):this,G=i[I.cache]||I.to(i._rgba),h=G.slice();return u=u[I.cache],y(I.props,function(l,L){var s=L.idx,e=G[s],r=u[s],K=D[L.type]||{};null!==r&&(null===e?h[s]=r:(K.mod&&(r-e>K.mod/2?e+=K.mod:e-r>K.mod/2&&(e-=K.mod)),h[s]=w((r-e)*H+e,L)));}),this[J](h);},blend:function(o){if(1===this._rgba[3]){return this;}var h=this._rgba.slice(),l=h.pop(),p=x(o)._rgba;return x(E.map(h,function(i,n){return(1-l)*p[n]+l*i;}));},toRgbaString:function(){var l="rgba(",h=E.map(this._rgba,function(i,n){return null==i?n>2?1:0:i;});return 1===h[3]&&(h.pop(),l="rgb("),l+h.join()+")";},toHslaString:function(){var l="hsla(",h=E.map(this.hsla(),function(i,n){return null==i&&(i=n>2?1:0),n&&3>n&&(i=Math.round(100*i)+"%"),i;});return 1===h[3]&&(h.pop(),l="hsl("),l+h.join()+")";},toHexString:function(n){var h=this._rgba.slice(),l=h.pop();return n&&h.push(~~(255*l)),"#"+E.map(h,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e;}).join("");},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString();}}),x.fn.parse.prototype=x.fn,B.hsla.to=function(P){if(null==P[0]||null==P[1]||null==P[2]){return[null,null,null,P[3]];}var L,J,Q=P[0]/255,H=P[1]/255,G=P[2]/255,N=P[3],p=Math.max(Q,H,G),I=Math.min(Q,H,G),K=p-I,M=p+I,O=0.5*M;return L=I===p?0:Q===p?60*(H-G)/K+360:H===p?60*(G-Q)/K+120:60*(Q-H)/K+240,J=0===K?0:0.5>=O?K/M:K/(2-M),[Math.round(L)%360,J,O,null==N?1:N];},B.hsla.from=function(n){if(null==n[0]||null==n[1]||null==n[2]){return[null,null,null,n[3]];}var G=n[0]/360,l=n[1],p=n[2],H=n[3],h=0.5>=p?p*(1+l):p+l-p*l,u=2*p-h;return[Math.round(255*q(u,h,G+1/3)),Math.round(255*q(u,h,G)),Math.round(255*q(u,h,G-1/3)),H];},y(B,function(i,t){var p=t.props,h=t.cache,e=t.to,r=t.from;x.fn[i]=function(o){if(e&&!this[h]&&(this[h]=e(this._rgba)),o===z){return this[h].slice();}var I,G=E.type(o),l="array"===G||"object"===G?o:arguments,H=this[h].slice();return y(p,function(n,J){var u=l["object"===G?n:J.idx];null==u&&(u=H[J.idx]),H[J.idx]=w(u,J);}),r?(I=x(r(H)),I[h]=H,I):x(H);},y(p,function(n,l){x.fn[n]||(x.fn[n]=function(J){var H,u=E.type(J),s="alpha"===n?this._hsla?"hsla":"rgba":i,G=this[s](),I=G[l.idx];return"undefined"===u?I:("function"===u&&(J=J.call(this,I),u=E.type(J)),null==J&&l.empty?this:("string"===u&&(H=j.exec(J),H&&(J=I+parseFloat(H[2])*("+"===H[1]?1:-1))),G[l.idx]=J,this[s](G)));});});}),x.hook=function(l){var h=l.split(" ");y(h,function(o,n){E.cssHooks[n]={set:function(t,G){var u,p,s="";if("transparent"!==G&&("string"!==E.type(G)||(u=F(G)))){if(G=x(u||G),!A.rgba&&1!==G._rgba[3]){for(p="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&p&&p.style;){try{s=E.css(p,"backgroundColor"),p=p.parentNode;}catch(i){}}G=G.blend(s&&"transparent"!==s?s:"_default");}G=G.toRgbaString();}try{t.style[n]=G;}catch(i){}}},E.fx.step[n]=function(i){i.colorInit||(i.start=x(i.elem,n),i.end=x(i.end),i.colorInit=!0),E.cssHooks[n].set(i.elem,i.start.transition(i.end,i.pos));};});},x.hook(C),E.cssHooks.borderColor={expand:function(h){var i={};return y(["Top","Right","Bottom","Left"],function(e,l){i["border"+l+"Color"]=h;}),i;}},m=E.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};}(g),function(){function k(q){var m,p,t=q.ownerDocument.defaultView?q.ownerDocument.defaultView.getComputedStyle(q,null):q.currentStyle,r={};if(t&&t.length&&t[0]&&t[t[0]]){for(p=t.length;p--;){m=t[p],"string"==typeof t[m]&&(r[b.camelCase(m)]=t[m]);}}else{for(m in t){"string"==typeof t[m]&&(r[m]=t[m]);}}return r;}function h(q,o){var p,r,m={};for(p in o){r=o[p],q[p]!==r&&(l[p]||(b.fx.step[p]||!isNaN(parseFloat(r)))&&(m[p]=r));}return m;}var j=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(n,m){b.fx.step[m]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(g.style(e.elem,m,e.end),e.setAttr=!0);};}),b.fn.addBack||(b.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e));}),b.effects.animateClass=function(q,p,i,m){var e=b.speed(p,i,m);return this.queue(function(){var u,n=b(this),t=n.attr("class")||"",s=e.children?n.find("*").addBack():n;s=s.map(function(){var o=b(this);return{el:o,start:k(this)};}),u=function(){b.each(j,function(o,r){q[r]&&n[r+"Class"](q[r]);});},u(),s=s.map(function(){return this.end=k(this.el[0]),this.diff=h(this.start,this.end),this;}),n.attr("class",t),s=s.map(function(){var v=this,o=b.Deferred(),r=b.extend({},e,{queue:!1,complete:function(){o.resolve(v);}});return this.el.animate(this.diff,r),o.promise();}),b.when.apply(b,s.get()).done(function(){u(),b.each(arguments,function(){var o=this.el;b.each(this.diff,function(r){o.css(r,"");});}),e.complete.call(n[0]);});});},b.fn.extend({addClass:function(i){return function(e,m,q,p){return m?b.effects.animateClass.call(this,{add:e},m,q,p):i.apply(this,arguments);};}(b.fn.addClass),removeClass:function(i){return function(e,m,q,p){return arguments.length>1?b.effects.animateClass.call(this,{remove:e},m,q,p):i.apply(this,arguments);};}(b.fn.removeClass),toggleClass:function(i){return function(m,p,r,q,e){return"boolean"==typeof p||void 0===p?r?b.effects.animateClass.call(this,p?{add:m}:{remove:m},r,q,e):i.apply(this,arguments):b.effects.animateClass.call(this,{toggle:m},p,r,q);};}(b.fn.toggleClass),switchClass:function(q,m,p,t,r){return b.effects.animateClass.call(this,{add:m,remove:q},p,t,r);}});}(),function(){function i(l,j,k,m){return b.isPlainObject(l)&&(j=l,l=l.effect),l={effect:l},null==j&&(j={}),b.isFunction(j)&&(m=j,k=null,j={}),("number"==typeof j||b.fx.speeds[j])&&(m=k,k=j,j={}),b.isFunction(k)&&(m=k,k=null),j&&b.extend(l,j),k=k||j.duration,l.duration=b.fx.off?0:"number"==typeof k?k:k in b.fx.speeds?b.fx.speeds[k]:b.fx.speeds._default,l.complete=m||j.complete,l;}function h(j){return !j||"number"==typeof j||b.fx.speeds[j]?!0:"string"!=typeof j||b.effects.effect[j]?b.isFunction(j)?!0:"object"!=typeof j||j.effect?!1:!0:!0;}function e(k,m){var j=m.outerWidth(),l=m.outerHeight(),q=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,p=q.exec(k)||["",0,j,l,0];return{top:parseFloat(p[1])||0,right:"auto"===p[2]?j:parseFloat(p[2]),bottom:"auto"===p[3]?l:parseFloat(p[3]),left:parseFloat(p[4])||0};}b.expr&&b.expr.filters&&b.expr.filters.animated&&(b.expr.filters.animated=function(j){return function(k){return !!b(k).data(c)||j(k);};}(b.expr.filters.animated)),b.uiBackCompat!==!1&&b.extend(b.effects,{save:function(k,j){for(var l=0,m=j.length;m>l;l++){null!==j[l]&&k.data(d+j[l],k[0].style[j[l]]);}},restore:function(k,j){for(var l,p=0,m=j.length;m>p;p++){null!==j[p]&&(l=k.data(d+j[p]),k.css(j[p],l));}},setMode:function(j,k){return"toggle"===k&&(k=j.is(":hidden")?"show":"hide"),k;},createWrapper:function(m){if(m.parent().is(".ui-effects-wrapper")){return m.parent();}var k={width:m.outerWidth(!0),height:m.outerHeight(!0),"float":m.css("float")},l=b("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),q={width:m.width(),height:m.height()},p=document.activeElement;try{p.id;}catch(j){p=document.body;}return m.wrap(l),(m[0]===p||b.contains(m[0],p))&&b(p).trigger("focus"),l=m.parent(),"static"===m.css("position")?(l.css({position:"relative"}),m.css({position:"relative"})):(b.extend(k,{position:m.css("position"),zIndex:m.css("z-index")}),b.each(["top","left","bottom","right"],function(n,o){k[o]=m.css(o),isNaN(parseInt(k[o],10))&&(k[o]="auto");}),m.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),m.css(q),l.css(k).show();},removeWrapper:function(k){var j=document.activeElement;return k.parent().is(".ui-effects-wrapper")&&(k.parent().replaceWith(k),(k[0]===j||b.contains(k[0],j))&&b(j).trigger("focus")),k;}}),b.extend(b.effects,{version:"1.12.1",define:function(l,j,k){return k||(k=j,j="effect"),b.effects.effect[l]=k,b.effects.effect[l].mode=j,k;},scaledDimensions:function(k,m,j){if(0===m){return{height:0,width:0,outerHeight:0,outerWidth:0};}var l="horizontal"!==j?(m||100)/100:1,o="vertical"!==j?(m||100)/100:1;return{height:k.height()*o,width:k.width()*l,outerHeight:k.outerHeight()*o,outerWidth:k.outerWidth()*l};},clipToBox:function(j){return{width:j.clip.right-j.clip.left,height:j.clip.bottom-j.clip.top,left:j.clip.left,top:j.clip.top};},unshift:function(k,m,j){var l=k.queue();m>1&&l.splice.apply(l,[1,0].concat(l.splice(m,j))),k.dequeue();},saveStyle:function(j){j.data(a,j[0].style.cssText);},restoreStyle:function(j){j[0].style.cssText=j.data(a)||"",j.removeData(a);},mode:function(k,l){var j=k.is(":hidden");return"toggle"===l&&(l=j?"show":"hide"),(j?"hide"===l:"show"===l)&&(l="none"),l;},getBaseline:function(k,m){var j,l;switch(k[0]){case"top":j=0;break;case"middle":j=0.5;break;case"bottom":j=1;break;default:j=k[0]/m.height;}switch(k[1]){case"left":l=0;break;case"center":l=0.5;break;case"right":l=1;break;default:l=k[1]/m.width;}return{x:l,y:j};},createPlaceholder:function(j){var k,m=j.css("position"),l=j.position();return j.css({marginTop:j.css("marginTop"),marginBottom:j.css("marginBottom"),marginLeft:j.css("marginLeft"),marginRight:j.css("marginRight")}).outerWidth(j.outerWidth()).outerHeight(j.outerHeight()),/^(static|relative)/.test(m)&&(m="absolute",k=b("<"+j[0].nodeName+">").insertAfter(j).css({display:/^(inline|ruby)/.test(j.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:j.css("marginTop"),marginBottom:j.css("marginBottom"),marginLeft:j.css("marginLeft"),marginRight:j.css("marginRight"),"float":j.css("float")}).outerWidth(j.outerWidth()).outerHeight(j.outerHeight()).addClass("ui-effects-placeholder"),j.data(d+"placeholder",k)),j.css({position:m,left:l.left,top:l.top}),k;},removePlaceholder:function(k){var j=d+"placeholder",l=k.data(j);l&&(l.remove(),k.removeData(j));},cleanUp:function(j){b.effects.restoreStyle(j),b.effects.removePlaceholder(j);},setTransition:function(l,j,k,m){return m=m||{},b.each(j,function(p,n){var q=l.cssUnit(n);q[0]>0&&(m[n]=q[0]*k+q[1]);}),m;}}),b.fn.extend({effect:function(){function q(x){function y(){o.removeData(c),b.effects.cleanUp(o),"hide"===n.mode&&o.hide(),u();}function u(){b.isFunction(p)&&p.call(o[0]),b.isFunction(x)&&x();}var o=b(this);n.mode=w.shift(),b.uiBackCompat===!1||v?"none"===n.mode?(o[t](),u()):k.call(o[0],n,y):(o.is(":hidden")?"hide"===t:"show"===t)?(o[t](),u()):k.call(o[0],n,u);}var n=i.apply(this,arguments),k=b.effects.effect[n.effect],v=k.mode,j=n.queue,m=j||"fx",p=n.complete,t=n.mode,w=[],s=function(o){var l=b(this),r=b.effects.mode(l,t)||v;l.data(c,!0),w.push(r),v&&("show"===r||r===v&&"hide"===r)&&l.show(),v&&"none"===r||b.effects.saveStyle(l),b.isFunction(o)&&o();};return b.fx.off||!k?t?this[t](n.duration,p):this.each(function(){p&&p.call(this);}):j===!1?this.each(s).each(q):this.queue(m,s).queue(m,q);},show:function(j){return function(l){if(h(l)){return j.apply(this,arguments);}var k=i.apply(this,arguments);return k.mode="show",this.effect.call(this,k);};}(b.fn.show),hide:function(j){return function(l){if(h(l)){return j.apply(this,arguments);}var k=i.apply(this,arguments);return k.mode="hide",this.effect.call(this,k);};}(b.fn.hide),toggle:function(j){return function(l){if(h(l)||"boolean"==typeof l){return j.apply(this,arguments);}var k=i.apply(this,arguments);return k.mode="toggle",this.effect.call(this,k);};}(b.fn.toggle),cssUnit:function(l){var j=this.css(l),k=[];return b.each(["em","px","%","pt"],function(m,n){j.indexOf(n)>0&&(k=[parseFloat(j),n]);}),k;},cssClip:function(j){return j?this.css("clip","rect("+j.top+"px "+j.right+"px "+j.bottom+"px "+j.left+"px)"):e(this.css("clip"),this);},transfer:function(v,q){var A=b(this),m=b(v.to),k="fixed"===m.css("position"),y=b("body"),j=k?y.scrollTop():0,p=k?y.scrollLeft():0,t=m.offset(),x={top:t.top-j,left:t.left-p,height:m.innerHeight(),width:m.innerWidth()},z=A.offset(),w=b("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(v.className).css({top:z.top-j,left:z.left-p,height:A.innerHeight(),width:A.innerWidth(),position:k?"fixed":"absolute"}).animate(x,v.duration,v.easing,function(){w.remove(),b.isFunction(q)&&q();});}}),b.fx.step.clip=function(j){j.clipInit||(j.start=b(j.elem).cssClip(),"string"==typeof j.end&&(j.end=e(j.end,j.elem)),j.clipInit=!0),b(j.elem).cssClip({top:j.pos*(j.end.top-j.start.top)+j.start.top,right:j.pos*(j.end.right-j.start.right)+j.start.right,bottom:j.pos*(j.end.bottom-j.start.bottom)+j.start.bottom,left:j.pos*(j.end.left-j.start.left)+j.start.left});};}(),function(){var h={};b.each(["Quad","Cubic","Quart","Quint","Expo"],function(j,e){h[e]=function(i){return Math.pow(i,j+2);};}),b.extend(h,{Sine:function(e){return 1-Math.cos(e*Math.PI/2);},Circ:function(e){return 1-Math.sqrt(1-e*e);},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15);},Back:function(e){return e*e*(3*e-2);},Bounce:function(k){for(var l,j=4;((l=Math.pow(2,--j))-1)/11>k;){}return 1/Math.pow(4,3-j)-7.5625*Math.pow((3*l-2)/22-k,2);}}),b.each(h,function(k,j){b.easing["easeIn"+k]=j,b.easing["easeOut"+k]=function(e){return 1-j(1-e);},b.easing["easeInOut"+k]=function(e){return 0.5>e?j(2*e)/2:1-j(-2*e+2)/2;};});}();var f=b.effects;b.effects.define("blind","hide",function(q,k){var m={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},u=b(this),t=q.direction||"up",j=u.cssClip(),p={clip:b.extend({},j)},h=b.effects.createPlaceholder(u);p.clip[m[t][0]]=p.clip[m[t][1]],"show"===q.mode&&(u.cssClip(p.clip),h&&h.css(b.effects.clipToBox(p)),p.clip=j),h&&h.animate(b.effects.clipToBox(p),q.duration,q.easing),u.animate(p,{queue:!1,duration:q.duration,easing:q.easing,complete:k});}),b.effects.define("bounce",function(F,B){var q,y,x,J=b(this),t=F.mode,A="hide"===t,C="show"===t,H=F.direction||"up",k=F.distance,G=F.times||5,w=2*G+(C||A?1:0),E=F.duration/w,D=F.easing,z="up"===H||"down"===H?"top":"left",K="up"===H||"left"===H,j=0,I=J.queue().length;for(b.effects.createPlaceholder(J),x=J.css(z),k||(k=J["top"===z?"outerHeight":"outerWidth"]()/3),C&&(y={opacity:1},y[z]=x,J.css("opacity",0).css(z,K?2*-k:2*k).animate(y,E,D)),A&&(k/=Math.pow(2,G-1)),y={},y[z]=x;G>j;j++){q={},q[z]=(K?"-=":"+=")+k,J.animate(q,E,D).animate(y,E,D),k=A?2*k:k/2;}A&&(q={opacity:0},q[z]=(K?"-=":"+=")+k,J.animate(q,E,D)),J.queue(B),b.effects.unshift(J,I,w+1);}),b.effects.define("clip","hide",function(u,q){var w,m={},k=b(this),v=u.direction||"vertical",j="both"===v,p=j||"horizontal"===v,t=j||"vertical"===v;w=k.cssClip(),m.clip={top:t?(w.bottom-w.top)/2:w.top,right:p?(w.right-w.left)/2:w.right,bottom:t?(w.bottom-w.top)/2:w.bottom,left:p?(w.right-w.left)/2:w.left},b.effects.createPlaceholder(k),"show"===u.mode&&(k.cssClip(m.clip),m.clip=w),k.animate(m,{queue:!1,duration:u.duration,easing:u.easing,complete:q});}),b.effects.define("drop","hide",function(v,q){var z,m=b(this),k=v.mode,x="show"===k,j=v.direction||"left",p="up"===j||"down"===j?"top":"left",t="up"===j||"left"===j?"-=":"+=",w="+="===t?"-=":"+=",y={opacity:0};b.effects.createPlaceholder(m),z=v.distance||m["top"===p?"outerHeight":"outerWidth"](!0)/2,y[p]=t+z,x&&(m.css(y),y[p]=w+z,y.opacity=1),m.animate(y,{queue:!1,duration:v.duration,easing:v.easing,complete:q});}),b.effects.define("explode","hide",function(F,B){function q(){I.push(this),I.length===k*G&&y();}function y(){w.css({visibility:"visible"}),b(I).remove(),B();}var x,J,t,A,C,H,k=F.pieces?Math.round(Math.sqrt(F.pieces)):3,G=k,w=b(this),E=F.mode,D="show"===E,z=w.show().css("visibility","hidden").offset(),K=Math.ceil(w.outerWidth()/G),j=Math.ceil(w.outerHeight()/k),I=[];for(x=0;k>x;x++){for(A=z.top+x*j,H=x-(k-1)/2,J=0;G>J;J++){t=z.left+J*K,C=J-(G-1)/2,w.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-J*K,top:-x*j}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:K,height:j,left:t+(D?C*K:0),top:A+(D?H*j:0),opacity:D?0:1}).animate({left:t+(D?0:C*K),top:A+(D?0:H*j),opacity:D?1:0},F.duration||500,F.easing,q);}}}),b.effects.define("fade","toggle",function(k,h){var j="show"===k.mode;b(this).css("opacity",j?0:1).animate({opacity:j?1:0},{queue:!1,duration:k.duration,easing:k.easing,complete:h});}),b.effects.define("fold","hide",function(B,x){var H=b(this),t=B.mode,q="show"===t,E="hide"===t,j=B.size||15,w=/([0-9]+)%/.exec(j),y=!!B.horizFirst,D=y?["right","bottom"]:["bottom","right"],G=B.duration/2,C=b.effects.createPlaceholder(H),k=H.cssClip(),A={clip:b.extend({},k)},z={clip:b.extend({},k)},v=[k[D[0]],k[D[1]]],F=H.queue().length;w&&(j=parseInt(w[1],10)/100*v[E?0:1]),A.clip[D[0]]=j,z.clip[D[0]]=j,z.clip[D[1]]=0,q&&(H.cssClip(z.clip),C&&C.css(b.effects.clipToBox(z)),z.clip=k),H.queue(function(e){C&&C.animate(b.effects.clipToBox(A),G,B.easing).animate(b.effects.clipToBox(z),G,B.easing),e();}).animate(A,G,B.easing).animate(z,G,B.easing).queue(x),b.effects.unshift(H,F,4);}),b.effects.define("highlight","show",function(k,h){var j=b(this),l={backgroundColor:j.css("backgroundColor")};"hide"===k.mode&&(l.opacity=0),b.effects.saveStyle(j),j.css({backgroundImage:"none",backgroundColor:k.color||"#ffff99"}).animate(l,{queue:!1,duration:k.duration,easing:k.easing,complete:h});}),b.effects.define("size",function(F,B){var q,y,x,I=b(this),t=["fontSize"],A=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],C=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],H=F.mode,k="effect"!==H,G=F.scale||"both",w=F.origin||["middle","center"],E=I.css("position"),D=I.position(),z=b.effects.scaledDimensions(I),J=F.from||z,j=F.to||b.effects.scaledDimensions(I,0);b.effects.createPlaceholder(I),"show"===H&&(x=J,J=j,j=x),y={from:{y:J.height/z.height,x:J.width/z.width},to:{y:j.height/z.height,x:j.width/z.width}},("box"===G||"both"===G)&&(y.from.y!==y.to.y&&(J=b.effects.setTransition(I,A,y.from.y,J),j=b.effects.setTransition(I,A,y.to.y,j)),y.from.x!==y.to.x&&(J=b.effects.setTransition(I,C,y.from.x,J),j=b.effects.setTransition(I,C,y.to.x,j))),("content"===G||"both"===G)&&y.from.y!==y.to.y&&(J=b.effects.setTransition(I,t,y.from.y,J),j=b.effects.setTransition(I,t,y.to.y,j)),w&&(q=b.effects.getBaseline(w,z),J.top=(z.outerHeight-J.outerHeight)*q.y+D.top,J.left=(z.outerWidth-J.outerWidth)*q.x+D.left,j.top=(z.outerHeight-j.outerHeight)*q.y+D.top,j.left=(z.outerWidth-j.outerWidth)*q.x+D.left),I.css(J),("content"===G||"both"===G)&&(A=A.concat(["marginTop","marginBottom"]).concat(t),C=C.concat(["marginLeft","marginRight"]),I.find("*[width]").each(function(){var h=b(this),l=b.effects.scaledDimensions(h),m={height:l.height*y.from.y,width:l.width*y.from.x,outerHeight:l.outerHeight*y.from.y,outerWidth:l.outerWidth*y.from.x},e={height:l.height*y.to.y,width:l.width*y.to.x,outerHeight:l.height*y.to.y,outerWidth:l.width*y.to.x};y.from.y!==y.to.y&&(m=b.effects.setTransition(h,A,y.from.y,m),e=b.effects.setTransition(h,A,y.to.y,e)),y.from.x!==y.to.x&&(m=b.effects.setTransition(h,C,y.from.x,m),e=b.effects.setTransition(h,C,y.to.x,e)),k&&b.effects.saveStyle(h),h.css(m),h.animate(e,F.duration,F.easing,function(){k&&b.effects.restoreStyle(h);});})),I.animate(j,{queue:!1,duration:F.duration,easing:F.easing,complete:function(){var h=I.offset();0===j.opacity&&I.css("opacity",J.opacity),k||(I.css("position","static"===E?"relative":E).offset(h),b.effects.saveStyle(I)),B();}});}),b.effects.define("scale",function(l,j){var k=b(this),p=l.mode,m=parseInt(l.percent,10)||(0===parseInt(l.percent,10)?0:"effect"!==p?0:100),h=b.extend(!0,{from:b.effects.scaledDimensions(k),to:b.effects.scaledDimensions(k,m,l.direction||"both"),origin:l.origin||["middle","center"]},l);l.fade&&(h.from.opacity=1,h.to.opacity=0),b.effects.effect.size.call(this,h,j);}),b.effects.define("puff","hide",function(k,h){var j=b.extend(!0,{},k,{fade:!0,percent:parseInt(k.percent,10)||150});b.effects.effect.scale.call(this,j,h);}),b.effects.define("pulsate","show",function(v,q){var A=b(this),m=v.mode,k="show"===m,y="hide"===m,j=k||y,p=2*(v.times||5)+(j?1:0),t=v.duration/p,x=0,z=1,w=A.queue().length;for((k||!A.is(":visible"))&&(A.css("opacity",0).show(),x=1);p>z;z++){A.animate({opacity:x},t,v.easing),x=1-x;}A.animate({opacity:x},t,v.easing),A.queue(q),b.effects.unshift(A,w,p+1);}),b.effects.define("shake",function(z,v){var E=1,q=b(this),m=z.direction||"left",C=z.distance||20,j=z.times||3,t=2*j+1,w=Math.round(z.duration/t),B="up"===m||"down"===m?"top":"left",D="up"===m||"left"===m,A={},k={},y={},x=q.queue().length;for(b.effects.createPlaceholder(q),A[B]=(D?"-=":"+=")+C,k[B]=(D?"+=":"-=")+2*C,y[B]=(D?"-=":"+=")+2*C,q.animate(A,w,z.easing);j>E;E++){q.animate(k,w,z.easing).animate(y,w,z.easing);}q.animate(k,w,z.easing).animate(A,w/2,z.easing).queue(v),b.effects.unshift(q,x,t+1);}),b.effects.define("slide","show",function(v,q){var A,m,k=b(this),y={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},j=v.mode,p=v.direction||"left",t="up"===p||"down"===p?"top":"left",x="up"===p||"left"===p,z=v.distance||k["top"===t?"outerHeight":"outerWidth"](!0),w={};b.effects.createPlaceholder(k),A=k.cssClip(),m=k.position()[t],w[t]=(x?-1:1)*z+m,w.clip=k.cssClip(),w.clip[y[p][1]]=w.clip[y[p][0]],"show"===j&&(k.cssClip(w.clip),k.css(t,w[t]),w.clip=A,w[t]=m),k.animate(w,{queue:!1,duration:v.duration,easing:v.easing,complete:q});});var f;b.uiBackCompat!==!1&&(f=b.effects.define("transfer",function(j,h){b(this).transfer(j,h);}));});(function(c,b,a,d){Foundation.libs.tooltip={name:"tooltip",version:"5.3.1",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:false,hover_delay:200,show_on:"all",tip_template:function(e,f){return'<span data-selector="'+e+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'">'+f+'<span class="nub"></span></span>';}},cache:{},init:function(f,g,e){Foundation.inherit(this,"random_str");this.bindings(g,e);},should_show:function(g,f){var e=c.extend({},this.settings,this.data_options(g));if(e.show_on==="all"){return true;}else{if(this.small()&&e.show_on==="small"){return true;}else{if(this.medium()&&e.show_on==="medium"){return true;}else{if(this.large()&&e.show_on==="large"){return true;}}}}return false;},medium:function(){return matchMedia(Foundation.media_queries.medium).matches;},large:function(){return matchMedia(Foundation.media_queries.large).matches;},events:function(e){var f=this,g=f.S;f.create(this.S(e));c(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(k){var j=g(this),i=c.extend({},f.settings,f.data_options(j)),h=false;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(k.type)&&g(k.target).is("a")){return false;}if(/mouse/i.test(k.type)&&f.ie_touch(k)){return false;}if(j.hasClass("open")){if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(k.type)){k.preventDefault();}f.hide(j);}else{if(i.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(k.type)){return;}else{if(!i.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(k.type)){k.preventDefault();g(i.tooltip_class+".open").hide();h=true;}}if(/enter|over/i.test(k.type)){this.timer=setTimeout(function(){var l=f.showTip(j);}.bind(this),f.settings.hover_delay);}else{if(k.type==="mouseout"||k.type==="mouseleave"){clearTimeout(this.timer);f.hide(j);}else{f.showTip(j);}}}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(h){if(/mouse/i.test(h.type)&&f.ie_touch(h)){return false;}if(c(this).data("tooltip-open-event-type")=="touch"&&h.type=="mouseleave"){return;}else{if(c(this).data("tooltip-open-event-type")=="mouse"&&/MSPointerDown|touchstart/i.test(h.type)){f.convert_to_touch(c(this));}else{f.hide(c(this));}}}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(h){f.hide(g(this));});},ie_touch:function(f){return false;},showTip:function(e){var f=this.getTip(e);if(this.should_show(e,f)){return this.show(e);}return;},getTip:function(f){var e=this.selector(f),g=c.extend({},this.settings,this.data_options(f)),h=null;if(e){h=this.S('span[data-selector="'+e+'"]'+g.tooltip_class);}return(typeof h==="object")?h:false;},selector:function(e){var g=e.attr("id"),f=e.attr(this.attr_name())||e.attr("data-selector");if((g&&g.length<1||!g)&&typeof f!="string"){f=this.random_str(6);e.attr("data-selector",f);}return(g&&g.length>0)?g:f;},create:function(e){var g=this,i=c.extend({},this.settings,this.data_options(e)),f=this.settings.tip_template;if(typeof i.tip_template==="string"&&b.hasOwnProperty(i.tip_template)){f=b[i.tip_template];}var j=c(f(this.selector(e),c("<div></div>").html(e.attr("title")).html())),h=this.inheritable_classes(e);j.addClass(h).appendTo(i.append_to);if(Modernizr.touch){j.append('<span class="tap-to-close">'+i.touch_close_text+"</span>");j.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(k){g.hide(e);});}e.removeAttr("title").attr("title","");},reposition:function(j,m,h){var e,n,l,i,g,k;m.css("visibility","hidden").show();e=j.data("width");n=m.children(".nub");l=n.outerHeight();i=n.outerHeight();if(this.small()){m.css({width:"100%"});}else{m.css({width:(e)?e:"auto"});}k=function(t,s,p,o,r,q){return t.css({top:(s)?s:"auto",bottom:(o)?o:"auto",left:(r)?r:"auto",right:(p)?p:"auto"}).end();};k(m,(j.offset().top+j.outerHeight()+10),"auto","auto",j.offset().left);if(this.small()){k(m,(j.offset().top+j.outerHeight()+10),"auto","auto",12.5,c(this.scope).width());m.addClass("tip-override");k(n,-l,"auto","auto",j.offset().left);}else{var f=j.offset().left;if(Foundation.rtl){n.addClass("rtl");f=j.offset().left+j.outerWidth()-m.outerWidth();}k(m,(j.offset().top+j.outerHeight()+10),"auto","auto",f);m.removeClass("tip-override");if(h&&h.indexOf("tip-top")>-1){if(Foundation.rtl){n.addClass("rtl");}k(m,(j.offset().top-m.outerHeight()),"auto","auto",f).removeClass("tip-override");}else{if(h&&h.indexOf("tip-left")>-1){k(m,(j.offset().top+(j.outerHeight()/2)-(m.outerHeight()/2)),"auto","auto",(j.offset().left-m.outerWidth()-l)).removeClass("tip-override");n.removeClass("rtl");}else{if(h&&h.indexOf("tip-right")>-1){k(m,(j.offset().top+(j.outerHeight()/2)-(m.outerHeight()/2)),"auto","auto",(j.offset().left+j.outerWidth()+l)).removeClass("tip-override");n.removeClass("rtl");}}}}m.css("visibility","visible").hide();},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches;},inheritable_classes:function(e){var h=c.extend({},this.settings,this.data_options(e)),i=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(h.additional_inheritable_classes),g=e.attr("class"),f=g?c.map(g.split(" "),function(k,j){if(c.inArray(k,i)!==-1){return k;}}).join(" "):"";return c.trim(f);},convert_to_touch:function(e){var f=this,h=f.getTip(e),g=c.extend({},f.settings,f.data_options(e));if(h.find(".tap-to-close").length===0){h.append('<span class="tap-to-close">'+g.touch_close_text+"</span>");h.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(i){f.hide(e);});}e.data("tooltip-open-event-type","touch");},show:function(e){var f=this.getTip(e);if(e.data("tooltip-open-event-type")=="touch"){this.convert_to_touch(e);}this.reposition(e,f,e.attr("class"));e.addClass("open");f.fadeIn(150);},hide:function(e){var f=this.getTip(e);f.fadeOut(150,function(){f.find(".tap-to-close").remove();f.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose");e.removeClass("open");});},off:function(){var e=this;this.S(this.scope).off(".fndtn.tooltip");this.S(this.settings.tooltip_class).each(function(f){c("["+e.attr_name()+"]").eq(f).attr("title",c(this).text());}).remove();},reflow:function(){}};}(jQuery,window,window.document));(function(c,b,a,d){Foundation.libs.dropdown={name:"dropdown",version:"5.3.1",settings:{active_class:"open",align:"bottom",is_hover:false,opened:function(){},closed:function(){}},init:function(f,g,e){Foundation.inherit(this,"throttle");this.bindings(g,e);},events:function(g){var e=this,f=e.S;f(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(i){var h=f(this).data(e.attr_name(true)+"-init")||e.settings;if(!h.is_hover||Modernizr.touch){i.preventDefault();e.toggle(c(this));}}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(k){var j=f(this),l,i;clearTimeout(e.timeout);if(j.data(e.data_attr())){l=f("#"+j.data(e.data_attr()));i=j;}else{l=j;i=f("["+e.attr_name()+"='"+l.attr("id")+"']");}var h=i.data(e.attr_name(true)+"-init")||e.settings;if(f(k.target).data(e.data_attr())&&h.is_hover){e.closeall.call(e);}if(h.is_hover){e.open.apply(e,[l,i]);}}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(i){var h=f(this);e.timeout=setTimeout(function(){if(h.data(e.data_attr())){var j=h.data(e.data_attr(true)+"-init")||e.settings;if(j.is_hover){e.close.call(e,f("#"+h.data(e.data_attr())));}}else{var k=f("["+e.attr_name()+'="'+f(this).attr("id")+'"]'),j=k.data(e.attr_name(true)+"-init")||e.settings;if(j.is_hover){e.close.call(e,h);}}}.bind(this),150);}).on("click.fndtn.dropdown",function(i){var h=f(i.target).closest("["+e.attr_name()+"-content]");if(f(i.target).data(e.data_attr())||f(i.target).parent().data(e.data_attr())){return;}if(!(f(i.target).data("revealId"))&&(h.length>0&&(f(i.target).is("["+e.attr_name()+"-content]")||c.contains(h.first()[0],i.target)))){i.stopPropagation();return;}e.close.call(e,f("["+e.attr_name()+"-content]"));}).on("opened.fndtn.dropdown","["+e.attr_name()+"-content]",function(){e.settings.opened.call(this);}).on("closed.fndtn.dropdown","["+e.attr_name()+"-content]",function(){e.settings.closed.call(this);});f(b).off(".dropdown").on("resize.fndtn.dropdown",e.throttle(function(){e.resize.call(e);},50));this.resize();},close:function(f){var e=this;f.each(function(){if(e.S(this).hasClass(e.settings.active_class)){e.S(this).css(Foundation.rtl?"right":"left","-99999px").removeClass(e.settings.active_class).prev("["+e.attr_name()+"]").removeClass(e.settings.active_class).removeData("target");e.S(this).trigger("closed").trigger("closed.fndtn.dropdown",[f]);}});},closeall:function(){var e=this;c.each(e.S("["+this.attr_name()+"-content]"),function(){e.close.call(e,e.S(this));});},open:function(f,e){this.css(f.addClass(this.settings.active_class),e);f.prev("["+this.attr_name()+"]").addClass(this.settings.active_class);f.data("target",e.get(0)).trigger("opened").trigger("opened.fndtn.dropdown",[f,e]);},data_attr:function(){if(this.namespace.length>0){return this.namespace+"-"+this.name;}return this.name;},toggle:function(e){var f=this.S("#"+e.data(this.data_attr()));if(f.length===0){return;}this.close.call(this,this.S("["+this.attr_name()+"-content]").not(f));if(f.hasClass(this.settings.active_class)){this.close.call(this,f);if(f.data("target")!==e.get(0)){this.open.call(this,f,e);}}else{this.open.call(this,f,e);}},resize:function(){var f=this.S("["+this.attr_name()+"-content].open"),e=this.S("["+this.attr_name()+"='"+f.attr("id")+"']");if(f.length&&e.length){this.css(f,e);}},css:function(i,h){var e=Math.max((h.width()-i.width())/2,8);this.clear_idx();if(this.small()){var g=this.dirs.bottom.call(i,h);i.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:g.top});i.css(Foundation.rtl?"right":"left",e);}else{var f=h.data(this.attr_name(true)+"-init")||this.settings;this.style(i,h,f);}return i;},style:function(h,g,f){var e=c.extend({position:"absolute"},this.dirs[f.align].call(h,g,f));h.attr("style","").css(e);},dirs:{_base:function(e){var f=this.offsetParent(),h=f.offset(),g=e.offset();g.top-=h.top;g.left-=h.left;return g;},top:function(f,g){var e=Foundation.libs.dropdown,h=e.dirs._base.call(this,f),i=8;this.addClass("drop-top");if(f.outerWidth()<this.outerWidth()||e.small()){e.adjust_pip(i,h);}if(Foundation.rtl){return{left:h.left-this.outerWidth()+f.outerWidth(),top:h.top-this.outerHeight()};}return{left:h.left,top:h.top-this.outerHeight()};},bottom:function(f,g){var e=Foundation.libs.dropdown,h=e.dirs._base.call(this,f),i=8;if(f.outerWidth()<this.outerWidth()||e.small()){e.adjust_pip(i,h);}if(e.rtl){return{left:h.left-this.outerWidth()+f.outerWidth(),top:h.top+f.outerHeight()};}return{left:h.left,top:h.top+f.outerHeight()};},left:function(e,f){var g=Foundation.libs.dropdown.dirs._base.call(this,e);this.addClass("drop-left");return{left:g.left-this.outerWidth(),top:g.top};},right:function(e,f){var g=Foundation.libs.dropdown.dirs._base.call(this,e);this.addClass("drop-right");return{left:g.left+e.outerWidth(),top:g.top};}},adjust_pip:function(k,j){var f=Foundation.stylesheet;if(this.small()){k+=j.left-8;}this.rule_idx=f.cssRules.length;var h=".f-dropdown.open:before",g=".f-dropdown.open:after",e="left: "+k+"px;",i="left: "+(k-1)+"px;";if(f.insertRule){f.insertRule([h,"{",e,"}"].join(" "),this.rule_idx);f.insertRule([g,"{",i,"}"].join(" "),this.rule_idx+1);}else{f.addRule(h,e,this.rule_idx);f.addRule(g,i,this.rule_idx+1);}},clear_idx:function(){var e=Foundation.stylesheet;if(this.rule_idx){e.deleteRule(this.rule_idx);e.deleteRule(this.rule_idx);delete this.rule_idx;}},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches;},off:function(){this.S(this.scope).off(".fndtn.dropdown");this.S("html, body").off(".fndtn.dropdown");this.S(b).off(".fndtn.dropdown");this.S("[data-dropdown-content]").off(".fndtn.dropdown");},reflow:function(){}};}(jQuery,window,window.document));(function(c,b,a,d){Foundation.libs.tab={name:"tab",version:"5.3.1",settings:{active_class:"active",callback:function(){},deep_linking:false,scroll_to_content:true,is_hover:false},default_tab_hashes:[],init:function(h,i,f){var e=this,g=this.S;this.bindings(i,f);this.handle_location_hash_change();g("["+this.attr_name()+"] > .active > a",this.scope).each(function(){e.default_tab_hashes.push(this.hash);});},events:function(){var e=this,f=this.S;f(this.scope).off(".tab").on("click.fndtn.tab","["+this.attr_name()+"] > * > a",function(h){var g=f(this).closest("["+e.attr_name()+"]").data(e.attr_name(true)+"-init");if(!g.is_hover||Modernizr.touch){h.preventDefault();h.stopPropagation();e.toggle_active_tab(f(this).parent());}}).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > * > a",function(h){var g=f(this).closest("["+e.attr_name()+"]").data(e.attr_name(true)+"-init");if(g.is_hover){e.toggle_active_tab(f(this).parent());}});f(b).on("hashchange.fndtn.tab",function(g){g.preventDefault();e.handle_location_hash_change();});},handle_location_hash_change:function(){var e=this,f=this.S;f("["+this.attr_name()+"]",this.scope).each(function(){var i=f(this).data(e.attr_name(true)+"-init");if(i.deep_linking){var k=e.scope.location.hash;if(k!=""){var h=f(k);if(h.hasClass("content")&&h.parent().hasClass("tab-content")){e.toggle_active_tab(c("["+e.attr_name()+"] > * > a[href="+k+"]").parent());}else{var g=h.closest(".content").attr("id");if(g!=d){e.toggle_active_tab(c("["+e.attr_name()+"] > * > a[href=#"+g+"]").parent(),k);}}}else{for(var j in e.default_tab_hashes){e.toggle_active_tab(c("["+e.attr_name()+"] > * > a[href="+e.default_tab_hashes[j]+"]").parent());}}}});},toggle_active_tab:function(e,i){var g=this.S,l=e.closest("["+this.attr_name()+"]"),h=e.children("a").first(),n="#"+h.attr("href").split("#")[1],j=g(n),m=e.siblings(),f=l.data(this.attr_name(true)+"-init");if(g(this).data(this.data_attr("tab-content"))){n="#"+g(this).data(this.data_attr("tab-content")).split("#")[1];j=g(n);}if(f.deep_linking){var k=c("body,html").scrollTop();if(i!=d){b.location.hash=i;}else{b.location.hash=n;}if(f.scroll_to_content){if(i==d||i==n){e.parent()[0].scrollIntoView();}else{g(n)[0].scrollIntoView();}}else{if(i==d||i==n){c("body,html").scrollTop(k);}}}e.addClass(f.active_class).triggerHandler("opened");m.removeClass(f.active_class);j.siblings().removeClass(f.active_class).end().addClass(f.active_class);f.callback(e);j.triggerHandler("toggled",[e]);l.triggerHandler("toggled",[j]);},data_attr:function(e){if(this.namespace.length>0){return this.namespace+"-"+e;}return e;},off:function(){},reflow:function(){}};}(jQuery,window,window.document));(function(d,c,a,e){Foundation.libs.reveal={name:"reveal",version:"5.3.1",locked:false,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:true,close_on_esc:true,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:d(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(g,h,f){d.extend(true,this.settings,h,f);this.bindings(h,f);},events:function(h){var f=this,g=f.S;g(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(l){l.preventDefault();if(!f.locked){var j=g(this),k=j.data(f.data_attr("reveal-ajax"));f.locked=true;if(typeof k==="undefined"){f.open.call(f,j);}else{var i=k===true?j.attr("href"):k;f.open.call(f,j,{url:i});}}});g(a).on("click.fndtn.reveal",this.close_targets(),function(j){j.preventDefault();if(!f.locked){var i=g("["+f.attr_name()+"].open").data(f.attr_name(true)+"-init"),k=g(j.target)[0]===g("."+i.bg_class)[0];if(k){if(i.close_on_background_click){j.stopPropagation();}else{return;}}f.locked=true;f.close.call(f,k?g("["+f.attr_name()+"].open"):g(this).closest("["+f.attr_name()+"]"));}});if(g("["+f.attr_name()+"]",this.scope).length>0){g(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video);}else{g(this.scope).on("open.fndtn.reveal","["+f.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+f.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+f.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+f.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+f.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+f.attr_name()+"]",this.close_video);}return true;},key_up_on:function(g){var f=this;f.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(j){var h=f.S("["+f.attr_name()+"].open"),i=h.data(f.attr_name(true)+"-init")||f.settings;if(i&&j.which===27&&i.close_on_esc&&!f.locked){f.close.call(f,h);}});return true;},key_up_off:function(f){this.S("body").off("keyup.fndtn.reveal");return true;},open:function(j,k){var g=this,i;d("body").css("overflow","hidden");if(j){if(typeof j.selector!=="undefined"){i=g.S("#"+j.data(g.data_attr("reveal-id"))).first();}else{i=g.S(this.scope);k=j;}}else{i=g.S(this.scope);}var h=i.data(g.attr_name(true)+"-init");h=h||this.settings;if(i.hasClass("open")&&j.attr("data-reveal-id")==i.attr("id")){return g.close(i);}if(!i.hasClass("open")){var f=g.S("["+g.attr_name()+"].open");if(typeof i.data("css-top")==="undefined"){i.data("css-top",parseInt(i.css("top"),10)).data("offset",this.cache_offset(i));}this.key_up_on(i);i.trigger("open").trigger("open.fndtn.reveal");if(f.length<1){this.toggle_bg(i,true);}if(typeof k==="string"){k={url:k};}if(typeof k==="undefined"||!k.url){if(f.length>0){this.hide(f,h.css.close);}this.show(i,h.css.open);}else{var l=typeof k.success!=="undefined"?k.success:null;d.extend(k,{success:function(n,o,m){if(d.isFunction(l)){l(n,o,m);}i.html(n);g.S(i).foundation("section","reflow");g.S(i).children().foundation();if(f.length>0){g.hide(f,h.css.close);}g.show(i,h.css.open);}});d.ajax(k);}}},close:function(h){var h=h&&h.length?h:this.S(this.scope),g=this.S("["+this.attr_name()+"].open"),f=h.data(this.attr_name(true)+"-init")||this.settings;d("body").css("overflow","scroll");if(g.length>0){this.locked=true;this.key_up_off(h);h.trigger("close").trigger("close.fndtn.reveal");this.toggle_bg(h,false);this.hide(g,f.css.close,f);}},close_targets:function(){var f="."+this.settings.dismiss_modal_class;if(this.settings.close_on_background_click){return f+", ."+this.settings.bg_class;}return f;},toggle_bg:function(f,g){if(this.S("."+this.settings.bg_class).length===0){this.settings.bg=d("<div />",{"class":this.settings.bg_class}).appendTo("body").hide();}var h=this.settings.bg.filter(":visible").length>0;if(g!=h){if(g==e?h:!g){this.hide(this.settings.bg);}else{this.show(this.settings.bg);}}},show:function(k,i){if(i){var j=k.data(this.attr_name(true)+"-init")||this.settings,h=j.root_element;if(k.parent(h).length===0){var l=k.wrap('<div style="display: none;" />').parent();k.on("closed.fndtn.reveal.wrapped",function(){k.detach().appendTo(l);k.unwrap().unbind("closed.fndtn.reveal.wrapped");});k.detach().appendTo(h);}var g=b(j.animation);if(!g.animate){this.locked=false;}if(g.pop){i.top=d(c).scrollTop()-k.data("offset")+"px";var f={top:d(c).scrollTop(),opacity:1};return setTimeout(function(){return k.css(i).animate(f,j.animation_speed,"linear",function(){this.locked=false;k.trigger("opened").trigger("opened.fndtn.reveal");}.bind(this)).addClass("open");}.bind(this),j.animation_speed/2);}if(g.fade){i.top=d(c).scrollTop();var f={opacity:1};return setTimeout(function(){return k.css(i).animate(f,j.animation_speed,"linear",function(){this.locked=false;k.trigger("opened").trigger("opened.fndtn.reveal");}.bind(this)).addClass("open");}.bind(this),j.animation_speed/2);}return k.css(i).show().css({opacity:1}).addClass("open").trigger("opened").trigger("opened.fndtn.reveal");}var j=this.settings;if(b(j.animation).fade){return k.fadeIn(j.animation_speed/2);}this.locked=false;return k.show();},hide:function(j,h){if(h){var i=j.data(this.attr_name(true)+"-init");i=i||this.settings;var g=b(i.animation);if(!g.animate){this.locked=false;}if(g.pop){var f={top:-d(c).scrollTop()-j.data("offset")+"px",opacity:0};return setTimeout(function(){return j.animate(f,i.animation_speed,"linear",function(){this.locked=false;j.css(h).trigger("closed").trigger("closed.fndtn.reveal");}.bind(this)).removeClass("open");}.bind(this),i.animation_speed/2);}if(g.fade){var f={opacity:0};return setTimeout(function(){return j.animate(f,i.animation_speed,"linear",function(){this.locked=false;j.css(h).trigger("closed").trigger("closed.fndtn.reveal");}.bind(this)).removeClass("open");}.bind(this),i.animation_speed/2);}return j.hide().css(h).removeClass("open").trigger("closed").trigger("closed.fndtn.reveal");}var i=this.settings;if(b(i.animation).fade){return j.fadeOut(i.animation_speed/2);}return j.hide();},close_video:function(h){var g=d(".flex-video",h.target),f=d("iframe",g);if(f.length>0){f.attr("data-src",f[0].src);f.attr("src",f.attr("src"));g.hide();}},open_video:function(h){var g=d(".flex-video",h.target),f=g.find("iframe");if(f.length>0){var j=f.attr("data-src");if(typeof j==="string"){f[0].src=f.attr("data-src");}else{var i=f[0].src;f[0].src=e;f[0].src=i;}g.show();}},data_attr:function(f){if(this.namespace.length>0){return this.namespace+"-"+f;}return f;},cache_offset:function(f){var g=f.show().height()+parseInt(f.css("top"),10);f.hide();return g;},off:function(){d(this.scope).off(".fndtn.reveal");},reflow:function(){}};function b(h){var g=/fade/i.test(h);var f=/pop/i.test(h);return{animate:g||f,pop:f,fade:g};}}(jQuery,window,window.document));(function(c,b,a,d){Foundation.libs.slider={name:"slider",version:"5.5.3",settings:{start:0,end:100,step:1,precision:2,initial:null,display_selector:"",vertical:false,trigger_input_change:false,on_change:function(){}},cache:{},init:function(f,g,e){Foundation.inherit(this,"throttle");this.bindings(g,e);this.reflow();},events:function(){var e=this;c(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+e.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(f){if(!e.cache.active){f.preventDefault();e.set_active_slider(c(f.target));}}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(g){if(!!e.cache.active){g.preventDefault();if(c.data(e.cache.active[0],"settings").vertical){var f=0;if(!g.pageY){f=b.scrollY;}e.calculate_position(e.cache.active,e.get_cursor_position(g,"y")+f);}else{e.calculate_position(e.cache.active,e.get_cursor_position(g,"x"));}}}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(h){if(!e.cache.active){var g=c(h.target).attr("role")==="slider"?c(h.target):c(h.target).closest(".range-slider").find("[role='slider']");if(g.length&&(!g.parent().hasClass("disabled")&&!g.parent().attr("disabled"))){e.set_active_slider(g);if(c.data(e.cache.active[0],"settings").vertical){var f=0;if(!h.pageY){f=b.scrollY;}e.calculate_position(e.cache.active,e.get_cursor_position(h,"y")+f);}else{e.calculate_position(e.cache.active,e.get_cursor_position(h,"x"));}}}e.remove_active_slider();}).on("change.fndtn.slider",function(f){e.settings.on_change();});e.S(b).on("resize.fndtn.slider",e.throttle(function(f){e.reflow();},300));this.S("["+this.attr_name()+"]").each(function(){var g=c(this),h=g.children(".range-slider-handle")[0],f=e.initialize_settings(h);if(f.display_selector!=""){c(f.display_selector).each(function(){if(c(this).attr("value")){c(this).off("change").on("change",function(){g.foundation("slider","set_value",c(this).val());});}});}});},get_cursor_position:function(i,h){var j="page"+h.toUpperCase(),g="client"+h.toUpperCase(),f;if(typeof i[j]!=="undefined"){f=i[j];}else{if(typeof i.originalEvent[g]!=="undefined"){f=i.originalEvent[g];}else{if(i.originalEvent.touches&&i.originalEvent.touches[0]&&typeof i.originalEvent.touches[0][g]!=="undefined"){f=i.originalEvent.touches[0][g];}else{if(i.currentPoint&&typeof i.currentPoint[h]!=="undefined"){f=i.currentPoint[h];}}}}return f;},set_active_slider:function(e){this.cache.active=e;},remove_active_slider:function(){this.cache.active=null;},calculate_position:function(l,j){var f=this,h=c.data(l[0],"settings"),g=c.data(l[0],"handle_l"),e=c.data(l[0],"handle_o"),k=c.data(l[0],"bar_l"),i=c.data(l[0],"bar_o");requestAnimationFrame(function(){var n;if(Foundation.rtl&&!h.vertical){n=f.limit_to(((i+k-j)/k),0,1);}else{n=f.limit_to(((j-i)/k),0,1);}n=h.vertical?1-n:n;var m=f.normalized_value(n,h.start,h.end,h.step,h.precision);f.set_ui(l,m);});},set_ui:function(f,m){var i=c.data(f[0],"settings"),g=c.data(f[0],"handle_l"),h=c.data(f[0],"bar_l"),n=this.normalized_percentage(m,i.start,i.end),l=n*(h-g)-1,j=n*100,e=f.parent(),k=f.parent().children("input[type=hidden]");if(Foundation.rtl&&!i.vertical){l=-l;}l=i.vertical?-l+h-g+1:l;this.set_translate(f,l,i.vertical);if(i.vertical){f.siblings(".range-slider-active-segment").css("height",j+"%");}else{f.siblings(".range-slider-active-segment").css("width",j+"%");}e.attr(this.attr_name(),m).trigger("change.fndtn.slider");k.val(m);if(i.trigger_input_change){k.trigger("change.fndtn.slider");}if(!f[0].hasAttribute("aria-valuemin")){f.attr({"aria-valuemin":i.start,"aria-valuemax":i.end});}f.attr("aria-valuenow",m);if(i.display_selector!=""){c(i.display_selector).each(function(){if(this.hasAttribute("value")){c(this).val(m);}else{c(this).text(m);}});}},normalized_percentage:function(f,g,e){return Math.min(1,(f-g)/(e-g));},normalized_value:function(f,e,h,g,j){var i=h-e,l=f*i,k=(l-(l%g))/g,m=l%g,n=(m>=g*0.5?g:0);return((k*g+n)+e).toFixed(j);},set_translate:function(f,g,e){if(e){c(f).css("-webkit-transform","translateY("+g+"px)").css("-moz-transform","translateY("+g+"px)").css("-ms-transform","translateY("+g+"px)").css("-o-transform","translateY("+g+"px)").css("transform","translateY("+g+"px)");}else{c(f).css("-webkit-transform","translateX("+g+"px)").css("-moz-transform","translateX("+g+"px)").css("-ms-transform","translateX("+g+"px)").css("-o-transform","translateX("+g+"px)").css("transform","translateX("+g+"px)");}},limit_to:function(g,f,e){return Math.min(Math.max(g,f),e);},initialize_settings:function(g){var f=c.extend({},this.settings,this.data_options(c(g).parent())),e;if(f.precision===null){e=(""+f.step).match(/\.([\d]*)/);f.precision=e&&e[1]?e[1].length:0;}if(f.vertical){c.data(g,"bar_o",c(g).parent().offset().top);c.data(g,"bar_l",c(g).parent().outerHeight());c.data(g,"handle_o",c(g).offset().top);c.data(g,"handle_l",c(g).outerHeight());}else{c.data(g,"bar_o",c(g).parent().offset().left);c.data(g,"bar_l",c(g).parent().outerWidth());c.data(g,"handle_o",c(g).offset().left);c.data(g,"handle_l",c(g).outerWidth());}c.data(g,"bar",c(g).parent());return c.data(g,"settings",f);},set_initial_position:function(g){var f=c.data(g.children(".range-slider-handle")[0],"settings"),e=((typeof f.initial=="number"&&!isNaN(f.initial))?f.initial:Math.floor((f.end-f.start)*0.5/f.step)*f.step+f.start),h=g.children(".range-slider-handle");this.set_ui(h,e);},set_value:function(f){var e=this;c("["+e.attr_name()+"]",this.scope).each(function(){c(this).attr(e.attr_name(),f);});if(!!c(this.scope).attr(e.attr_name())){c(this.scope).attr(e.attr_name(),f);}e.reflow();},reflow:function(){var e=this;e.S("["+this.attr_name()+"]").each(function(){var f=c(this).children(".range-slider-handle")[0],g=c(this).attr(e.attr_name());e.initialize_settings(f);if(g){e.set_ui(c(f),parseFloat(g));}else{e.set_initial_position(c(this));}});}};}(jQuery,window,window.document));
/*!
 * imagesLoaded PACKAGED v3.1.7
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
/*!
 * EventEmitter v4.2.6 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
(function(){function c(){}var l=c.prototype;var v=this;var x=v.EventEmitter;function h(z,A){var y=z.length;while(y--){if(z[y].listener===A){return y;}}return -1;}function j(y){return function z(){return this[y].apply(this,arguments);};}l.getListeners=function t(y){var B=this._getEvents();var z;var A;if(typeof y==="object"){z={};for(A in B){if(B.hasOwnProperty(A)&&y.test(A)){z[A]=B[A];}}}else{z=B[y]||(B[y]=[]);}return z;};l.flattenListeners=function r(A){var y=[];var z;for(z=0;z<A.length;z+=1){y.push(A[z].listener);}return y;};l.getListenersAsObject=function e(y){var A=this.getListeners(y);var z;if(A instanceof Array){z={};z[y]=A;}return z||A;};l.addListener=function f(y,B){var A=this.getListenersAsObject(y);var C=typeof B==="object";var z;for(z in A){if(A.hasOwnProperty(z)&&h(A[z],B)===-1){A[z].push(C?B:{listener:B,once:false});}}return this;};l.on=j("addListener");l.addOnceListener=function a(y,z){return this.addListener(y,{listener:z,once:true});};l.once=j("addOnceListener");l.defineEvent=function p(y){this.getListeners(y);return this;};l.defineEvents=function q(y){for(var z=0;z<y.length;z+=1){this.defineEvent(y[z]);}return this;};l.removeListener=function b(y,C){var B=this.getListenersAsObject(y);var z;var A;for(A in B){if(B.hasOwnProperty(A)){z=h(B[A],C);if(z!==-1){B[A].splice(z,1);}}}return this;};l.off=j("removeListener");l.addListeners=function m(y,z){return this.manipulateListeners(false,y,z);};l.removeListeners=function s(y,z){return this.manipulateListeners(true,y,z);};l.manipulateListeners=function g(z,A,C){var B;var D;var E=z?this.removeListener:this.addListener;var y=z?this.removeListeners:this.addListeners;if(typeof A==="object"&&!(A instanceof RegExp)){for(B in A){if(A.hasOwnProperty(B)&&(D=A[B])){if(typeof D==="function"){E.call(this,B,D);}else{y.call(this,B,D);}}}}else{B=C.length;while(B--){E.call(this,A,C[B]);}}return this;};l.removeEvent=function o(y){var B=typeof y;var A=this._getEvents();var z;if(B==="string"){delete A[y];}else{if(B==="object"){for(z in A){if(A.hasOwnProperty(z)&&y.test(z)){delete A[z];}}}else{delete this._events;}}return this;};l.removeAllListeners=j("removeEvent");l.emitEvent=function u(y,A){var D=this.getListenersAsObject(y);var E;var C;var B;var z;for(B in D){if(D.hasOwnProperty(B)){C=D[B].length;while(C--){E=D[B][C];if(E.once===true){this.removeListener(y,E.listener);}z=E.listener.apply(this,A||[]);if(z===this._getOnceReturnValue()){this.removeListener(y,E.listener);}}}}return this;};l.trigger=j("emitEvent");l.emit=function k(y){var z=Array.prototype.slice.call(arguments,1);return this.emitEvent(y,z);};l.setOnceReturnValue=function i(y){this._onceReturnValue=y;return this;};l._getOnceReturnValue=function n(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue;}else{return true;}};l._getEvents=function d(){return this._events||(this._events={});};c.noConflict=function w(){v.EventEmitter=x;return c;};if(typeof define==="function"&&define.amd){define("eventEmitter/EventEmitter",[],function(){return c;});}else{if(typeof module==="object"&&module.exports){module.exports=c;}else{this.EventEmitter=c;}}}.call(this));
/*!
 * eventie v1.0.4
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 */
(function(e){var b=document.documentElement;var f=function(){};function a(h){var g=e.event;g.target=g.target||g.srcElement||h;return g;}if(b.addEventListener){f=function(i,h,g){i.addEventListener(h,g,false);};}else{if(b.attachEvent){f=function(i,h,g){i[h+g]=g.handleEvent?function(){var j=a(i);g.handleEvent.call(g,j);}:function(){var j=a(i);g.call(i,j);};i.attachEvent("on"+h,i[h+g]);};}}var d=function(){};if(b.removeEventListener){d=function(i,h,g){i.removeEventListener(h,g,false);};}else{if(b.detachEvent){d=function(j,h,g){j.detachEvent("on"+h,j[h+g]);try{delete j[h+g];}catch(i){j[h+g]=undefined;}};}}var c={bind:f,unbind:d};if(typeof define==="function"&&define.amd){define("eventie/eventie",c);}else{e.eventie=c;}})(this);
/*!
 * imagesLoaded v3.1.7
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(b,a){if(typeof define==="function"&&define.amd){define(["eventEmitter/EventEmitter","eventie/eventie"],function(d,c){return a(b,d,c);});}else{if(typeof exports==="object"){module.exports=a(b,require("eventEmitter"),require("eventie"));}else{b.imagesLoaded=a(b,b.EventEmitter,b.eventie);}}})(window,function factory(i,m,l){var g=i.jQuery;var e=i.console;var c=typeof e!=="undefined";function j(p,o){for(var q in o){p[q]=o[q];}return p;}var n=Object.prototype.toString;function h(o){return n.call(o)==="[object Array]";}function d(r){var q=[];if(h(r)){q=r;}else{if(typeof r.length==="number"){for(var p=0,o=r.length;p<o;p++){q.push(r[p]);}}else{q.push(r);}}return q;}function f(q,p,o){if(!(this instanceof f)){return new f(q,p);}if(typeof q==="string"){q=document.querySelectorAll(q);}this.elements=d(q);this.options=j({},this.options);if(typeof p==="function"){o=p;}else{j(this.options,p);}if(o){this.on("always",o);}this.getImages();if(g){this.jqDeferred=new g.Deferred();}var r=this;setTimeout(function(){r.check();});}f.prototype=new m();f.prototype.options={};f.prototype.getImages=function(){this.images=[];for(var s=0,o=this.elements.length;s<o;s++){var t=this.elements[s];if(t.nodeName==="IMG"){this.addImage(t);}var p=t.nodeType;if(!p||!(p===1||p===9||p===11)){continue;}var v=t.querySelectorAll("img");for(var r=0,u=v.length;r<u;r++){var q=v[r];this.addImage(q);}}};f.prototype.addImage=function(o){var p=new k(o);this.images.push(p);};f.prototype.check=function(){var t=this;var p=0;var r=this.images.length;this.hasAnyBroken=false;if(!r){this.complete();return;}function q(v,u){if(t.options.debug&&c){e.log("confirm",v,u);}t.progress(v);p++;if(p===r){t.complete();}return true;}for(var o=0;o<r;o++){var s=this.images[o];s.on("confirm",q);s.check();}};f.prototype.progress=function(o){this.hasAnyBroken=this.hasAnyBroken||!o.isLoaded;var p=this;setTimeout(function(){p.emit("progress",p,o);if(p.jqDeferred&&p.jqDeferred.notify){p.jqDeferred.notify(p,o);}});};f.prototype.complete=function(){var o=this.hasAnyBroken?"fail":"done";this.isComplete=true;var p=this;setTimeout(function(){p.emit(o,p);p.emit("always",p);if(p.jqDeferred){var q=p.hasAnyBroken?"reject":"resolve";p.jqDeferred[q](p);}});};if(g){g.fn.imagesLoaded=function(p,q){var o=new f(this,p,q);return o.jqDeferred.promise(g(this));};}function k(o){this.img=o;}k.prototype=new m();k.prototype.check=function(){var o=b[this.img.src]||new a(this.img.src);if(o.isConfirmed){this.confirm(o.isLoaded,"cached was confirmed");return;}if(this.img.complete&&this.img.naturalWidth!==undefined){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return;}var p=this;o.on("confirm",function(q,r){p.confirm(q.isLoaded,r);return true;});o.check();};k.prototype.confirm=function(o,p){this.isLoaded=o;this.emit("confirm",this,p);};var b={};function a(o){this.src=o;b[o]=this;}a.prototype=new m();a.prototype.check=function(){if(this.isChecked){return;}var o=new Image();l.bind(o,"load",this);l.bind(o,"error",this);o.src=this.src;this.isChecked=true;};a.prototype.handleEvent=function(o){var p="on"+o.type;if(this[p]){this[p](o);}};a.prototype.onload=function(o){this.confirm(true,"onload");this.unbindProxyEvents(o);};a.prototype.onerror=function(o){this.confirm(false,"onerror");this.unbindProxyEvents(o);};a.prototype.confirm=function(o,p){this.isConfirmed=true;this.isLoaded=o;this.emit("confirm",this,p);};a.prototype.unbindProxyEvents=function(o){l.unbind(o.target,"load",this);l.unbind(o.target,"error",this);};return f;});(function(){$.getDOISignposts=function(h){const l="https://api.altmetric.com/v1/doi/"+h;const e="https://metrics-api.dimensions.ai/doi/"+h;const c="https://counter.plos.org/api/v1.0/stats/totals/doi/"+h;var m=0;var j=0;var k=0;var d=0;const f=$.getJSON(l).then(function(p){function o(q){return p["cited_by_"+q+"_count"]||0;}function n(q){return parseInt(p.readers[q]||0);}j=n("mendeley")+n("citeulike");d=o("fbwalls")+o("tweeters")+o("wikipedia")+o("rdts");});const g=$.getJSON(e).then(function(n){k=n.times_cited;});const i=$.getJSON(c).then(function(n){m=n["get-document"]+n["get-pdf"]+n["get-xml"];});return Promise.allSettled([f,g,i]).then(function(n){return{shareCount:d,viewCount:m,citationCount:k,saveCount:j};});};$.getMediaLink=function(c){const d="https://api.altmetric.com/v1/doi/"+c;return $.getJSON(d).then(function(e){return"https://plos.altmetric.com/details/"+e.altmetric_id+"/news";});};var a=false,b=/xyz/.test(function(){xyz;})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(g){const f=this.prototype;a=true;const e=new this();a=false;for(var d in g){e[d]=typeof g[d]==="function"&&typeof f[d]==="function"&&b.test(g[d])?(function(h,i){return function(){const k=this._super;this._super=f[h];const j=i.apply(this,arguments);this._super=k;return j;};})(d,g[d]):g[d];}function c(){if(!a&&this.init){this.init.apply(this,arguments);}}c.prototype=e;c.prototype.constructor=c;c.extend=arguments.callee;return c;};})(jQuery);(function(b){var a;toggle_component={settings:{toggle_trigger:"[data-js-toggle=toggle_trigger]",toggle_target:"[data-js-toggle=toggle_target]",toggle_add:"[data-js-toggle=toggle_add]",speed:0},init:function(){this.toggle();},toggle:function(){a=this.settings;b(a.toggle_trigger).on("click",function(){b(this).siblings(a.toggle_trigger).addBack().toggle(a.speed);b(this).siblings(a.toggle_target).toggle(a.speed);b(this).siblings(a.toggle_add).toggle(a.speed);});}};})(jQuery);(function(a){truncate_elem={remove_overflowed:function(f){var e,g,d,b,c;g="&hellip;";d=a(f);b=[];e=a(d[0]).offset().top;d.children().each(function(){if(a(this).offset().top>e){b.push(this);return a(this).addClass("remove");}});c=b[0];a(c).prev().append(g);a(".remove").css("visibility","hidden");}};})(jQuery);(function(b){var a;tooltip_hover={settings:{hover_trigger:"[data-js-tooltip-hover=trigger]",hover_target:"[data-js-tooltip-hover=target]",class_trigger:"highlighted",class_target:"visible",class_shim:"shim"},init:function(){this.action();},action:function(){a=this.settings;b(a.hover_trigger).off("mouseenter mouseleave").mouseenter(function(){b(this).addClass(a.class_trigger).find(a.hover_target).addClass(a.class_target).before("<div class="+a.class_shim+"> </div>");}).mouseleave(function(){b(this).removeClass(a.class_trigger).find(a.hover_target).removeClass(a.class_target);b(".shim").remove();});}};})(jQuery);
/*!
 * hoverIntent r7 // 2013.03.11 // jQuery 1.9.1+
 * http://cherne.net/brian/resources/jquery.hoverIntent.html
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007, 2013 Brian Cherne
 */
(function(a){a.fn.hoverIntent=function(m,d,h){var j={interval:100,sensitivity:7,timeout:0};if(typeof m==="object"){j=a.extend(j,m);}else{if(a.isFunction(d)){j=a.extend(j,{over:m,out:d,selector:h});}else{j=a.extend(j,{over:m,out:m,selector:d});}}var l,k,g,f;var e=function(n){l=n.pageX;k=n.pageY;};var c=function(o,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if((Math.abs(g-l)+Math.abs(f-k))<j.sensitivity){a(n).off("mousemove.hoverIntent",e);n.hoverIntent_s=1;return j.over.apply(n,[o]);}else{g=l;f=k;n.hoverIntent_t=setTimeout(function(){c(o,n);},j.interval);}};var i=function(o,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);n.hoverIntent_s=0;return j.out.apply(n,[o]);};var b=function(p){var o=jQuery.extend({},p);var n=this;if(n.hoverIntent_t){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);}if(p.type=="mouseenter"){g=o.pageX;f=o.pageY;a(n).on("mousemove.hoverIntent",e);if(n.hoverIntent_s!=1){n.hoverIntent_t=setTimeout(function(){c(o,n);},j.interval);}}else{a(n).off("mousemove.hoverIntent",e);if(n.hoverIntent_s==1){n.hoverIntent_t=setTimeout(function(){i(o,n);},j.timeout);}}};return this.on({"mouseenter.hoverIntent":b,"mouseleave.hoverIntent":b},j.selector);};})(jQuery);(function(a){a.fn.menu_drop=function(c,b){b=a.extend({},d,b);var d={child:".dropdown"};if(c==="show"){this.addClass("hover");a(b.child,this).css("visibility","visible");return this;}if(c==="hide"){this.removeClass("hover");a(b.child,this).css("visibility","hidden");return this;}};}(jQuery));(function(a){hover_delay={init:function(){var b=a("li.has-dropdown");var c=".hover";if(a("html.touch:not(.desktop)").length){b.on("touchstart",function(d){a(this).menu_drop("show").siblings(c).menu_drop("hide");d.stopPropagation();a(document).one("touchstart",function(){b.menu_drop("hide");});});}else{b.hoverIntent(function(){a(this).menu_drop("show");},function(){a(this).menu_drop("hide");});}}};})(jQuery);(function(b){var a;placeholder_style={settings:{input:"#navsearch input#search",placeholder_class:"placeholder",parent:"form"},init:function(){a=this.settings;b(a.input).focusin(function(){b(this).parents(a.parent).addClass(a.placeholder_class);});b(a.input).focusout(function(){b(this).parents(a.parent).removeClass(a.placeholder_class);});}};})(jQuery);(function(a){a(document).ready(function(){a.getDOISignposts(ArticleData.doi).then(function(c){const b=_.template(a("#signpostsTemplate").html());a("#almSignposts").html(b(c));tooltip_hover.init();});});})(jQuery);(function(b){var a;tooltip_component={settings:{tooltip_trigger:"[data-js-tooltip=tooltip_trigger]",tooltip_target:"[data-js-tooltip=tooltip_target]",tooltip_close:"[data-js-tooltip=tooltip_close]",tooltip_container:"[data-js-tooltip=tooltip_container]",tooltip_class:"active",tooltip_container_class:"tooltip-container-active"},init:function(){this.tooltip();},tooltip:function(){a=this.settings;b(a.tooltip_trigger).on("click",function(h){var i=b(this),g=i.parents(a.tooltip_container).innerWidth(),f=g*0.75,e=i.position(),d=b(h.target),c=i.children("div");b(a.tooltip_trigger).not(this).removeClass(a.tooltip_class).children("div").fadeOut("fast");if(!d.parents(a.tooltip_target).length||d.is(a.tooltip_close)){i.toggleClass(a.tooltip_class);if(Modernizr.borderradius){c.fadeToggle("fast");}}if(e.left>=f){i.find(a.tooltip_target).addClass("pos-right");}b(document).on("click.closeOutside",function(j){if(!b(j.target).closest(a.tooltip_trigger).length){i.removeClass(a.tooltip_class);c.fadeOut("fast");b(document).off("click.closeOutside");}});});}};})(jQuery);(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a);}else{if(typeof module==="object"&&module.exports){module.exports=a(require("jquery"));}else{a(jQuery);}}}(function(a){a.fn.scrollTo=function(d){var c=this.attr("id");var b=a.extend({callback:function(){},scrollSpeed:500,changeUrl:false,stopDefault:true},arguments[0]||{});if(b.stopDefault){d.preventDefault(d);}a("html,body").stop().animate({scrollTop:this.offset().top},b.scrollSpeed,function(){if(b.changeUrl){window.location.hash=c;}});b.callback.call(this);return this;};}));(function(a){a.fn.buildNav=function(b){var c={content:"",margin:70};var b=a.extend(c,b);return this.each(function(){var e=a(this),f=a('<ul class="nav-page" />'),d=(b.content).find("a[data-toc]");if(d.length>0){d.each(function(){var g=a(this),j=g.attr("title"),h=g.attr("data-toc"),i=g.attr("id");a('<li><a href="#'+h+'" class="scroll">'+j+"</a></li>").addClass(i).appendTo(f);});f.find("li").eq(0).addClass("active");f.prependTo(e);e.on("click","a.scroll",function(h){var g=a(this);if(window.history.pushState){window.history.pushState({},document.title,h.target.href);}else{}h.preventDefault();a("html,body").animate({scrollTop:a('[name="'+this.hash.substring(1)+'"]').offset().top-b.margin},500,function(){});});}});};})(jQuery);(function(b){var c=b(window);var a=window.location.hash;b.fn.floatingNav=function(e){var h={margin:90,margin_bottom:35,page_width:960,scroll_speed:500,content:"",ul_class:"nav-page",section_anchor:"a[data-toc]",section_anchor_attr:"data-toc",class_active:"active",footer:"#pageftr",alternate_bottom_div:"#banner-ftr",link_selector:"a.scroll",ignored_sections:""};var j=b(this);var d=c.scrollTop();var g=b.extend(h,e);function i(k,m,l){if(l){l.preventDefault();l.stopPropagation();}j.addClass("scrolling");b("html,body").stop().animate({scrollTop:m.topPosition},500,function(){j.removeClass("scrolling");window.location.hash="#"+m.id;f(k);});}function f(k){if(!j.hasClass("scrolling")){var n=_.filter(k,function(o){return o.topPosition<=d&&o.bottomPosition>=d;})[0];if(n){var m=n.$link.closest("li");if(m.parents("li").hasClass("active")){j.addClass("no-hidding");}else{j.removeClass("no-hidding");}var l=j.find("li."+g.class_active);l.removeClass(g.class_active);m.addClass(g.class_active).parents("li").addClass(g.class_active);}else{var l=j.find("li."+g.class_active);l.removeClass(g.class_active);}}}return this.each(function(){var m=[];var l=function(){m=[];var o=j.find(g.link_selector);o.each(function(w){var v={};var z=g.content.find(b(this).attr("href"));var x=z.offset().top;var t=g.content.find(o.eq(w+1).attr("href"));var s=0;if(t.offset()){s=t.offset().top-1;}else{s=g.content.height()+g.content.offset().top;var u=s-x;var p=b(window).height();var A=g.content.find(".final-section-spacing").height();if(u+A+b("body > footer").innerHeight()<p){if(!g.content.find(".final-section-spacing").length){g.content.append('<div class="final-section-spacing"></div>');}var y=p-u-b("body > footer").innerHeight();g.content.find(".final-section-spacing").css("height",y+"px");}}var r=b("#floatTitleTop");if(r.length){var q=r.height()+20;if(a!="#"+z.attr(g.section_anchor_attr)){x=x-q;}var t=o.eq(w+1);if(a!=t.attr("href")){s=s-q;}}v.id=z.attr(g.section_anchor_attr);v.$element=z;v.$link=b(this);v.topPosition=x;v.bottomPosition=s;m.push(v);});};var k=function(){l();f(m);};b("body").on("click","ul."+g.ul_class+" a",function(q){l();var o=b(this).attr("href").substring(1);var p=_.findWhere(m,{id:o});i(m,p,q);});var n=function(){d=c.scrollTop();var r=b(g.footer).offset().top;var q=j.innerHeight();var t=g.content.offset().top;var u=(d>(t-g.margin));var s=(d<(r-(q+g.margin)));var o=(c.width()>=g.page_width);if(o){if(u&&s){j.css({position:"fixed",top:g.margin+"px"});k();}else{if(d>(r-(q+g.margin))){var p=r-d-q;k();j.css({position:"fixed",top:p+"px"});}else{j.css({position:"static"});}}}else{j.css({position:"static"});k();}};if(b("html.no-touch").length===1){n();c.scroll(n);c.resize(n);}else{k();c.scroll(k);}});};})(jQuery);(function(a){if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a);}else{a(jQuery);}}(function(f){var p="left",o="right",e="up",x="down",c="in",z="out",m="none",s="auto",l="swipe",t="pinch",A="tap",j="doubletap",b="longtap",y="hold",D="horizontal",u="vertical",i="all",r=10,g="start",k="move",h="end",q="cancel",a="ontouchstart" in window,v=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,d=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,B="TouchSwipe";var n={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};f.fn.swipe=function(G){var F=f(this),E=F.data(B);if(E&&typeof G==="string"){if(E[G]){return E[G].apply(this,Array.prototype.slice.call(arguments,1));}else{f.error("Method "+G+" does not exist on jQuery.swipe");}}else{if(!E&&(typeof G==="object"||!G)){return w.apply(this,arguments);}}return F;};f.fn.swipe.defaults=n;f.fn.swipe.phases={PHASE_START:g,PHASE_MOVE:k,PHASE_END:h,PHASE_CANCEL:q};f.fn.swipe.directions={LEFT:p,RIGHT:o,UP:e,DOWN:x,IN:c,OUT:z};f.fn.swipe.pageScroll={NONE:m,HORIZONTAL:D,VERTICAL:u,AUTO:s};f.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:i};function w(E){if(E&&(E.allowPageScroll===undefined&&(E.swipe!==undefined||E.swipeStatus!==undefined))){E.allowPageScroll=m;}if(E.click!==undefined&&E.tap===undefined){E.tap=E.click;}if(!E){E={};}E=f.extend({},f.fn.swipe.defaults,E);return this.each(function(){var G=f(this);var F=G.data(B);if(!F){F=new C(this,E);G.data(B,F);}});}function C(a4,av){var az=(a||d||!av.fallbackToMouseEvents),J=az?(d?(v?"MSPointerDown":"pointerdown"):"touchstart"):"mousedown",ay=az?(d?(v?"MSPointerMove":"pointermove"):"touchmove"):"mousemove",U=az?(d?(v?"MSPointerUp":"pointerup"):"touchend"):"mouseup",S=az?null:"mouseleave",aD=(d?(v?"MSPointerCancel":"pointercancel"):"touchcancel");var ag=0,aP=null,ab=0,a1=0,aZ=0,G=1,aq=0,aJ=0,M=null;var aR=f(a4);var Z="start";var W=0;var aQ=null;var T=0,a2=0,a5=0,ad=0,N=0;var aW=null,af=null;try{aR.bind(J,aN);aR.bind(aD,a9);}catch(ak){f.error("events not supported "+J+","+aD+" on jQuery.swipe");}this.enable=function(){aR.bind(J,aN);aR.bind(aD,a9);return aR;};this.disable=function(){aK();return aR;};this.destroy=function(){aK();aR.data(B,null);return aR;};this.option=function(bc,bb){if(av[bc]!==undefined){if(bb===undefined){return av[bc];}else{av[bc]=bb;}}else{f.error("Option "+bc+" does not exist on jQuery.swipe.options");}return null;};function aN(bd){if(aB()){return;}if(f(bd.target).closest(av.excludedElements,aR).length>0){return;}var be=bd.originalEvent?bd.originalEvent:bd;var bc,bb=a?be.touches[0]:be;Z=g;if(a){W=be.touches.length;}else{bd.preventDefault();}ag=0;aP=null;aJ=null;ab=0;a1=0;aZ=0;G=1;aq=0;aQ=aj();M=aa();R();if(!a||(W===av.fingers||av.fingers===i)||aX()){ai(0,bb);T=at();if(W==2){ai(1,be.touches[1]);a1=aZ=au(aQ[0].start,aQ[1].start);}if(av.swipeStatus||av.pinchStatus){bc=O(be,Z);}}else{bc=false;}if(bc===false){Z=q;O(be,Z);return bc;}else{if(av.hold){af=setTimeout(f.proxy(function(){aR.trigger("hold",[be.target]);if(av.hold){bc=av.hold.call(aR,be,be.target);}},this),av.longTapThreshold);}ao(true);}return null;}function a3(be){var bh=be.originalEvent?be.originalEvent:be;if(Z===h||Z===q||am()){return;}var bd,bc=a?bh.touches[0]:bh;var bf=aH(bc);a2=at();if(a){W=bh.touches.length;}if(av.hold){clearTimeout(af);}Z=k;if(W==2){if(a1==0){ai(1,bh.touches[1]);a1=aZ=au(aQ[0].start,aQ[1].start);}else{aH(bh.touches[1]);aZ=au(aQ[0].end,aQ[1].end);aJ=ar(aQ[0].end,aQ[1].end);}G=a7(a1,aZ);aq=Math.abs(a1-aZ);}if((W===av.fingers||av.fingers===i)||!a||aX()){aP=aL(bf.start,bf.end);al(be,aP);ag=aS(bf.start,bf.end);ab=aM();aI(aP,ag);if(av.swipeStatus||av.pinchStatus){bd=O(bh,Z);}if(!av.triggerOnTouchEnd||av.triggerOnTouchLeave){var bb=true;if(av.triggerOnTouchLeave){var bg=aY(this);bb=E(bf.end,bg);}if(!av.triggerOnTouchEnd&&bb){Z=aC(k);}else{if(av.triggerOnTouchLeave&&!bb){Z=aC(h);}}if(Z==q||Z==h){O(bh,Z);}}}else{Z=q;O(bh,Z);}if(bd===false){Z=q;O(bh,Z);}}function L(bb){var bc=bb.originalEvent;if(a){if(bc.touches.length>0){F();return true;}}if(am()){W=ad;}a2=at();ab=aM();if(ba()||!an()){Z=q;O(bc,Z);}else{if(av.triggerOnTouchEnd||(av.triggerOnTouchEnd==false&&Z===k)){bb.preventDefault();Z=h;O(bc,Z);}else{if(!av.triggerOnTouchEnd&&a6()){Z=h;aF(bc,Z,A);}else{if(Z===k){Z=q;O(bc,Z);}}}}ao(false);return null;}function a9(){W=0;a2=0;T=0;a1=0;aZ=0;G=1;R();ao(false);}function K(bb){var bc=bb.originalEvent;if(av.triggerOnTouchLeave){Z=aC(h);O(bc,Z);}}function aK(){aR.unbind(J,aN);aR.unbind(aD,a9);aR.unbind(ay,a3);aR.unbind(U,L);if(S){aR.unbind(S,K);}ao(false);}function aC(bf){var be=bf;var bd=aA();var bc=an();var bb=ba();if(!bd||bb){be=q;}else{if(bc&&bf==k&&(!av.triggerOnTouchEnd||av.triggerOnTouchLeave)){be=h;}else{if(!bc&&bf==h&&av.triggerOnTouchLeave){be=q;}}}return be;}function O(bd,bb){var bc=undefined;if(I()||V()){bc=aF(bd,bb,l);}else{if((P()||aX())&&bc!==false){bc=aF(bd,bb,t);}}if(aG()&&bc!==false){bc=aF(bd,bb,j);}else{if(ap()&&bc!==false){bc=aF(bd,bb,b);}else{if(ah()&&bc!==false){bc=aF(bd,bb,A);}}}if(bb===q){a9(bd);}if(bb===h){if(a){if(bd.touches.length==0){a9(bd);}}else{a9(bd);}}return bc;}function aF(be,bb,bd){var bc=undefined;if(bd==l){aR.trigger("swipeStatus",[bb,aP||null,ag||0,ab||0,W,aQ]);if(av.swipeStatus){bc=av.swipeStatus.call(aR,be,bb,aP||null,ag||0,ab||0,W,aQ);if(bc===false){return false;}}if(bb==h&&aV()){aR.trigger("swipe",[aP,ag,ab,W,aQ]);if(av.swipe){bc=av.swipe.call(aR,be,aP,ag,ab,W,aQ);if(bc===false){return false;}}switch(aP){case p:aR.trigger("swipeLeft",[aP,ag,ab,W,aQ]);if(av.swipeLeft){bc=av.swipeLeft.call(aR,be,aP,ag,ab,W,aQ);}break;case o:aR.trigger("swipeRight",[aP,ag,ab,W,aQ]);if(av.swipeRight){bc=av.swipeRight.call(aR,be,aP,ag,ab,W,aQ);}break;case e:aR.trigger("swipeUp",[aP,ag,ab,W,aQ]);if(av.swipeUp){bc=av.swipeUp.call(aR,be,aP,ag,ab,W,aQ);}break;case x:aR.trigger("swipeDown",[aP,ag,ab,W,aQ]);if(av.swipeDown){bc=av.swipeDown.call(aR,be,aP,ag,ab,W,aQ);}break;}}}if(bd==t){aR.trigger("pinchStatus",[bb,aJ||null,aq||0,ab||0,W,G,aQ]);if(av.pinchStatus){bc=av.pinchStatus.call(aR,be,bb,aJ||null,aq||0,ab||0,W,G,aQ);if(bc===false){return false;}}if(bb==h&&a8()){switch(aJ){case c:aR.trigger("pinchIn",[aJ||null,aq||0,ab||0,W,G,aQ]);if(av.pinchIn){bc=av.pinchIn.call(aR,be,aJ||null,aq||0,ab||0,W,G,aQ);}break;case z:aR.trigger("pinchOut",[aJ||null,aq||0,ab||0,W,G,aQ]);if(av.pinchOut){bc=av.pinchOut.call(aR,be,aJ||null,aq||0,ab||0,W,G,aQ);}break;}}}if(bd==A){if(bb===q||bb===h){clearTimeout(aW);clearTimeout(af);if(Y()&&!H()){N=at();aW=setTimeout(f.proxy(function(){N=null;aR.trigger("tap",[be.target]);if(av.tap){bc=av.tap.call(aR,be,be.target);}},this),av.doubleTapThreshold);}else{N=null;aR.trigger("tap",[be.target]);if(av.tap){bc=av.tap.call(aR,be,be.target);}}}}else{if(bd==j){if(bb===q||bb===h){clearTimeout(aW);N=null;aR.trigger("doubletap",[be.target]);if(av.doubleTap){bc=av.doubleTap.call(aR,be,be.target);}}}else{if(bd==b){if(bb===q||bb===h){clearTimeout(aW);N=null;aR.trigger("longtap",[be.target]);if(av.longTap){bc=av.longTap.call(aR,be,be.target);}}}}}return bc;}function an(){var bb=true;if(av.threshold!==null){bb=ag>=av.threshold;}return bb;}function ba(){var bb=false;if(av.cancelThreshold!==null&&aP!==null){bb=(aT(aP)-ag)>=av.cancelThreshold;}return bb;}function ae(){if(av.pinchThreshold!==null){return aq>=av.pinchThreshold;}return true;}function aA(){var bb;if(av.maxTimeThreshold){if(ab>=av.maxTimeThreshold){bb=false;}else{bb=true;}}else{bb=true;}return bb;}function al(bb,bc){if(av.allowPageScroll===m||aX()){bb.preventDefault();}else{var bd=av.allowPageScroll===s;switch(bc){case p:if((av.swipeLeft&&bd)||(!bd&&av.allowPageScroll!=D)){bb.preventDefault();}break;case o:if((av.swipeRight&&bd)||(!bd&&av.allowPageScroll!=D)){bb.preventDefault();}break;case e:if((av.swipeUp&&bd)||(!bd&&av.allowPageScroll!=u)){bb.preventDefault();}break;case x:if((av.swipeDown&&bd)||(!bd&&av.allowPageScroll!=u)){bb.preventDefault();}break;}}}function a8(){var bc=aO();var bb=X();var bd=ae();return bc&&bb&&bd;}function aX(){return !!(av.pinchStatus||av.pinchIn||av.pinchOut);}function P(){return !!(a8()&&aX());}function aV(){var be=aA();var bg=an();var bd=aO();var bb=X();var bc=ba();var bf=!bc&&bb&&bd&&bg&&be;return bf;}function V(){return !!(av.swipe||av.swipeStatus||av.swipeLeft||av.swipeRight||av.swipeUp||av.swipeDown);}function I(){return !!(aV()&&V());}function aO(){return((W===av.fingers||av.fingers===i)||!a);}function X(){return aQ[0].end.x!==0;}function a6(){return !!(av.tap);}function Y(){return !!(av.doubleTap);}function aU(){return !!(av.longTap);}function Q(){if(N==null){return false;}var bb=at();return(Y()&&((bb-N)<=av.doubleTapThreshold));}function H(){return Q();}function ax(){return((W===1||!a)&&(isNaN(ag)||ag<av.threshold));}function a0(){return((ab>av.longTapThreshold)&&(ag<r));}function ah(){return !!(ax()&&a6());}function aG(){return !!(Q()&&Y());}function ap(){return !!(a0()&&aU());}function F(){a5=at();ad=event.touches.length+1;}function R(){a5=0;ad=0;}function am(){var bb=false;if(a5){var bc=at()-a5;if(bc<=av.fingerReleaseThreshold){bb=true;}}return bb;}function aB(){return !!(aR.data(B+"_intouch")===true);}function ao(bb){if(bb===true){aR.bind(ay,a3);aR.bind(U,L);if(S){aR.bind(S,K);}}else{aR.unbind(ay,a3,false);aR.unbind(U,L,false);if(S){aR.unbind(S,K,false);}}aR.data(B+"_intouch",bb===true);}function ai(bc,bb){var bd=bb.identifier!==undefined?bb.identifier:0;aQ[bc].identifier=bd;aQ[bc].start.x=aQ[bc].end.x=bb.pageX||bb.clientX;aQ[bc].start.y=aQ[bc].end.y=bb.pageY||bb.clientY;return aQ[bc];}function aH(bb){var bd=bb.identifier!==undefined?bb.identifier:0;var bc=ac(bd);bc.end.x=bb.pageX||bb.clientX;bc.end.y=bb.pageY||bb.clientY;return bc;}function ac(bc){for(var bb=0;bb<aQ.length;bb++){if(aQ[bb].identifier==bc){return aQ[bb];}}}function aj(){var bb=[];for(var bc=0;bc<=5;bc++){bb.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});}return bb;}function aI(bb,bc){bc=Math.max(bc,aT(bb));M[bb].distance=bc;}function aT(bb){if(M[bb]){return M[bb].distance;}return undefined;}function aa(){var bb={};bb[p]=aw(p);bb[o]=aw(o);bb[e]=aw(e);bb[x]=aw(x);return bb;}function aw(bb){return{direction:bb,distance:0};}function aM(){return a2-T;}function au(be,bd){var bc=Math.abs(be.x-bd.x);var bb=Math.abs(be.y-bd.y);return Math.round(Math.sqrt(bc*bc+bb*bb));}function a7(bb,bc){var bd=(bc/bb)*1;return bd.toFixed(2);}function ar(){if(G<1){return z;}else{return c;}}function aS(bc,bb){return Math.round(Math.sqrt(Math.pow(bb.x-bc.x,2)+Math.pow(bb.y-bc.y,2)));}function aE(be,bc){var bb=be.x-bc.x;var bg=bc.y-be.y;var bd=Math.atan2(bg,bb);var bf=Math.round(bd*180/Math.PI);if(bf<0){bf=360-Math.abs(bf);}return bf;}function aL(bc,bb){var bd=aE(bc,bb);if((bd<=45)&&(bd>=0)){return p;}else{if((bd<=360)&&(bd>=315)){return p;}else{if((bd>=135)&&(bd<=225)){return o;}else{if((bd>45)&&(bd<135)){return x;}else{return e;}}}}}function at(){var bb=new Date();return bb.getTime();}function aY(bb){bb=f(bb);var bd=bb.offset();var bc={left:bd.left,right:bd.left+bb.outerWidth(),top:bd.top,bottom:bd.top+bb.outerHeight()};return bc;}function E(bb,bc){return(bb.x>bc.left&&bb.x<bc.right&&bb.y>bc.top&&bb.y<bc.bottom);}}}));(function(b){function a(d){d.find(".carousel-item").each(function(f,i){var h=b(i);var g=h.attr("data-doi");g=g.replace(/^info:doi\//,"");var e=b('.figure[data-doi="'+g+'"]');h.find("a").attr("href","#"+e.attr("id"));});}function c(d){var e=b(".articleinfo");if(e.length){d.detach();d.insertBefore(e);}d.show();}b.fn.buildFigureCarousel=function(e){var l={speed:500,access:false,autoplay:false,delay:10000,defaultpaddingbottom:10};e=b.extend(l,e);var h=b(this);a(h);c(h);var q=h.find(".carousel-wrapper"),t=q.find(".slider");function d(){return t.find(".carousel-item");}var f=d(),g=f.eq(0).outerWidth(),s=Math.ceil(q.innerWidth()/g),o=Math.ceil(f.length/s);var n=(s-(f.length%s))%s;for(var r=0;r<n;r++){t.append(b('<div class="empty carousel-item"/>'));}f=d();f.filter(":first").before(f.slice(-s).clone().addClass("clone"));f.filter(":last").after(f.slice(0,s).clone().addClass("clone"));f=d();q.scrollLeft(g*s);var p=0;function k(x){var i=x-p;if(i==0){return;}var w=g*s*i;q.filter(":not(:animated)").animate({scrollLeft:"+="+w},e.speed,function(){if(x<0){q.scrollLeft(g*s*o);p=o-1;}else{if(x>=o){q.scrollLeft(g*s);p=0;}else{p=x;}}var y=h.find(".carousel-page-buttons .index");y.removeClass("active");y.eq(p).addClass("active");});}var u=h.find(".carousel-control");if(o>1){u.find(".button.previous").click(function(){k(p-1);});u.find(".button.next").click(function(){k(p+1);});}else{u.hide();}if(b("html.touch").length){q.swipe({swipe:function(i,w){u.addClass("controls-show");},swipeLeft:function(i,w){k(p-1);},swipeRight:function(i,w){k(p+1);},tap:function(i,w){u.addClass("controls-show");},threshold:20});}else{}if(o>1){function v(i){var w=b('<span class="index">&nbsp;</span>');w.click(function(){k(i);});return w;}var m=h.find(".carousel-page-buttons");for(var r=0;r<o;r++){var j=v(r);if(r==0){j.addClass("active");}m.append(j);}}};})(jQuery);(function(j,d){if(j.fn.dotdotdot){return;}j.fn.dotdotdot=function(x){if(this.length==0){j.fn.dotdotdot.debug('No element found for "'+this.selector+'".');return this;}if(this.length>1){return this.each(function(){j(this).dotdotdot(x);});}var t=this;if(t.data("dotdotdot")){t.trigger("destroy.dot");}t.data("dotdotdot-style",t.attr("style")||"");t.css("word-wrap","break-word");if(t.css("white-space")==="nowrap"){t.css("white-space","normal");}t.bind_events=function(){t.bind("update.dot",function(A,C){A.preventDefault();A.stopPropagation();v.maxHeight=(typeof v.height=="number")?v.height:q(t);v.maxHeight+=v.tolerance;if(typeof C!="undefined"){if(typeof C=="string"||C instanceof HTMLElement){C=j("<div />").append(C).contents();}if(C instanceof j){y=C;}}u=t.wrapInner('<div class="dotdotdot" />').children();u.contents().detach().end().append(y.clone(true)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var B=false,z=false;if(s.afterElement){B=s.afterElement.clone(true);B.show();s.afterElement.detach();}if(m(u,v)){if(v.wrap=="children"){z=c(u,v,B);}else{z=o(u,t,u,v,B);}}u.replaceWith(u.contents());u=null;if(j.isFunction(v.callback)){v.callback.call(t[0],z,y);}s.isTruncated=z;return z;}).bind("isTruncated.dot",function(A,z){A.preventDefault();A.stopPropagation();if(typeof z=="function"){z.call(t[0],s.isTruncated);}return s.isTruncated;}).bind("originalContent.dot",function(A,z){A.preventDefault();A.stopPropagation();if(typeof z=="function"){z.call(t[0],y);}return y;}).bind("destroy.dot",function(z){z.preventDefault();z.stopPropagation();t.unwatch().unbind_events().contents().detach().end().append(y).attr("style",t.data("dotdotdot-style")||"").data("dotdotdot",false);});return t;};t.unbind_events=function(){t.unbind(".dot");return t;};t.watch=function(){t.unwatch();if(v.watch=="window"){var B=j(window),A=B.width(),z=B.height();B.bind("resize.dot"+s.dotId,function(){if(A!=B.width()||z!=B.height()||!v.windowResizeFix){A=B.width();z=B.height();if(r){clearInterval(r);}r=setTimeout(function(){t.trigger("update.dot");},100);}});}else{w=l(t);r=setInterval(function(){if(t.is(":visible")){var C=l(t);if(w.width!=C.width||w.height!=C.height){t.trigger("update.dot");w=C;}}},500);}return t;};t.unwatch=function(){j(window).unbind("resize.dot"+s.dotId);if(r){clearInterval(r);}return t;};var y=t.contents(),v=j.extend(true,{},j.fn.dotdotdot.defaults,x),s={},w={},r=null,u=null;if(!(v.lastCharacter.remove instanceof Array)){v.lastCharacter.remove=j.fn.dotdotdot.defaultArrays.lastCharacter.remove;}if(!(v.lastCharacter.noEllipsis instanceof Array)){v.lastCharacter.noEllipsis=j.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis;}s.afterElement=b(v.after,t);s.isTruncated=false;s.dotId=n++;t.data("dotdotdot",true).bind_events().trigger("update.dot");if(v.watch){t.watch();}return t;};j.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:true,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:false,windowResizeFix:true};j.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","\u3000",",",";",".","!","?"],noEllipsis:[]}};j.fn.dotdotdot.debug=function(r){};var n=1;function c(u,y,x){var w=u.children(),r=false;u.empty();for(var t=0,s=w.length;t<s;t++){var v=w.eq(t);u.append(v);if(x){u.append(x);}if(m(u,y)){v.remove();r=true;break;}else{if(x){x.detach();}}}return r;}function o(t,s,z,u,r){var w=false;var y="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style";var x="script, .dotdotdot-keep";var v=function(A){if(r){A[A.is(y)?"after":"append"](r);}};t.contents().detach().each(function(){var B=this,A=j(B);if(typeof B=="undefined"||(B.nodeType==3&&j.trim(B.data).length==0)){return true;}else{if(A.is(x)){t.append(A);}else{if(w){return true;}else{t.append(A);v(t);if(m(z,u)){if(B.nodeType==3){w=e(A,s,z,u,r);}else{w=o(A,s,z,u,r);}if(!w){v(j(t.contents().last()));w=true;}}if(!w){if(r){r.detach();}}}}}});return w;}function e(t,v,G,w,s){var D=t[0];if(!D){return false;}var z=i(D),r=(z.indexOf(" ")!==-1)?" ":"\u3000",B=(w.wrap=="letter")?"":r,E=z.split(B),A=-1,H=-1,C=0,u=E.length-1;if(w.fallbackToLetter&&C==0&&u==0){B="";E=z.split(B);u=E.length-1;}while(C<=u&&!(C==0&&u==0)){var x=Math.floor((C+u)/2);if(x==H){break;}H=x;a(D,E.slice(0,H+1).join(B)+w.ellipsis);if(!m(G,w)){A=H;C=H;}else{u=H;if(w.fallbackToLetter&&C==0&&u==0){B="";E=E[0].split(B);A=-1;H=-1;C=0;u=E.length-1;}}}if(A!=-1&&!(E.length==1&&E[0].length==0)){z=g(E.slice(0,A+1).join(B),w);a(D,z);}else{var y=t.parent();t.detach();var F=(s&&s.closest(y).length)?s.length:0;if(y.contents().length>F){D=f(y.contents().eq(-1-F),v);}else{D=f(y,v,true);if(!F){y.detach();}}if(D){z=g(i(D),w);a(D,z);if(F&&s){j(D).parent().append(s);}}}return true;}function m(s,r){return s.innerHeight()>r.maxHeight;}function g(r,s){while(j.inArray(r.slice(-1),s.lastCharacter.remove)>-1){r=r.slice(0,-1);}if(j.inArray(r.slice(-1),s.lastCharacter.noEllipsis)<0){r+=s.ellipsis;}return r;}function l(r){return{width:r.innerWidth(),height:r.innerHeight()};}function a(s,r){if(s.innerText){s.innerText=r;}else{if(s.nodeValue){s.nodeValue=r;}else{if(s.textContent){s.textContent=r;}}}}function i(r){if(r.innerText){return r.innerText;}else{if(r.nodeValue){return r.nodeValue;}else{if(r.textContent){return r.textContent;}else{return"";}}}}function k(r){do{r=r.previousSibling;}while(r&&r.nodeType!==1&&r.nodeType!==3);return r;}function f(s,v,r){var u=s&&s[0],t;if(u){if(!r){if(u.nodeType===3){return u;}if(j.trim(s.text())){return f(s.contents().last(),v);}}t=k(u);while(!t){s=s.parent();if(s.is(v)||!s.length){return false;}t=k(s[0]);}if(t){return f(j(t),v);}}return false;}function b(r,s){if(!r){return false;}if(typeof r==="string"){r=j(r,s);return(r.length)?r:false;}return !r.jquery?false:r;}function q(u){var v=u.innerHeight(),t=["paddingTop","paddingBottom"];for(var w=0,s=t.length;w<s;w++){var r=parseInt(u.css(t[w]),10);if(isNaN(r)){r=0;}v-=r;}return v;}var p=j.fn.html;j.fn.html=function(r){if(r!=d&&!j.isFunction(r)&&this.data("dotdotdot")){return this.trigger("update",[r]);}return p.apply(this,arguments);};var h=j.fn.text;j.fn.text=function(r){if(r!=d&&!j.isFunction(r)&&this.data("dotdotdot")){r=j("<div />").text(r).html();return this.trigger("update",[r]);}return h.apply(this,arguments);};})(jQuery);(function(a){var b=(function(){var h,i,e,c,g,f,d;h=a("#twitter-share-link").attr("href");i=h.split("&");e=i[1].substring(5);c=e.length;if(c>115){g="&text="+e.substring(0,115)+" ...";f=g.replace(/;/g,"%3B");d=i[0]+f;return a("#twitter-share-link").attr("href",d);}})();})(jQuery);(function(b){b(document).foundation({tooltip:{wrap:"word",tip_template:function(c,d){return'<span data-selector="'+c+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'">'+d+"</span>";}},reveal:{animation:false}});var a=function(){if(!Modernizr.input.required){b("form[name='searchForm']").submit(function(){var c=b("#search").val();if(!c){return false;}});}};b(document).ready(function(){var c=a();hover_delay.init();placeholder_style.init();tooltip_hover.init();});})(jQuery);(function(a){show_onscroll=function(d,b,e){var c=a(window).scrollTop();if(c>e){a(d).addClass(b);}else{if(c<e){a(d).removeClass(b);}}};})(jQuery);(function(a,b){if(typeof exports=="object"){module.exports=b();}else{if(typeof define=="function"&&define.amd){define(b);}else{a.Spinner=b();}}}(this,function(){var e=["webkit","Moz","ms","O"],p={},o;function g(q,t){var r=document.createElement(q||"div"),s;for(s in t){r[s]=t[s];}return r;}function h(r){for(var q=1,s=arguments.length;q<s;q++){r.appendChild(arguments[q]);}return r;}var i=(function(){var q=g("style",{type:"text/css"});h(document.getElementsByTagName("head")[0],q);return q.sheet||q.styleSheet;}());function c(u,q,v,y){var r=["opacity",q,~~(u*100),v,y].join("-"),s=0.01+v/y*100,x=Math.max(1-(1-u)/q*(100-s),u),w=o.substring(0,o.indexOf("Animation")).toLowerCase(),t=w&&"-"+w+"-"||"";if(!p[r]){i.insertRule("@"+t+"keyframes "+r+"{0%{opacity:"+x+"}"+s+"%{opacity:"+u+"}"+(s+0.01)+"%{opacity:1}"+(s+q)%100+"%{opacity:"+u+"}100%{opacity:"+x+"}}",i.cssRules.length);p[r]=1;}return r;}function m(u,v){var t=u.style,q,r;v=v.charAt(0).toUpperCase()+v.slice(1);for(r=0;r<e.length;r++){q=e[r]+v;if(t[q]!==undefined){return q;}}if(t[v]!==undefined){return v;}}function f(q,s){for(var r in s){q.style[m(q,r)||r]=s[r];}return q;}function k(s){for(var q=1;q<arguments.length;q++){var r=arguments[q];for(var t in r){if(s[t]===undefined){s[t]=r[t];}}}return s;}function j(q){var r={x:q.offsetLeft,y:q.offsetTop};while((q=q.offsetParent)){r.x+=q.offsetLeft,r.y+=q.offsetTop;}return r;}function n(r,q){return typeof r=="string"?r:r[q%r.length];}var d={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:1/4,fps:20,zIndex:2000000000,className:"spinner",top:"50%",left:"50%",position:"absolute"};function b(q){this.opts=k(q||{},b.defaults,d);}b.defaults={};k(b.prototype,{spin:function(z){this.stop();var C=this,r=C.opts,s=C.el=f(g(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex}),B=r.radius+r.length+r.width;f(s,{left:r.left,top:r.top});if(z){z.insertBefore(s,z.firstChild||null);}s.setAttribute("role","progressbar");C.lines(s,C.opts);if(!o){var w=0,q=(r.lines-1)*(1-r.direction)/2,v,t=r.fps,y=t/r.speed,x=(1-r.opacity)/(y*r.trail/100),A=y/r.lines;(function u(){w++;for(var D=0;D<r.lines;D++){v=Math.max(1-(w+(r.lines-D)*A)%y*x,r.opacity);C.opacity(s,D*r.direction+q,v,r);}C.timeout=C.el&&setTimeout(u,~~(1000/t));})();}return C;},stop:function(){var q=this.el;if(q){clearTimeout(this.timeout);if(q.parentNode){q.parentNode.removeChild(q);}this.el=undefined;}return this;},lines:function(s,u){var r=0,v=(u.lines-1)*(1-u.direction)/2,q;function t(w,x){return f(g(),{position:"absolute",width:(u.length+u.width)+"px",height:u.width+"px",background:w,boxShadow:x,transformOrigin:"left",transform:"rotate("+~~(360/u.lines*r+u.rotate)+"deg) translate("+u.radius+"px,0)",borderRadius:(u.corners*u.width>>1)+"px"});}for(;r<u.lines;r++){q=f(g(),{position:"absolute",top:1+~(u.width/2)+"px",transform:u.hwaccel?"translate3d(0,0,0)":"",opacity:u.opacity,animation:o&&c(u.opacity,u.trail,v+r*u.direction,u.lines)+" "+1/u.speed+"s linear infinite"});if(u.shadow){h(q,f(t("#000","0 0 4px #000"),{top:2+"px"}));}h(s,h(q,t(n(u.color,r),"0 0 1px rgba(0,0,0,.1)")));}return s;},opacity:function(r,q,s){if(q<r.childNodes.length){r.childNodes[q].style.opacity=s;}}});function l(){function q(s,r){return g("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',r);}i.addRule(".spin-vml","behavior:url(#default#VML)");b.prototype.lines=function(v,u){var t=u.length+u.width,B=2*t;function A(){return f(q("group",{coordsize:B+" "+B,coordorigin:-t+" "+-t}),{width:B,height:B});}var w=-(u.width+u.length)*2+"px",z=f(A(),{position:"absolute",top:w,left:w}),y;function x(s,r,C){h(z,h(f(A(),{rotation:360/u.lines*s+"deg",left:~~r}),h(f(q("roundrect",{arcsize:u.corners}),{width:t,height:u.width,left:u.radius,top:-u.width>>1,filter:C}),q("fill",{color:n(u.color,s),opacity:u.opacity}),q("stroke",{opacity:0}))));}if(u.shadow){for(y=1;y<=u.lines;y++){x(y,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");}}for(y=1;y<=u.lines;y++){x(y);}return h(v,z);};b.prototype.opacity=function(s,r,u,t){var v=s.firstChild;t=t.shadow&&t.lines||0;if(v&&r+t<v.childNodes.length){v=v.childNodes[r+t];v=v&&v.firstChild;v=v&&v.firstChild;if(v){v.opacity=u;}}};}var a=f(g("group"),{behavior:"url(#default#VML)"});if(!m(a,"transform")&&a.adj){l();}else{o=m(a,"animation");}return b;}));(function(g){var e,b,d,a,f,c;b={settings:{floater:g("#floatTitleTop"),hidden_div:"topVisible",scroll_trigger:420,width_trigger:960,div_exists:1},init:function(){e=this.settings;this.scroll_it();this.close_floater();this.get_width();this.check_positions();},check_div:function(){e.div_exists=e.floater.length;return e.div_exists;},check_positions:function(){var h=g(window).scrollTop();var i=g(window).width();if(h>e.scroll_trigger&&i>e.width_trigger){return e.floater.addClass(e.hidden_div);}},scroll_it:function(){if(this.check_div()>0){return g(window).on("scroll",function(){var h=g(window).width();if(h>e.width_trigger){show_onscroll(e.floater,e.hidden_div,e.scroll_trigger);}});}},get_width:function(){if(this.check_div()>0){g(window).resize(function(){var i=g(window).width();var h=g(window).scrollTop();if(i<960){g(e.floater).removeClass(e.hidden_div);}else{if(h>e.scroll_trigger&&i>e.width_trigger){g(e.floater).addClass(e.hidden_div);}}});}},close_floater:function(){e.floater.find(".logo-close").on("click",function(){e.floater.remove();});}};g(document).ready(function(){g(".preventDefault").on("click",function(j){j.preventDefault();});d=document.getElementById("floatAuthorList");if(d!=null){truncate_elem.remove_overflowed("#floatAuthorList");tooltip_component.init();}b.init();if(g.fn.signposts){var h=g("meta[name=citation_doi]").attr("content");var i=new g.fn.signposts();i.getSignpostData(h);}toggle_component.init();f={width:1,zIndex:5000,top:"40%",left:"50%"};a=document.getElementById("loadingMetrics");c=new Spinner(f).spin(a);g(".lightbox-figure").on("click",function(){FigureLightbox.loadImage("#figure-lightbox-container",g(this).data("doi"));});g("#artText div.img-box").on("click",function(j){j.preventDefault();FigureLightbox.loadImage("#figure-lightbox-container",g(this).find("a").data("uri"));});g("#nav-figures a").on("click",function(){FigureLightbox.loadImage("#figure-lightbox-container",g(".figure").eq(0).data("doi"));});});}(jQuery));(function(d){var c,a,b;c=(function(){var e,f;d("#subjectList li").each(function(){var j=d(".taxo-flag").outerWidth(true);var g=d(this).width()-j;var l=5*2;var o=(g-l);var n=d(this).find(".taxo-term");var h=d(n).next();var m=d(n).width();if(m>o){var k=d(n).css("width",g+"px");}e=d(h).next().data("categoryname");f=localStorage[e];if(f!==undefined){var i=d(h).addClass("flagged");}return{term_flagged:i,term_truncate:k};});})();a=function(){var f,e;f=this;e=d(f).next();d(e).addClass("activate");if(d(e).parent().siblings().children("div").hasClass("activate")){d(e).parent().siblings().children("div").removeClass("activate");window.clearTimeout(closeIt);}d(document).on("click.closeOutside",function(g){if(d(g.target).closest(".taxo-flag").length!==1&&d(g.target).closest(".taxo-tooltip").length!==1){d(e).removeClass("activate");d(document).off("click.closeOutside");}});};d(".taxo-flag").on("click",a);b=(function(){d(".taxo-tooltip button").on("click",function(){var i,j,h,g,l,e,f;e=this;g=d(e).parent().parent();j=d(g).data("categoryname");i=d(g).prev();f=d("meta[name='dc.identifier']").attr("content");h=d(e).data("action");d.ajax({type:"POST",url:siteUrlPrefix+"taxonomy/flag/"+h,data:{categoryTerm:j,articleDoi:f},error:function(m){d("#subjectErrors").append(m);},success:function(){h==="remove"?d(i).removeClass("flagged"):d(i).addClass("flagged");}});h==="add"?localStorage.setItem(j,f):localStorage.removeItem(j,f);d(e).parent().toggle().next().toggle();l=window.setTimeout(function(){d(g).removeClass("activate");d(g).children(".taxo-explain").toggle();d(g).children(".taxo-confirm").toggle();d(".taxo-flag").on("click",b);},1000);var k=l;});})();})(jQuery);(function(a){referenceValidation=Class.extend({init:function(){this.getJSON();},getJSON:function(){that=this;a(".references li").on("click","ul.reflinks li:first-child a",function(b){var h=a(this).attr("data-author");var d=a(this).attr("data-title");var c=a(this).attr("data-cit");var e="doi-provided";if(c!==e){var i=a(this);var j=(h?"query.author="+h+"&":"")+"query.title="+d;var k="https://api.crossref.org/works?query="+j+"&sort=score&rows=1";var g="https://doi.org/";var f="https://search.crossref.org/?q="+c;var l=null;b.preventDefault();a.ajax({url:k,beforeSend:(function(){i.addClass("link-disabled");})}).success(function(n){var m=n.message.items[0].DOI;l=g+m;if(d&&n.message.items[0].title){var o=n.message.items[0].title[0];if(o.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")!=decodeURIComponent(d).toLowerCase().replace(/[^a-zA-Z0-9]/g,"")){console.log("mismatch in title "+o+" != "+decodeURIComponent(d)+"\n, using search query");l=f;}}}).error(function(){l=f;}).done(function(){window.open(l,"_new");i.removeClass("link-disabled");});}});},});this.articleReferences=new referenceValidation();})(jQuery);function tableOpen(l,d,o){try{var v=o.find(".table"),u=o.find(".table-caption"),n=o.find(".table-footnote");if(d=="HTML"){var k=window.open();k.document.open();k.document.writeln("<html><head><title>"+u.text()+'</title><link rel="stylesheet" type="text/css" href="resource/css/screen.css"><link rel="shortcut icon" href="resource/img/favicon.ico" type="image/x-icon"></head>');k.document.writeln('<body style="background-color: #ffffff;">');k.document.writeln('<div class="table-wrap">'+v.html()+'<div class="table-caption">'+u.html()+'</div><div class="table-footnote">'+n.html()+"</div>");k.document.writeln("</body></html>");k.document.close();}else{if(d=="CSV"){var x,r,g,c,j,a,q,f,y,p,i,m,h;function b(e){x=e.join("");if(e.length>0&&x!=""){var w=e.join(",");g[g.length]=w;}}g=[];r=[];c=v.find("th");c.each(function(){r[r.length]=this.textContent;});b(r);j=v.find("tbody").children("tr");a=[];j.each(function(){q=this.cells.length;f=this.cells;for(var e=0;e<q;e++){a[e]=f[e].textContent;}b(a);});y=g.join("\n");p=l+".csv";i=document.createElement("a");if(window.navigator.msSaveOrOpenBlob){m=new Blob([y]);window.navigator.msSaveOrOpenBlob(m,p);}else{if(i.download!==undefined){m=new Blob([y],{type:"text/csv;charset=utf-8;"});h=URL.createObjectURL(m);i.setAttribute("href",h);i.setAttribute("download",p);document.body.appendChild(i);i.click();document.body.removeChild(i);}else{var k=window.open();k.document.open();k.document.write(y);k.document.close();}}}}}catch(t){var s="Our system is having a bad day. We are working on it. Please check back later.";}return false;}if(window.figshare){window.figshare.load(window.WombatConfig.figShareInstitutionString,function(j){var c=document.querySelectorAll(".figshare_widget");var a=[];for(var e=0,b=c.length;e<b;e+=1){var g=c[e].getAttribute("doi");var h=g.split(".")[2];var d={pbio:"green",pcbi:"green",pgen:"green",pmed:"purple",ppat:"purple",pntd:"purple",pone:"yellow"}[h]||"yellow";var f=new j({version:"3",theme:d,mathJax:true,width:650,height:450,breakPoint:300,showStats:false,showPageInfo:true,showShareButton:false,showFileDetails:true,collection:null,item:{doi:g}});f.initialize();f.mount(c[e]);a.push(f);}window.loadedWidgets=a;});}!function(d,c){"function"==typeof define&&define.amd?define(["jquery"],function(a){return c(d,a);}):"object"==typeof exports?c(d,require("jquery")):c(d,d.jQuery);}("undefined"!=typeof window?window:this,function(R,Q){function P(e,d){for(var f=e.length;--f;){if(+e[f]!==+d[f]){return !1;}}return !0;}function O(b){var d={range:!0,animate:!0};return"boolean"==typeof b?d.animate=b:Q.extend(d,b),d;}function N(r,q,p,o,n,m,l,k,b){"array"===Q.type(r)?this.elements=[+r[0],+r[2],+r[4],+r[1],+r[3],+r[5],0,0,1]:this.elements=[r,q,p,o,n,m,l||0,k||0,b||1];}function M(e,d,f){this.elements=[e,d,f];}function L(b,l){if(!(this instanceof L)){return new L(b,l);}1!==b.nodeType&&Q.error("Panzoom called on non-Element node"),Q.contains(G,b)||Q.error("Panzoom element must be attached to the document");var k=Q.data(b,F);if(k){return k;}this.options=l=Q.extend({},L.defaults,l),this.elem=b;var j=this.$elem=Q(b);this.$set=l.$set&&l.$set.length?l.$set:j,this.$doc=Q(b.ownerDocument||G),this.$parent=j.parent(),this.isSVG=A.test(b.namespaceURI)&&"svg"!==b.nodeName.toLowerCase(),this.panning=!1,this._buildTransform(),this._transform=!this.isSVG&&Q.cssProps.transform.replace(B,"-$1").toLowerCase(),this._buildTransition(),this.resetDimensions();var i=Q(),g=this;Q.each(["$zoomIn","$zoomOut","$zoomRange","$reset"],function(d,c){g[c]=l[c]||i;}),this.enable(),Q.data(b,F,this);}var K="over out down up move enter leave cancel".split(" "),J=Q.extend({},Q.event.mouseHooks),I={};if(R.PointerEvent){Q.each(K,function(b,d){Q.event.fixHooks[I[d]="pointer"+d]=J;});}else{var H=J.props;J.props=H.concat(["touches","changedTouches","targetTouches","altKey","ctrlKey","metaKey","shiftKey"]),J.filter=function(f,e){var h,g=H.length;if(!e.pageX&&e.touches&&(h=e.touches[0])){for(;g--;){f[H[g]]=h[H[g]];}}return f;},Q.each(K,function(b,f){if(2>b){I[f]="mouse"+f;}else{var e="touch"+("down"===f?"start":"up"===f?"end":f);Q.event.fixHooks[e]=J,I[f]=e+" mouse"+f;}});}Q.pointertouch=I;var G=R.document,F="__pz__",E=Array.prototype.slice,D=!!R.PointerEvent,C=function(){var b=G.createElement("input");return b.setAttribute("oninput","return"),"function"==typeof b.oninput;}(),B=/([A-Z])/g,A=/^http:[\w\.\/]+svg$/,z=/^inline/,y="(\\-?[\\d\\.e]+)",x="\\,?\\s*",w=new RegExp("^matrix\\("+y+x+y+x+y+x+y+x+y+x+y+"\\)$");return N.prototype={x:function(f){var e=f instanceof M,h=this.elements,g=f.elements;return e&&3===g.length?new M(h[0]*g[0]+h[1]*g[1]+h[2]*g[2],h[3]*g[0]+h[4]*g[1]+h[5]*g[2],h[6]*g[0]+h[7]*g[1]+h[8]*g[2]):g.length===h.length?new N(h[0]*g[0]+h[1]*g[3]+h[2]*g[6],h[0]*g[1]+h[1]*g[4]+h[2]*g[7],h[0]*g[2]+h[1]*g[5]+h[2]*g[8],h[3]*g[0]+h[4]*g[3]+h[5]*g[6],h[3]*g[1]+h[4]*g[4]+h[5]*g[7],h[3]*g[2]+h[4]*g[5]+h[5]*g[8],h[6]*g[0]+h[7]*g[3]+h[8]*g[6],h[6]*g[1]+h[7]*g[4]+h[8]*g[7],h[6]*g[2]+h[7]*g[5]+h[8]*g[8]):!1;},inverse:function(){var d=1/this.determinant(),c=this.elements;return new N(d*(c[8]*c[4]-c[7]*c[5]),d*-(c[8]*c[1]-c[7]*c[2]),d*(c[5]*c[1]-c[4]*c[2]),d*-(c[8]*c[3]-c[6]*c[5]),d*(c[8]*c[0]-c[6]*c[2]),d*-(c[5]*c[0]-c[3]*c[2]),d*(c[7]*c[3]-c[6]*c[4]),d*-(c[7]*c[0]-c[6]*c[1]),d*(c[4]*c[0]-c[3]*c[1]));},determinant:function(){var b=this.elements;return b[0]*(b[8]*b[4]-b[7]*b[5])-b[3]*(b[8]*b[1]-b[7]*b[2])+b[6]*(b[5]*b[1]-b[4]*b[2]);}},M.prototype.e=N.prototype.e=function(b){return this.elements[b];},L.rmatrix=w,L.events=Q.pointertouch,L.defaults={eventNamespace:".panzoom",transition:!0,cursor:"move",disablePan:!1,disableZoom:!1,increment:0.3,minScale:0.4,maxScale:5,rangeStep:0.05,duration:200,easing:"ease-in-out",contain:!1},L.prototype={constructor:L,instance:function(){return this;},enable:function(){this._initStyle(),this._bind(),this.disabled=!1;},disable:function(){this.disabled=!0,this._resetStyle(),this._unbind();},isDisabled:function(){return this.disabled;},destroy:function(){this.disable(),Q.removeData(this.elem,F);},resetDimensions:function(){var b=this.$parent;this.container={width:b.innerWidth(),height:b.innerHeight()};var j,i=b.offset(),h=this.elem,g=this.$elem;this.isSVG?(j=h.getBoundingClientRect(),j={left:j.left-i.left,top:j.top-i.top,width:j.width,height:j.height,margin:{left:0,top:0}}):j={left:Q.css(h,"left",!0)||0,top:Q.css(h,"top",!0)||0,width:g.innerWidth(),height:g.innerHeight(),margin:{top:Q.css(h,"marginTop",!0)||0,left:Q.css(h,"marginLeft",!0)||0}},j.widthBorder=Q.css(h,"borderLeftWidth",!0)+Q.css(h,"borderRightWidth",!0)||0,j.heightBorder=Q.css(h,"borderTopWidth",!0)+Q.css(h,"borderBottomWidth",!0)||0,this.dimensions=j;},reset:function(d){d=O(d);var c=this.setMatrix(this._origTransform,d);d.silent||this._trigger("reset",c);},resetZoom:function(d){d=O(d);var c=this.getMatrix(this._origTransform);d.dValue=c[3],this.zoom(c[0],d);},resetPan:function(d){var c=this.getMatrix(this._origTransform);this.pan(c[4],c[5],O(d));},setTransform:function(b){for(var h=this.isSVG?"attr":"style",g=this.$set,f=g.length;f--;){Q[h](g[f],"transform",b);}},getTransform:function(b){var f=this.$set,e=f[0];return b?this.setTransform(b):b=Q[this.isSVG?"attr":"style"](e,"transform"),"none"===b||w.test(b)||this.setTransform(b=Q.css(e,"transform")),b||"none";},getMatrix:function(d){var c=w.exec(d||this.getTransform());return c&&c.shift(),c||[1,0,0,1,0,0];},setMatrix:function(Z,Y){if(!this.disabled){Y||(Y={}),"string"==typeof Z&&(Z=this.getMatrix(Z));var X,W,V,U,T,S,v,u,t,s,r=+Z[0],q=this.$parent,b="undefined"!=typeof Y.contain?Y.contain:this.options.contain;return b&&(X=this._checkDims(),W=this.container,t=X.width+X.widthBorder,s=X.height+X.heightBorder,V=t*Math.abs(r)>W.width?(t*Math.abs(r)-W.width)/2:0,U=s*Math.abs(r)>W.height?(s*Math.abs(r)-W.height)/2:0,v=X.left+X.margin.left,u=X.top+X.margin.top,"invert"===b?(T=t>W.width?t-W.width:0,S=s>W.height?s-W.height:0,V+=(W.width-t)/2,U+=(W.height-s)/2,Z[4]=Math.max(Math.min(Z[4],V-v),-V-v-T),Z[5]=Math.max(Math.min(Z[5],U-u),-U-u-S+X.heightBorder)):(U+=X.heightBorder/2,T=W.width>t?W.width-t:0,S=W.height>s?W.height-s:0,"center"===q.css("textAlign")&&z.test(Q.css(this.elem,"display"))?T=0:V=U=0,Z[4]=Math.min(Math.max(Z[4],V-v),-V-v+T),Z[5]=Math.min(Math.max(Z[5],U-u),-U-u+S))),"skip"!==Y.animate&&this.transition(!Y.animate),Y.range&&this.$zoomRange.val(r),this.setTransform("matrix("+Z.join(",")+")"),Y.silent||this._trigger("change",Z),Z;}},isPanning:function(){return this.panning;},transition:function(b){if(this._transition){for(var h=b||!this.options.transition?"none":this._transition,g=this.$set,f=g.length;f--;){Q.style(g[f],"transition")!==h&&Q.style(g[f],"transition",h);}}},pan:function(f,e,h){if(!this.options.disablePan){h||(h={});var g=h.matrix;g||(g=this.getMatrix()),h.relative&&(f+=+g[4],e+=+g[5]),g[4]=f,g[5]=e,this.setMatrix(g,h),h.silent||this._trigger("pan",g[4],g[5]);}},zoom:function(Z,Y){"object"==typeof Z?(Y=Z,Z=null):Y||(Y={});var X=Q.extend({},this.options,Y);if(!X.disableZoom){var W=!1,V=X.matrix||this.getMatrix();"number"!=typeof Z&&(Z=+V[0]+X.increment*(Z?-1:1),W=!0),Z>X.maxScale?Z=X.maxScale:Z<X.minScale&&(Z=X.minScale);var U=X.focal;if(U&&!X.disablePan){var T=this._checkDims(),S=U.clientX,v=U.clientY;this.isSVG||(S-=(T.width+T.widthBorder)/2,v-=(T.height+T.heightBorder)/2);var u=new M(S,v,1),t=new N(V),s=this.parentOffset||this.$parent.offset(),f=new N(1,0,s.left-this.$doc.scrollLeft(),0,1,s.top-this.$doc.scrollTop()),e=t.inverse().x(f.inverse().x(u)),b=Z/V[0];t=t.x(new N([b,0,0,b,0,0])),u=f.x(t.x(e)),V[4]=+V[4]+(S-u.e(0)),V[5]=+V[5]+(v-u.e(1));}V[0]=Z,V[3]="number"==typeof X.dValue?X.dValue:Z,this.setMatrix(V,{animate:"boolean"==typeof X.animate?X.animate:W,range:!X.noSetRange}),X.silent||this._trigger("zoom",V[0],X);}},option:function(b,f){var e;if(!b){return Q.extend({},this.options);}if("string"==typeof b){if(1===arguments.length){return void 0!==this.options[b]?this.options[b]:null;}e={},e[b]=f;}else{e=b;}this._setOptions(e);},_setOptions:function(b){Q.each(b,Q.proxy(function(d,e){switch(d){case"disablePan":this._resetStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._unbind();}switch(this.options[d]=e,d){case"disablePan":this._initStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":this[d]=e;case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._bind();break;case"cursor":Q.style(this.elem,"cursor",e);break;case"minScale":this.$zoomRange.attr("min",e);break;case"maxScale":this.$zoomRange.attr("max",e);break;case"rangeStep":this.$zoomRange.attr("step",e);break;case"startTransform":this._buildTransform();break;case"duration":case"easing":this._buildTransition();case"transition":this.transition();break;case"$set":e instanceof Q&&e.length&&(this.$set=e,this._initStyle(),this._buildTransform());}},this));},_initStyle:function(){var b={"backface-visibility":"hidden","transform-origin":this.isSVG?"0 0":"50% 50%"};this.options.disablePan||(b.cursor=this.options.cursor),this.$set.css(b);var d=this.$parent;d.length&&!Q.nodeName(d[0],"body")&&(b={overflow:"hidden"},"static"===d.css("position")&&(b.position="relative"),d.css(b));},_resetStyle:function(){this.$elem.css({cursor:"",transition:""}),this.$parent.css({overflow:"",position:""});},_bind:function(){var t=this,s=this.options,r=s.eventNamespace,q=D?"pointerdown"+r:"touchstart"+r+" mousedown"+r,p=D?"pointerup"+r:"touchend"+r+" click"+r,o={},n=this.$reset,m=this.$zoomRange;if(Q.each(["Start","Change","Zoom","Pan","End","Reset"],function(){var c=s["on"+this];Q.isFunction(c)&&(o["panzoom"+this.toLowerCase()+r]=c);}),s.disablePan&&s.disableZoom||(o[q]=function(a){var c;("touchstart"===a.type?!(c=a.touches)||(1!==c.length||s.disablePan)&&2!==c.length:s.disablePan||1!==a.which)||(a.preventDefault(),a.stopPropagation(),t._startMove(a,c));}),this.$elem.on(o),n.length&&n.on(p,function(a){a.preventDefault(),t.reset();}),m.length&&m.attr({step:s.rangeStep===L.defaults.rangeStep&&m.attr("step")||s.rangeStep,min:s.minScale,max:s.maxScale}).prop({value:this.getMatrix()[0]}),!s.disableZoom){var g=this.$zoomIn,b=this.$zoomOut;g.length&&b.length&&(g.on(p,function(a){a.preventDefault(),t.zoom();}),b.on(p,function(a){a.preventDefault(),t.zoom(!0);})),m.length&&(o={},o[(D?"pointerdown":"mousedown")+r]=function(){t.transition(!0);},o[(C?"input":"change")+r]=function(){t.zoom(+this.value,{noSetRange:!0});},m.on(o));}},_unbind:function(){this.$elem.add(this.$zoomIn).add(this.$zoomOut).add(this.$reset).off(this.options.eventNamespace);},_buildTransform:function(){return this._origTransform=this.getTransform(this.options.startTransform);},_buildTransition:function(){if(this._transform){var b=this.options;this._transition=this._transform+" "+b.duration+"ms "+b.easing;}},_checkDims:function(){var b=this.dimensions;return b.width&&b.height||this.resetDimensions(),this.dimensions;},_getDistance:function(e){var d=e[0],f=e[1];return Math.sqrt(Math.pow(Math.abs(f.clientX-d.clientX),2)+Math.pow(Math.abs(f.clientY-d.clientY),2));},_getMiddle:function(e){var d=e[0],f=e[1];return{clientX:(f.clientX-d.clientX)/2+d.clientX,clientY:(f.clientY-d.clientY)/2+d.clientY};},_trigger:function(b){"string"==typeof b&&(b="panzoom"+b),this.$elem.triggerHandler(b,[this].concat(E.call(arguments,1)));},_startMove:function(af,ae){var ad,ac,ab,aa,Z,Y,X,W,V=this,U=this.options,T=U.eventNamespace,S=this.getMatrix(),o=S.slice(0),l=+o[4],c=+o[5],b={matrix:S,animate:"skip"};D?(ac="pointermove",ab="pointerup"):"touchstart"===af.type?(ac="touchmove",ab="touchend"):(ac="mousemove",ab="mouseup"),ac+=T,ab+=T,this.transition(!0),this.panning=!0,this._trigger("start",af,ae),ae&&2===ae.length?(aa=this._getDistance(ae),Z=+S[0],Y=this._getMiddle(ae),ad=function(e){e.preventDefault();var d=V._getMiddle(ae=e.touches),f=V._getDistance(ae)-aa;V.zoom(f*(U.increment/100)+Z,{focal:d,matrix:S,animate:!1}),V.pan(+S[4]+d.clientX-Y.clientX,+S[5]+d.clientY-Y.clientY,b),Y=d;}):(X=af.pageX,W=af.pageY,ad=function(d){d.preventDefault(),V.pan(l+d.pageX-X,c+d.pageY-W,b);}),Q(G).off(T).on(ac,ad).on(ab,function(d){d.preventDefault(),Q(this).off(T),V.panning=!1,d.type="panzoomend",V._trigger(d,S,!P(S,o));});}},Q.Panzoom=L,Q.fn.panzoom=function(b){var j,i,h,g;return"string"==typeof b?(g=[],i=E.call(arguments,1),this.each(function(){j=Q.data(this,F),j?"_"!==b.charAt(0)&&"function"==typeof(h=j[b])&&void 0!==(h=h.apply(j,i))&&g.push(h):g.push(void 0);}),g.length?1===g.length?g[0]:g:this):this.each(function(){new L(this,b);});},L;});
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a);}else{if(typeof exports==="object"){module.exports=a;}else{a(jQuery);}}}(function(c){var d=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],k=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice,j,b;if(c.event.fixHooks){for(var e=d.length;e;){c.event.fixHooks[d[--e]]=c.event.mouseHooks;}}var f=c.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener){for(var m=k.length;m;){this.addEventListener(k[--m],l,false);}}else{this.onmousewheel=l;}c.data(this,"mousewheel-line-height",f.getLineHeight(this));c.data(this,"mousewheel-page-height",f.getPageHeight(this));},teardown:function(){if(this.removeEventListener){for(var m=k.length;m;){this.removeEventListener(k[--m],l,false);}}else{this.onmousewheel=null;}c.removeData(this,"mousewheel-line-height");c.removeData(this,"mousewheel-page-height");},getLineHeight:function(m){var i=c(m),n=i["offsetParent" in c.fn?"offsetParent":"parent"]();if(!n.length){n=c("body");}return parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16;},getPageHeight:function(i){return c(i).height();},settings:{adjustOldDeltas:true,normalizeOffset:true}};c.fn.extend({mousewheel:function(i){return i?this.bind("mousewheel",i):this.trigger("mousewheel");},unmousewheel:function(i){return this.unbind("mousewheel",i);}});function l(i){var o=i||window.event,u=h.call(arguments,1),w=0,q=0,p=0,t=0,s=0,r=0;i=c.event.fix(o);i.type="mousewheel";if("detail" in o){p=o.detail*-1;}if("wheelDelta" in o){p=o.wheelDelta;}if("wheelDeltaY" in o){p=o.wheelDeltaY;}if("wheelDeltaX" in o){q=o.wheelDeltaX*-1;}if("axis" in o&&o.axis===o.HORIZONTAL_AXIS){q=p*-1;p=0;}w=p===0?q:p;if("deltaY" in o){p=o.deltaY*-1;w=p;}if("deltaX" in o){q=o.deltaX;if(p===0){w=q*-1;}}if(p===0&&q===0){return;}if(o.deltaMode===1){var v=c.data(this,"mousewheel-line-height");w*=v;p*=v;q*=v;}else{if(o.deltaMode===2){var n=c.data(this,"mousewheel-page-height");w*=n;p*=n;q*=n;}}t=Math.max(Math.abs(p),Math.abs(q));if(!b||t<b){b=t;if(a(o,t)){b/=40;}}if(a(o,t)){w/=40;q/=40;p/=40;}w=Math[w>=1?"floor":"ceil"](w/b);q=Math[q>=1?"floor":"ceil"](q/b);p=Math[p>=1?"floor":"ceil"](p/b);if(f.settings.normalizeOffset&&this.getBoundingClientRect){var m=this.getBoundingClientRect();s=i.clientX-m.left;r=i.clientY-m.top;}i.deltaX=q;i.deltaY=p;i.deltaFactor=b;i.offsetX=s;i.offsetY=r;i.deltaMode=0;u.unshift(i,w,q,p);if(j){clearTimeout(j);}j=setTimeout(g,200);return(c.event.dispatch||c.event.handle).apply(this,u);}function g(){b=null;}function a(m,i){return f.settings.adjustOldDeltas&&m.type==="mousewheel"&&i%120===0;}}));var FigureLightbox={};(function(a){FigureLightbox={lbContainerSelector:"#figure-lightbox-container",lbSelector:"#figure-lightbox",lbTemplateSelector:"#figure-lightbox-template",contextTemplateSelector:"#image-context-template",lbCloseButtonSelector:"#figure-lightbox .lb-close",zoomRangeSelector:"#figure-lightbox .range-slider",$panZoomEl:null,imgData:null,maxPanzoomScale:200,imgPath:WombatConfig.figurePath||"IMG_PATH_NOT_LOADED"};FigureLightbox.insertLightboxTemplate=function(){var b=this.fetchArticleData();var c=_.template(a(this.lbTemplateSelector).html());a(this.lbContainerSelector).append(c(b));};FigureLightbox.fetchArticleData=function(){var b=a(".article");return{doi:this.imgData.doi,strippedDoi:this.imgData.strippedDoi,articleTitle:b.find("#artTitle").text(),authorList:b.find(".author-name").text(),figureList:this.imgList};};FigureLightbox.fetchImageData=function(){return{doi:this.imgData.doi,strippedDoi:this.imgData.strippedDoi,title:this.imgData.imgElement.find(".figcaption").html(),description:this.imgData.imgElement.find(".caption_target").nextUntil(".caption_object").map(function(b,c){return a(c).html();}).toArray().join("\n"),fileSizes:{original:this.imgData.imgElement.find('.file-size[data-size="original"]').text(),large:this.imgData.imgElement.find('.file-size[data-size="large"]').text()}};};FigureLightbox.bindBehavior=function(){var b=this;a(document).on("keyup.figure-lightbox",function(c){if(a(b.lbSelector).hasClass("open")){switch(c.which){case 27:b.close();break;case 37:b.prevImage();break;case 38:b.prevImage();break;case 39:b.nextImage();break;case 40:b.nextImage();break;default:return;}c.preventDefault();}});a(this.lbContainerSelector).data("is-inited",true).find(this.lbCloseButtonSelector).on("click",function(){b.close();}).end().find(".change-img").on("click",function(){b.switchImage(this.getAttribute("data-doi"));}).end().find(".all-fig-btn").on("click",function(){var c=a("#figures-list");if(c.hasClass("figures-list-open")){c.removeClass("figures-list-open");}else{c.addClass("figures-list-open");}}).end().find("#figures-list").on("mousewheel",function(c){c.stopPropagation();}).end().find("#image-context").on("click","a.target_link",function(){target=a(this).attr("href");b.close();}).end().find("#image-context").on("click",".show-context",function(){b.close();}).end().find(".next-fig-btn:not(.fig-btn-disabled)").on("click",function(){return b.nextImage();}).end().find(".prev-fig-btn:not(.fig-btn-disabled)").on("click",function(){return b.prevImage();}).end().find("#image-context").on("click","#view-more, #view-less",function(){b.toggleDescription();}).end().find(".reset-zoom-btn").on("click",function(){return b.resetZoom();}).end().find("#lb-zoom-min").on("click",function(){b.zoomOut();}).end().find("#lb-zoom-max").on("click",function(){b.zoomIn();}).end().on("image-switch.lightbox",function(f,d){var c=a(b.lbSelector).find(".fig-btn").show();if(d.index===0){c.filter(".prev-fig-btn").addClass("fig-btn-disabled");}else{c.filter(".prev-fig-btn").removeClass("fig-btn-disabled");}if(d.index===(b.imgList.length-1)){c.filter(".next-fig-btn").addClass("fig-btn-disabled");}else{c.filter(".next-fig-btn").removeClass("fig-btn-disabled");}b.truncateDescription();});};FigureLightbox.nextImage=function(){var b=this.getCurrentImageIndex()+1;var c=this.imgList[b];if(!c){return false;}this.scrollDrawerToIndex(b);this.switchImage(c.getAttribute("data-doi"));};FigureLightbox.prevImage=function(){var c=this.getCurrentImageIndex()-1;var b=this.imgList[c];if(!b){return false;}this.scrollDrawerToIndex(c);this.switchImage(b.getAttribute("data-doi"));};FigureLightbox.scrollDrawerToIndex=function(c){var d=a(this.lbSelector+" #figures-list");var b=d.find(".change-img:eq("+c+")").position().top;if(d.hasClass("figures-list-open")){d.scrollTop(d.scrollTop()+b);}};FigureLightbox.getCurrentImageIndex=function(){var c=this;var b=null;this.imgList.each(function(d,e){if(e.getAttribute("data-doi")===c.imgData.strippedDoi){b=d;return false;}});return b;};FigureLightbox.switchImage=function(h,d){var c={descriptionExpanded:this.descriptionExpanded||false};d=a.extend(c,d);this.imgData={doi:h};this.imgData.strippedDoi=this.imgData.doi.replace(/^info:doi\//,"");var b=this.getCurrentImageIndex();this.imgData.imgElement=a(this.imgList[b]);a(this.lbSelector+" #figures-list").find(".change-img-active").removeClass("change-img-active").end().find(".change-img:eq("+b+")").addClass("change-img-active");var i=this.fetchImageData();var e={showInContext:this.showInContext};var f=a.extend(i,e,d);var g=_.template(a(this.contextTemplateSelector).html());a(this.lbSelector+" #image-context").children().remove().end().append(g(f)).find('#figure-description-wrapper a[href^="#"]').addClass("target_link");if(this.descriptionExpanded){this.retractDescription();}this.renderImg(this.imgData.doi);if(!this.descriptionExpanded){this.truncateDescription();}a(this.lbContainerSelector).trigger("image-switch.lightbox",{index:b,element:this.imgData.imgElement});};FigureLightbox.truncateDescription=function(){var b=a(this.lbSelector+" #view-more-wrapper");b.dotdotdot({after:"#view-more",watch:true}).data("is-truncated",true);};FigureLightbox.toggleDescription=function(){if(this.descriptionExpanded){this.retractDescription();}else{this.expandDescription();}};FigureLightbox.expandDescription=function(){this.descriptionExpanded=true;var b=300;var c=500;a("#view-more-wrapper,#show-context-container, #download-buttons").stop(true,true).fadeOut(b,function(){a("#view-less-wrapper").fadeIn(c);a("#image-context").addClass("full-display");});this.descriptionExpanded=true;};FigureLightbox.retractDescription=function(){var c=this;var b=300;a("#view-less-wrapper").stop(true,true).fadeOut(b,function(){a("#image-context").removeClass("full-display");a("#view-more-wrapper,#show-context-container, #download-buttons").fadeIn(b);a("#view-less-wrapper").trigger("update");});this.descriptionExpanded=false;};FigureLightbox.isInited=function(){return a(this.lbContainerSelector).data("is-inited");};FigureLightbox.loadImage=function(c,d,b){a(this.lbContainerSelector).trigger("opened.lightbox");this.lbContainerSelector=c||this.lbContainerSelector;this.imgData={doi:d};this.imgData.strippedDoi=this.imgData.doi.replace(/^info:doi\//,"");if(!this.isInited()){this.imgList=a(".figure");this.insertLightboxTemplate();this.bindBehavior();}a(this.lbSelector).foundation("reveal","open");this.switchImage(this.imgData.doi);if(typeof b==="function"){b();}};FigureLightbox.renderImg=function(d){var c=this;this.showLoader();var b=a(this.lbSelector).find("img.main-lightbox-image").attr("src",this.buildImgUrl(d)).one("load",function(){c.resetZoom();c.hideLoader();});this.panZoom(b);a(document).foundation("slider","reflow");};FigureLightbox.showLoader=function(){a(this.lbSelector).find(".loader").addClass("showing");};FigureLightbox.hideLoader=function(){a(this.lbSelector).find(".loader").removeClass("showing");};FigureLightbox.close=function(){this.destroy();a(this.lbSelector).foundation("reveal","close");a(this.lbContainerSelector).trigger("closed.lightbox");};FigureLightbox.showInContext=function(b){b=b.split("/");b=b[1].slice(8);b=b.replace(/\./g,"-");return"#"+b;};FigureLightbox.panZoom=function(b){var c=this;this.$panZoomEl=b.panzoom({contain:false,minScale:1,maxScale:c.maxPanzoomScale/20,});this.bindPanZoomToSlider();this.bindSliderToPanZoom();this.$panZoomEl.parent().off("mousewheel").on("mousewheel",function(f){f.preventDefault();a(c.lbContainerSelector).trigger("mousewheel-zoom.lightbox",f);var g=f.delta||f.originalEvent.wheelDelta;var d=g?g<0:f.originalEvent.deltaY>0;c.zoom(d,f);});};FigureLightbox.zoomIn=function(){this.zoom(false);};FigureLightbox.zoomOut=function(){this.zoom(true);};FigureLightbox.resetZoom=function(){this.$panZoomEl.panzoom("reset",false);};FigureLightbox.calculateViewportDimensions=function(){var d=a(this.lbSelector).find(".img-container").height();var c=a(this.lbSelector).find("#lightbox-footer").height();var b=a(this.lbSelector).find(".lb-header").height();return{width:a(this.lbSelector).find(".img-container").width(),height:d-b-c};};FigureLightbox.calculateFocalPoint=function(){var c=a(this.lbSelector).find(".img-container");var b={clientX:c.width()/2,clientY:c.height()/2};return b;};FigureLightbox.zoom=function(c){c=c||false;var b=this.calculateFocalPoint();this.$panZoomEl.panzoom("zoom",c,{increment:0.05,animate:false,focal:b});};FigureLightbox.calculateImageInitialPosition=function(){var f=this.calculateViewportDimensions();var b=this.$panZoomEl.height();var d=this.$panZoomEl.width();var g=(f.height-b)/2;var h=(f.width-d)/2;var e=this.$panZoomEl.panzoom("instance");var c=e.getMatrix();c[4]=h;c[5]=g;e.setMatrix(c);};FigureLightbox.bindPanZoomToSlider=function(){var c=this;var b=c.$panZoomEl.panzoom("instance");a(this.zoomRangeSelector).off("change.fndtn.slider").on("change.fndtn.slider",function(){var g=b.getMatrix();var h=parseFloat(this.getAttribute("data-slider")/20);if(g[0]!==h||g[3]!==h){a(c.lbContainerSelector).trigger("slider-zoom.lightbox");var f=false;var d=0;var e=c.calculateFocalPoint();if(h>g[3]){d=h-g[3];}else{f=true;d=g[3]-h;}c.$panZoomEl.panzoom("zoom",f,{increment:d,animate:false,focal:e});}});};FigureLightbox.bindSliderToPanZoom=function(){var b=this;this.$panZoomEl.off("panzoomzoom").on("panzoomzoom",function(d,c,f){a(b.zoomRangeSelector).foundation("slider","set_value",f*20);b.bindPanZoomToSlider();});this.$panZoomEl.off("panzoomreset").on("panzoomreset",function(c){a(b.zoomRangeSelector).foundation("slider","set_value",20);b.bindPanZoomToSlider();b.calculateImageInitialPosition();});};FigureLightbox.buildImgUrl=function(e,c){var b={path:this.imgPath,size:"large"};c=_.extend(b,c);var d=c.path.indexOf("?")===-1?"?size=":"&size=";return c.path+d+c.size+"&id="+e;};FigureLightbox.destroy=function(){};})(jQuery);(function(c){var f,d;var b=c(".article-content");c("#nav-article").buildNav({content:b});c("#nav-article").floatingNav({content:b});var a=c("#artText .figure").length;if(a){c("#figure-carousel-section").buildFigureCarousel({});}function e(i){var j=[" Bytes","KB","MB","GB","TB","PB"];var g=1000;var l=j.indexOf("MB");var h=100;var m=i;var k=0;for(;k<j.length;k++){if(m>=g){m/=g;}else{break;}}m=(k<l)?Math.round(m):Math.round(m*h)/h;return m+j[k];}c.fn.populateFileSizes=function(g){if(a){c(".file-size").each(function(j,m){var l=c(m);var i=l.attr("data-doi");var h=l.attr("data-size");var k=g[i][h];l.text("("+e(k)+")");});}};c(".table-download").on("click",function(){var g=c(this).parent(),h=c(this).data("tableopen");return tableOpen(h,"CSV",g);});c(".table-wrap .expand").on("click",function(){var g=c(this).parent(),h=c(this).data("tableopen");return tableOpen(h,"HTML",g);});f=function(){function h(k){var j;var l=k.indexOf("[");var i=k.indexOf("]");if(l===-1&&i===-1){j=k;}else{if(l===0&&i===-1){j=k.slice(1);}else{if(l===-1&&i!==-1){j=k.slice(0,-1);}else{j=k.slice(1,-1);}}}return j;}function g(n,k,j,l){var m=n.indexOf(k);var i;if(m===-1){i=n;return i;}else{l=m-l;i=n.slice(j,l);return i;}}c(".ref-tip").hover(function(){var r=c(this);var j=r.position();var s=r.width();var l=r.text();l=h(l);var o="#ref"+l;var i=c(o).html();i=g(i,"reflinks",0,11);var q=c(".ref-tooltip");var m=q.find(".ref_tooltip-content").html(i);var n=j.top;var p=j.left;var t=q.height();var k=q.width();n=(n-t)-20;p=p-(k-s)/2;q.css({top:n,left:p}).html(m).fadeIn("fast");},function(){c(".ref-tooltip").fadeOut("fast");});};d=f();})(jQuery);